// [AIV]  Build version: 2.0.0-alpha.3.1 - Monday, August 7th, 2017, 12:32:18 PM  
 var Bindery=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return"📖-"+e},o=function(e){return"."+r(e)},i=function(e){return"."===e[0]?o(e.substr(1)):r(e)};t.default=i},function(e,t,n){function r(){function e(){function e(n){var l;if(null==n);else if("string"==typeof n)r?r.appendChild(l=d.createTextNode(n)):function(e){var t=s(e,/([\.#]?[^\s#.]+)/);/^\.|#/.test(t[1])&&(r=d.createElement("div")),i(t,function(e){var t=e.substring(1,e.length);e&&(r?"."===e[0]?u(r).add(t):"#"===e[0]&&r.setAttribute("id",t):r=d.createElement(e))})}(n);else if("number"==typeof n||"boolean"==typeof n||n instanceof Date||n instanceof RegExp)r.appendChild(l=d.createTextNode(n.toString()));else if(a(n))i(n,e);else if(o(n))r.appendChild(l=n);else if(n instanceof c)r.appendChild(l=n);else if("object"==typeof n)for(var f in n)if("function"==typeof n[f])/^on\w+/.test(f)?function(e,n){r.addEventListener?(r.addEventListener(e.substring(2),n[e],!1),t.push(function(){r.removeEventListener(e.substring(2),n[e],!1)})):(r.attachEvent(e,n[e]),t.push(function(){r.detachEvent(e,n[e])}))}(f,n):(r[f]=n[f](),t.push(n[f](function(e){r[f]=e})));else if("style"===f)if("string"==typeof n[f])r.style.cssText=n[f];else for(var p in n[f])!function(e,o){if("function"==typeof o)r.style.setProperty(e,o()),t.push(o(function(t){r.style.setProperty(e,t)}));else var i=n[f][e].match(/(.*)\W+!important\W*$/);i?r.style.setProperty(e,i[1],"important"):r.style.setProperty(e,n[f][e])}(p,n[f][p]);else if("attrs"===f)for(var h in n[f])r.setAttribute(h,n[f][h]);else"data-"===f.substr(0,5)?r.setAttribute(f,n[f]):r[f]=n[f];else if("function"==typeof n){var h=n();r.appendChild(l=o(h)?h:d.createTextNode(h)),t.push(n(function(e){o(e)&&l.parentElement?(l.parentElement.replaceChild(e,l),l=e):l.textContent=e}))}return l}for(var n=[].slice.call(arguments),r=null;n.length;)e(n.shift());return r}var t=[];return e.cleanup=function(){for(var e=0;e<t.length;e++)t[e]();t.length=0},e}function o(e){return e&&e.nodeName&&e.nodeType}function i(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n)}function a(e){return"[object Array]"==Object.prototype.toString.call(e)}var s=n(8),u=n(9),l="undefined"==typeof window?n(11):window,d=l.document,c=l.Text;(e.exports=r()).context=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function e(t){var n=this;r(this,e),this.name=t.name?t.name:"Unnamed Bindery Rule",this.selector="",Object.keys(t).forEach(function(e){n[e]=t[e]})};t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),s=r(a),u=n(4),l=n(0),d=r(l),c=function(){function e(){o(this,e),this.flowContent=(0,s.default)((0,d.default)(".content")),this.flowBox=(0,s.default)((0,d.default)(".flowbox"),this.flowContent),this.footer=(0,s.default)((0,d.default)(".footer")),this.bleed=(0,s.default)((0,d.default)(".bleed")),this.element=(0,s.default)((0,d.default)(".page"),{style:e.sizeStyle()},this.bleed,this.flowBox,this.footer)}return i(e,[{key:"overflowAmount",value:function(){var e=this.flowContent.offsetHeight,t=this.flowBox.offsetHeight;if(0===t)throw Error("Bindery: Trying to flow into a box of zero height.");return e-t}},{key:"hasOverflowed",value:function(){return this.overflowAmount()>-5}},{key:"setLeftRight",value:function(e){if("left"===e)this.side=e,this.element.classList.remove((0,d.default)("right")),this.element.classList.add((0,d.default)("left"));else{if("right"!==e)throw Error("Bindery: Setting page to invalid direction"+e);this.side=e,this.element.classList.remove((0,d.default)("left")),this.element.classList.add((0,d.default)("right"))}}},{key:"setPreference",value:function(e){"left"===e&&(this.alwaysLeft=!0),"right"===e&&(this.alwaysRight=!0)}},{key:"setOutOfFlow",value:function(e){this.outOfFlow=e}},{key:"suppressErrors",get:function(){return this.suppress||!1},set:function(e){this.suppress=e,e?this.element.classList.add((0,d.default)("is-overflowing")):this.element.classList.remove((0,d.default)("is-overflowing"))}},{key:"isEmpty",get:function(){return""===this.element.textContent.trim()}},{key:"isLeft",get:function(){return"left"===this.side}},{key:"isRight",get:function(){return"right"===this.side}}],[{key:"isSizeValid",value:function(){document.body.classList.remove((0,d.default)("viewing"));var t=new e,n=document.querySelector((0,d.default)(".measure-area"));n||(n=document.body.appendChild((0,s.default)((0,d.default)(".measure-area")))),n.innerHTML="",n.appendChild(t.element);var r=t.flowBox.getBoundingClientRect();return n.parentNode.removeChild(n),r.height>100&&r.width>100}},{key:"setSize",value:function(t){e.W=t.width,e.H=t.height}},{key:"sizeStyle",value:function(){return{height:e.H,width:e.W}}},{key:"spreadSizeStyle",value:function(){var t=(0,u.parseVal)(e.W);return{height:e.H,width:""+2*t.val+t.unit}}},{key:"setMargin",value:function(e){var t=void 0,n=document.querySelector("#bindery-margin-stylesheet");n?t=n:(t=document.createElement("style"),t.id="bindery-margin-stylesheet"),t.innerHTML="\n      "+(0,d.default)(".flowbox")+",\n      "+(0,d.default)(".footer")+" {\n        margin-left: "+e.inner+";\n        margin-right: "+e.outer+";\n      }\n      "+(0,d.default)(".left")+" "+(0,d.default)(".flowbox")+",\n      "+(0,d.default)(".left")+" "+(0,d.default)(".footer")+" {\n        margin-left: "+e.outer+";\n        margin-right: "+e.inner+";\n      }\n\n      "+(0,d.default)(".left")+" "+(0,d.default)(".running-header")+" {\n        left: "+e.outer+";\n      }\n      "+(0,d.default)(".right")+" "+(0,d.default)(".running-header")+" {\n        right: "+e.outer+";\n      }\n\n      "+(0,d.default)(".flowbox")+" { margin-top: "+e.top+"; }\n      "+(0,d.default)(".footer")+"{ margin-bottom: "+e.bottom+"; }\n    ",document.head.appendChild(t)}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={px:1,in:96,pt:4/3,pc:16,mm:25.4/96,cm:25.4/96*10},o=function(e,t){return e*r[t]},i=function(e,t){return e/r[t]},a=function(e,t,n){return i(o(e,t),n)},s=/^([+-]?[0-9]+.?([0-9]+)?)(px|in|cm|mm|pt|pc)$/,u=function(e){return s.test(e)},l=function(e){Object.keys(e).forEach(function(t){if(!u(e[t]))throw"number"==typeof e[t]?Error("Size is missing units { "+t+": "+e[t]+" }"):Error("Invalid size { "+t+": "+e[t]+" }")})},d=function(e){var t=e.match(s);return{val:Number(t[1]),unit:t[3]}},c=function(e){var t=d(e);return o(t.val,t.unit)},f=function(e,t){var n=d(e);return""+i(o(n.val,n.unit),t)+t};t.cssNumberPattern="^([+-]?[0-9]+.?([0-9]+)?)(px|in|cm|mm|pt|pc)$",t.parseVal=d,t.isValidLength=u,t.isValidSize=l,t.convert=a,t.convertStrToStr=f,t.convertStrToPx=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(e){function t(e){return r(this,t),e.name="Footnote",o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),a(t,[{key:"afterAdd",value:function(e,t,n,r){var o=e.parentNode;if(!o)throw Error("Bindery: Rule assumes element has been added but it has no parent.",e);var i=e.cloneNode(!0),a=this.createReplacement(t,i);return o.replaceChild(a,e),t.currentPage.hasOverflowed()?(o.replaceChild(e,a),r(e)):a}},{key:"createReplacement",value:function(e,t){return this.replace(t)}},{key:"replace",value:function(e){return e.insertAdjacentHTML("beforeEnd",'<sup class="bindery-sup">Default Replacement</sup>'),e}}]),t}(u.default);t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(7),u=r(s),l=n(3),d=r(l),c=n(16),f=r(c),p=n(22),h=r(p),g=n(4),b=n(0),v=r(b),m=n(24),y=r(m);n(32);var w={width:"288pt",height:"432pt"},x={inner:"24pt",outer:"32pt",bottom:"54pt",top:"48pt"},k=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n+=1)if(e[n]!==t[n])return!1;return!0},C=function(){function e(t){var n=this;o(this,e),console.log("Bindery 2.0.0-alpha.3.1"),this.autorun=t.autorun||!0,this.autoupdate=t.autoupdate||!1,this.debug=t.debug||!1;var r=t.pageSize||w,a=t.pageMargin||x;if(this.setSize(r),this.setMargin(a),this.viewer=new f.default,t.startingView&&this.viewer.setMode(t.startingView),this.rules=[],t.rules&&this.addRules(t.rules),t.source)if("string"==typeof t.source){if(this.source=document.querySelector(t.source),!(this.source instanceof HTMLElement))return this.viewer.displayError("Source not specified",'Could not find element that matches selector "'+t.source+'"'),void console.error('Bindery: Could not find element that matches selector "'+t.source+'"');this.autorun&&this.makeBook()}else if("object"===i(t.source)&&t.source.url){var s=t.source.url,u=t.source.selector;fetch(t.source.url).then(function(e){if(404===e.status)n.viewer.displayError("404",'Could not find file at "'+s+'"');else if(200===e.status)return e.text();return""}).then(function(e){var t=document.createElement("div");if(t.innerHTML=e,n.source=t.querySelector(u),!(n.source instanceof HTMLElement))return n.viewer.displayError("Source not specified",'Could not find element that matches selector "'+u+'"'),void console.error('Bindery: Could not find element that matches selector "'+u+'"');n.autorun&&n.makeBook()}).catch(function(e){console.error(e),"file"===window.location.href.split("://")[0]&&n.viewer.displayError("Can't fetch content from \""+s+'"',"Web pages can't fetch content unless they are on a server.")})}else t.source instanceof HTMLElement?(this.source=t.source,this.autorun&&this.makeBook()):console.error("Bindery: Source must be an element or selector");else this.viewer.displayError("Source not specified","You must include a source element, selector, or url"),console.error("Bindery: You must include a source element or selector")}return a(e,[{key:"cancel",value:function(){this.stopCheckingLayout(),this.viewer.cancel(),document.body.classList.remove((0,v.default)("viewing")),this.source.style.display=""}},{key:"setSize",value:function(e){(0,g.isValidSize)(e),this.pageSize=e,d.default.setSize(e)}},{key:"setMargin",value:function(e){(0,g.isValidSize)(e),this.pageMargin=e,d.default.setMargin(e)}},{key:"isSizeValid",value:function(){return d.default.isSizeValid()}},{key:"addRules",value:function(e){var t=this;e.forEach(function(e){if(!(e instanceof y.default.Rule))throw Error("Bindery: The following is not an instance of Bindery.Rule and will be ignored: "+e);t.rules.push(e)})}},{key:"makeBook",value:function(e){var t=this;if(!this.source)return void document.body.classList.add((0,v.default)("viewing"));if(!this.isSizeValid()){var n=this.pageSize.width,r=this.pageSize.height,o="{ width: "+n+", height: "+r+" }",i=this.pageMargin.inner,a=this.pageMargin.outer,s=this.pageMargin.top,l=this.pageMargin.bottom,d="{ top: "+s+", inner: "+i+", outer: "+a+", bottom: "+l+" }";return this.viewer.displayError("Page is too small","Size: "+o+" \n Margin: "+d+" \n Try adjusting the sizes or units."),void console.error("Bindery: Cancelled pagination. Page is too small.")}this.stopCheckingLayout(),this.source.style.display="";var c=this.source.cloneNode(!0);this.source.style.display="none",this.viewer.clear(),document.body.classList.add((0,v.default)("viewing")),document.body.classList.add((0,v.default)("in-progress")),this.controls||(this.controls=new h.default({binder:this})),this.controls.setInProgress(),(0,u.default)(c,this.rules,function(n){setTimeout(function(){t.viewer.book=n,t.viewer.update(),t.controls.setDone(),e&&e(),document.body.classList.remove((0,v.default)("in-progress")),t.startCheckingLayout()},100)},function(e){t.controls.updateProgress(e)},function(e){document.body.classList.remove((0,v.default)("in-progress")),t.viewer.displayError("Layout couldn't complete",e)},this.debug)}},{key:"startCheckingLayout",value:function(){var e=this;this.autoupdate&&(this.layoutChecker=setInterval(function(){e.checkLayoutChange()},500))}},{key:"stopCheckingLayout",value:function(){this.layoutChecker&&(clearInterval(this.layoutChecker),this.pageOverflows=null)}},{key:"checkLayoutChange",value:function(){if("grid"===this.viewer.mode){if(!this.pageOverflows)return void(this.pageOverflows=this.getPageOverflows());var e=this.getPageOverflows();k(e,this.pageOverflows)||(this.throttledUpdateBook(),this.pageOverflows=e)}}},{key:"throttledUpdateBook",value:function(){var e=this;this.makeBookTimer&&clearTimeout(this.makeBookTimer),this.makeBookTimer=setTimeout(function(){e.makeBook()},500)}},{key:"getPageOverflows",value:function(){return this.viewer.pages.map(function(e){return e.overflowAmount()})}}],[{key:"makeBook",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.autorun=!t.autorun||t.autorun,new e(t)}}]),e}();Object.keys(y.default).forEach(function(e){C[e]=y.default[e]}),e.exports=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i),s=n(12),u=r(s),l=n(0),d=r(l),c=n(13),f=n(14),p=r(f),h=n(15),g=r(h),b=n(3),v=r(b),m=function(e){return e[e.length-1]},y=function(e,t){for(var n=e,r=1;r<n.length-1;r+=2){var o=n[r];o.alwaysRight&&(o.outOfFlow?(n[r]=e[r+1],n[r+1]=o):e.splice(r,0,t()));var i=n[r+1];i.alwaysLeft&&(i.outOfFlow?(n[r+1]=e[r+3],n[r+3]=i):e.splice(r+1,0,new v.default))}return n},w=function(e){e.forEach(function(e,t){e.number=t+1,e.setLeftRight(t%2==0?"right":"left")});var t={h1:"",h2:"",h3:"",h4:"",h5:"",h6:""};e.forEach(function(e){e.heading={},Object.keys(t).forEach(function(n,r){var o=e.element.querySelector(n);o&&(t[n]=o.textContent,Object.keys(t).forEach(function(e,n){n>r&&(t[e]="")})),""!==t[n]&&(e.heading[n]=t[n])})})},x=function(e,t,n,r,i,s){var l={breadcrumb:[],pages:[],book:new p.default},f=window.performance.now(),h=document.body.appendChild((0,a.default)((0,d.default)(".measure-area")));s&&h.classList.add((0,d.default)("debugging"));var b=function(e){e.classList.add((0,d.default)("continues")),t.filter(function(e){return e.customContinuesClass}).forEach(function(t){return e.classList.add(t.customContinuesClass)})},x=function(e){e.classList.add((0,d.default)("continuation")),t.filter(function(e){return e.customContinuationClass}).forEach(function(t){return e.classList.add(t.customContinuationClass)})},k=function(e){for(var t=[],n=e.length-1;n>=0;n-=1){var r=e[n],o=r.cloneNode(!1);if(o.innerHTML="",b(r),x(o),o.id,"OL"===o.tagName){var i=1;r.hasAttribute("start")&&(i=parseInt(r.getAttribute("start"),10)),n<e.length-1&&"LI"===e[n+1].tagName&&(i-=1);var a=r.children.length,s=i+a;o.setAttribute("start",s)}n<e.length-1&&o.appendChild(t[n+1]),t[n]=o}return t},C=new g.default(s),E=function(e){t.forEach(function(t){t.afterPageCreated&&t.afterPageCreated(e,l)})},P=function(){var e=new v.default,t=s&&(0,c.scrollPct)(h)>.9;return h.appendChild(e.element),t&&(0,c.scrollToBottom)(h),E(e),e},M=function(){if(l.currentPage&&l.currentPage.hasOverflowed()&&(console.warn("Bindery: Page overflowing",l.currentPage.element),!l.currentPage.suppressErrors))throw Error("Bindery: Moved to new page when last one is still overflowing");if(500===l.pages.length)console.warn("Bindery: More than 500 pages, performance may be slow.");else if(1e3===l.pages.length)console.warn("Bindery: More than 1000 pages, performance may be slow.");else if(l.pages.length>9999)throw i("Maximum page count exceeded"),Error("Bindery: Maximum page count exceeded. Suspected runaway layout.");l.breadcrumb=k(l.breadcrumb);var e=P();if(l.pages.push(e),l.currentPage=e,l.breadcrumb[0]&&e.flowContent.appendChild(l.breadcrumb[0]),e.hasOverflowed()){var t=m(l.breadcrumb);t?(console.error("Bindery: NextPage already overflowing, probably due to a style set on "+(0,u.default)(t)+". It may not fit on the page."),t.parentNode.removeChild(t)):console.error("Bindery: NextPage already overflowing.")}return r(l.pages.length),e},L=function(e){var n=e;t.forEach(function(e){e.selector&&n.matches(e.selector)&&e.beforeAdd&&(n=e.beforeAdd(n,l,M))})},_=t.filter(function(e){return e.selector&&e.afterAdd}),O=function(e){var t=e;_.forEach(function(e){t.matches(e.selector)&&(t=e.afterAdd(t,l,M,function(t){return t.parentNode.removeChild(t),M(),m(l.breadcrumb).appendChild(t),e.afterAdd(t,l,M,function(){console.log("Couldn't apply "+e.name+" to "+(0,u.default)(t)+". Caused overflows twice.")})}))})},S=function(e){t.forEach(function(t){t.afterBind&&e.pages.forEach(function(n){t.afterBind(n,e)})})},j=t.filter(function(e){return e.avoidSplit}).map(function(e){return e.selector}),z=function e(t){return j.some(function(e){return t.matches(e)})?!!t.hasAttribute("data-bindery-did-move")||!!t.classList.contains((0,d.default)("continuation")):!t.parentElement||e(t.parentElement)},T=function(e){l.breadcrumb.pop();for(var t=e,n=[];!z(m(l.breadcrumb));)t=l.breadcrumb.pop(),n.unshift(t);t.setAttribute("data-bindery-did-move",!0);var r=t.parentNode;r.removeChild(t),""===m(l.breadcrumb).textContent.trim()&&(r.appendChild(t),t=l.breadcrumb.pop(),n.unshift(t),t.parentNode.removeChild(t)),l.currentPage.isEmpty,M(),m(l.breadcrumb).appendChild(t),n.forEach(function(e){l.breadcrumb.push(e)}),l.breadcrumb.push(e)},B=function(e,t,n){m(l.breadcrumb).appendChild(e),l.currentPage.hasOverflowed()?(e.parentNode.removeChild(e),n()):C.throttle(t)},A=function(e,t,n){var r=e.nodeValue,o=e;if(m(l.breadcrumb).appendChild(o),!l.currentPage.hasOverflowed())return void C.throttle(t);var i=0;!function e(){if(o.nodeValue=r.substr(0,i),l.currentPage.hasOverflowed()){for(" "===r.charAt(i)&&(i-=1);" "!==r.charAt(i)&&i>0;)i-=1;if(i<1)return o.nodeValue=r,o.parentNode.removeChild(o),void n();var a=r.substr(0,i),s=r.substr(i);return o.nodeValue=a,(r=s,i=0,M(),o=document.createTextNode(r),m(l.breadcrumb).appendChild(o),l.currentPage.hasOverflowed())?void C.throttle(e):void C.throttle(t)}if(i>r.length-1)return void C.throttle(t);for(i+=1;" "!==r.charAt(i)&&i<r.length;)i+=1;C.throttle(e)}()},R=function(e,t,n){var r=function(){m(l.breadcrumb).appendChild(t),l.currentPage.suppressErrors=!0,M(),C.throttle(n)};if(z(e)){A(t,n,function(){T(e),A(t,n,r)})}else{B(t,n,function(){T(e),B(t,n,r)})}},H=function(e,t,n){if("SCRIPT"===t.tagName)return void n();L(t),C.throttle(function(){F(t,function(){var e=l.breadcrumb.pop();e.classList.contains((0,d.default)("continuation"))&&0===e.children.length?e.parentNode.removeChild(e):O(e),l.currentPage.hasOverflowed(),n()})})},F=function(e,t){l.currentPage.hasOverflowed()&&console.error("Bindery: Trying to add node to a page that's already overflowing"),0===l.breadcrumb.length?l.currentPage.flowContent.appendChild(e):m(l.breadcrumb).appendChild(e),l.breadcrumb.push(e);var n=[].concat(o(e.childNodes));e.innerHTML="",l.currentPage.hasOverflowed()&&T(e);var r=0;!function o(){if(!(r<n.length))return void t();var i=n[r];r+=1,i.nodeType===Node.TEXT_NODE?R(e,i,o):i.nodeType===Node.ELEMENT_NODE?H(0,i,o):o()}()},N=function(){document.body.removeChild(h);var e=y(l.pages,P);w(e),l.book.pages=e,l.book.setCompleted(),S(l.book);var t=window.performance.now();console.log("Bindery: Pages created in "+(t-f)/1e3+"s"),n(l.book)};e.style.margin=0,e.style.padding=0,M(),F(e,N)};t.default=x},function(e,t){/*!
 * Cross-Browser Split 1.1.1
 * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
 * Available under the MIT License
 * ECMAScript compliant, uniform cross-browser split method
 */
e.exports=function(e){var t=String.prototype.split,n=/()??/.exec("")[1]===e;return function(r,o,i){if("[object RegExp]"!==Object.prototype.toString.call(o))return t.call(r,o,i);var a,s,u,l,d=[],c=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.extended?"x":"")+(o.sticky?"y":""),f=0,o=new RegExp(o.source,c+"g");for(r+="",n||(a=new RegExp("^"+o.source+"$(?!\\s)",c)),i=i===e?-1>>>0:i>>>0;(s=o.exec(r))&&!((u=s.index+s[0].length)>f&&(d.push(r.slice(f,s.index)),!n&&s.length>1&&s[0].replace(a,function(){for(var t=1;t<arguments.length-2;t++)arguments[t]===e&&(s[t]=e)}),s.length>1&&s.index<r.length&&Array.prototype.push.apply(d,s.slice(1)),l=s[0].length,f=u,d.length>=i));)o.lastIndex===s.index&&o.lastIndex++;return f===r.length?!l&&o.test("")||d.push(""):d.push(r.slice(f)),d.length>i?d.slice(0,i):d}}()},function(e,t,n){function r(e){function t(e){var t=d();a(t,e)>-1||(t.push(e),c(t))}function n(e){var t=d(),n=a(t,e);-1!==n&&(t.splice(n,1),c(t))}function r(e){return a(d(),e)>-1}function s(e){return r(e)?(n(e),!1):(t(e),!0)}function u(){return e.className}function l(e){return d()[e]||null}function d(){return o(e.className.split(" "),i)}function c(t){var n=t.length;e.className=t.join(" "),p.length=n;for(var r=0;r<t.length;r++)p[r]=t[r];delete t[n]}var f=e.classList;if(f)return f;var p={add:t,remove:n,contains:r,toggle:s,toString:u,length:0,item:l};return p}function o(e,t){for(var n=[],r=0;r<e.length;r++)t(e[r])&&n.push(e[r]);return n}function i(e){return!!e}var a=n(10);e.exports=r},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},function(e,t){},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){var t=e.tagName.toLowerCase(),n=e.id?"#"+e.id:"",o="";e.classList.length>0&&(o="."+[].concat(r(e.classList)).join("."));var i="";return n.length<1&&o.length<2&&(i='("'+e.textContent.substr(0,30).replace(/\s+/g," ")+'...")'),t+n+o+i};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e<.5?2*e*e:(4-2*e)*e-1},o=function(e){return(e.scrollTop+e.offsetHeight)/e.scrollHeight},i=function(e){var t=e.scrollTop,n=e.scrollHeight,o=n-t,i=0;!function n(){e.scrollTop=t+r(i)*o,(i+=.05)<1&&requestAnimationFrame(n)}()};t.scrollToBottom=i,t.scrollPct=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e),this.pages=[],this.queued=[],this.isComplete=!1}return o(e,[{key:"pagesForSelector",value:function(e){var t=[];return this.pages.forEach(function(n){n.element.querySelector(e)&&t.push(n.number)}),t}},{key:"firstPageForSelector",value:function(e,t){var n=this;this.onComplete(function(){var r=n.pagesForSelector(e)[0];t(r)})}},{key:"onComplete",value:function(e){this.isComplete?e():this.queued.push(e)}},{key:"setCompleted",value:function(){this.isComplete=!0,this.queued.forEach(function(e){e()})}},{key:"pageCount",get:function(){return this.pages.length}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){r(this,e),this.numberOfCalls=0,this.resumeLimit=1/0,this.callsSinceResume=0,this.queuedFunc=null,this.isPaused=!1,this.useDelay=t,this.delayTime=100,t&&(window.binderyDebug={pause:this.pause.bind(this),resume:this.resume.bind(this),resumeFor:this.resumeFor.bind(this),step:this.step.bind(this)},console.log("Bindery: Debug layout with the following: \nbinderyDebug.pause() \nbinderyDebug.resume()\n binderyDebug.resumeFor(n) // pauses after n steps, \nbinderyDebug.step()"))}return o(e,[{key:"throttle",value:function(e){this.callsSinceResume+=1,this.callsSinceResume>this.resumeLimit&&this.endResume(),this.isPaused?this.queuedFunc=e:this.useDelay?setTimeout(e,this.delayTime):this.numberOfCalls<500?(this.numberOfCalls+=1,e()):(this.numberOfCalls=0,requestAnimationFrame(e))}},{key:"pause",value:function(){return this.isPaused?"Already paused":(this.isPaused=!0,"Paused")}},{key:"resumeDelay",value:function(){this.useDelay=!0,this.resume()}},{key:"resumeFast",value:function(){this.useDelay=!1,this.resume()}},{key:"resume",value:function(){return this.isPaused?(this.isPaused=!1,this.queuedFunc?(this.queuedFunc(),this.queuedFunc=null,"Resuming"):"Layout complete"):"Already running"}},{key:"step",value:function(){if(this.isPaused||this.pause(),this.queuedFunc){this.queuedFunc();var e=this.queuedFunc.name;return this.queuedFunc=null,e}return"Layout complete"}},{key:"resumeFor",value:function(e){return this.callsSinceResume=0,this.resumeLimit=e,this.resume()}},{key:"endResume",value:function(){console.log("Paused after "+this.resumeLimit),this.resumeLimit=1/0,this.callsSinceResume=0,this.pause()}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),s=r(a),u=n(0),l=r(u),d=n(3),c=r(d),f=n(17),p=r(f),h=n(18),g=r(h),b=n(19),v=r(b),m=n(21),y=r(m),w="grid",x="arrange_two",k=function(e){var t=void 0,n=document.querySelector("#bindery-orientation-stylesheet");n?t=n:(t=document.createElement("style"),t.id="bindery-orientation-stylesheet"),t.innerHTML="@page { size: "+e+"; }",document.head.appendChild(t)},C=function(e){for(;e.length%4!=0;){var t=new c.default;t.element.style.visibility="hidden",e.push(t)}for(var n=[],r=e.length,o=0;o<r/2;o+=2)n.push(e[r-1-o]),n.push(e[o]),n.push(e[o+1]),n.push(e[r-2-o]);return n},E=function(e){if(e.length%2!=0){var t=new c.default;e.push(t)}var n=new c.default,r=new c.default;return n.element.style.visibility="hidden",r.element.style.visibility="hidden",e.unshift(n),e.push(r),e},P=function(){function e(){o(this,e),this.book=null,this.zoomBox=(0,s.default)((0,l.default)(".zoom-wrap"));var t=(0,s.default)((0,l.default)(".spinner"));this.export=(0,s.default)((0,l.default)(".export"),this.zoomBox,t),this.doubleSided=!0,this.printArrange=x,this.isShowingCropMarks=!0,this.isShowingBleedMarks=!1,this.setOrientation("landscape"),this.mode=w,this.currentLeaf=0,this.listenForPrint(),this.listenForResize(),document.body.appendChild(this.export)}return i(e,[{key:"listenForPrint",value:function(){var e=this;if(window.matchMedia){window.matchMedia("print").addListener(function(t){t.matches&&e.setPrint()})}}},{key:"listenForResize",value:function(){var e=this;window.addEventListener("resize",function(){e.throttleResize||(e.updateZoom(),e.throttleResize=setTimeout(function(){e.throttleResize=null},20))})}},{key:"setOrientation",value:function(e){e!==this.orientation&&(this.orientation=e,k(e),"print"===this.mode?this.update():this.setPrint())}},{key:"setPrintArrange",value:function(e){e!==this.printArrange&&(this.printArrange=e,"print"===this.mode?this.update():this.setPrint())}},{key:"displayError",value:function(e,t){this.export.parentNode||document.body.appendChild(this.export),this.error||(this.zoomBox.innerHTML="",this.error=(0,p.default)(e,t),this.zoomBox.appendChild(this.error))}},{key:"clear",value:function(){this.book=null,this.zoomBox.innerHTML=""}},{key:"cancel",value:function(){this.export.parentNode&&this.export.parentNode.removeChild(this.export)}},{key:"toggleGuides",value:function(){this.export.classList.toggle((0,l.default)("show-guides"))}},{key:"toggleBleed",value:function(){this.export.classList.add((0,l.default)("show-bleed"))}},{key:"toggleDouble",value:function(){this.doubleSided=!this.doubleSided,this.update()}},{key:"setMode",value:function(e){switch(e){case"grid":case"default":this.mode=w;break;case"interactive":case"flip":this.mode="interactive";break;case"print":case"sheet":this.mode="print";break;case"outline":case"outlines":this.mode="outline";break;default:console.error('Bindery: Unknown view mode "'+e+'"')}}},{key:"setGrid",value:function(){this.mode!==w&&("outline"===this.mode?(this.mode=w,this.updateGuides()):(this.mode=w,this.update()))}},{key:"setOutline",value:function(){"outline"!==this.mode&&(this.mode===w?(this.mode="outline",this.updateGuides()):(this.mode="outline",this.update()))}},{key:"setPrint",value:function(){"print"!==this.mode&&(this.mode="print",this.update())}},{key:"setInteractive",value:function(){this.mode="interactive",this.update()}},{key:"update",value:function(){if(this.book){this.export.parentNode||document.body.appendChild(this.export),this.flaps=[],document.body.classList.add((0,l.default)("viewing")),document.body.setAttribute("bindery-view-mode",this.mode);var e=document.body.scrollTop/document.body.scrollHeight;this.mode===w?this.renderGrid():"outline"===this.mode?this.renderGrid():"interactive"===this.mode?this.renderInteractive():"print"===this.mode?this.renderPrint():this.renderGrid(),document.body.scrollTop=document.body.scrollHeight*e,this.updateZoom()}}},{key:"updateZoom",value:function(){if(this.zoomBox.firstElementChild){var e=document.body.scrollTop/document.body.scrollHeight,t=this.zoomBox.getBoundingClientRect().width,n=this.zoomBox.firstElementChild.getBoundingClientRect().width,r=Math.min(1,t/(n+20));this.zoomBox.style.transform="scale("+r+")",document.body.scrollTop=document.body.scrollHeight*e}}},{key:"updateGuides",value:function(){document.body.setAttribute("bindery-view-mode",this.mode),"outline"===this.mode?(this.export.classList.add((0,l.default)("show-bleed")),this.export.classList.add((0,l.default)("show-guides"))):(this.export.classList.remove((0,l.default)("show-bleed")),this.export.classList.remove((0,l.default)("show-guides")))}},{key:"renderPrint",value:function(){this.export.classList.add((0,l.default)("show-bleed")),this.export.classList.remove((0,l.default)("show-guides")),this.zoomBox.innerHTML="";var e="arrange_one"!==this.printArrange,t="arrange_booklet"===this.printArrange,n=this.orientation,r=this.book.pages.slice();this.printArrange===x?r=E(r):"arrange_booklet"===this.printArrange&&(r=C(r));var o=(0,v.default)(r,e,n,t);this.zoomBox.appendChild(o)}},{key:"renderGrid",value:function(){this.updateGuides(),this.zoomBox.innerHTML="";var e=this.book.pages.slice();this.doubleSided&&(e=E(e));var t=(0,g.default)(e,this.doubleSided);this.zoomBox.appendChild(t)}},{key:"renderInteractive",value:function(){this.zoomBox.innerHTML="",this.flaps=[],this.export.classList.remove((0,l.default)("show-bleed")),this.export.classList.remove((0,l.default)("show-guides")),this.export.classList.add((0,l.default)("stage3d"));var e=E(this.book.pages.slice()),t=(0,y.default)(e);this.zoomBox.appendChild(t),this.currentLeaf?this.setLeaf(this.currentLeaf):this.setLeaf(0)}},{key:"setLeaf",value:function(e){this.currentLeaf=e;var t=4;this.flaps.length*t>200&&(t=200/this.flaps.length),this.flaps.forEach(function(n,r,o){var i=(o.length-Math.abs(r-e+.5))*t;n.style.transform="translate3d("+(r<e?4:0)+"px,0,"+i+"px) rotateY("+(r<e?-180:0)+"deg)"})}},{key:"isShowingCropMarks",get:function(){return this.export.classList.contains((0,l.default)("show-crop"))},set:function(e){e?this.export.classList.add((0,l.default)("show-crop")):this.export.classList.remove((0,l.default)("show-crop"))}},{key:"isShowingBleedMarks",get:function(){return this.export.classList.contains((0,l.default)("show-bleed-marks"))},set:function(e){e?this.export.classList.add((0,l.default)("show-bleed-marks")):this.export.classList.remove((0,l.default)("show-bleed-marks"))}}]),e}();t.default=P},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)((0,s.default)(".error"),(0,i.default)((0,s.default)(".error-title"),e),(0,i.default)((0,s.default)(".error-text"),t),(0,i.default)((0,s.default)(".error-footer"),"Bindery 2.0.0-alpha.3.1"))};var o=n(1),i=r(o),a=n(0),s=r(a)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(0),s=r(a),u=n(3),l=r(u),d=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,[(0,s.default)(".spread-wrapper")].concat(t))},c=function(e,t){var n=document.createDocumentFragment();if(t)for(var r=0;r<e.length;r+=2){var o=d({style:l.default.spreadSizeStyle()},e[r].element,e[r+1].element);n.appendChild(o)}else e.forEach(function(e){var t=d({style:l.default.sizeStyle()},e.element);n.appendChild(t)});return n};t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(0),s=r(a),u=n(3),l=r(u),d=n(20),c=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,[(0,s.default)(".spread-wrapper")].concat(t))},f=function(e,t,n,r){var o=document.createDocumentFragment(),a=t?l.default.spreadSizeStyle():l.default.sizeStyle(),u=t?d.printMarksSpread:d.printMarksSingle,f=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.default)((0,s.default)(".print-page")+(0,s.default)(".letter-"+n),c.apply(void 0,[{style:a}].concat(t,[u()])))};if(t)for(var p=0;p<e.length;p+=2){var h=f(e[p].element,e[p+1].element);if(o.appendChild(h),r){var g=(0,d.bookletMeta)(p,e.length);h.appendChild(g)}}else e.forEach(function(e){var t=f(e.element);o.appendChild(t)});return o};t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.bookletMeta=t.printMarksSpread=t.printMarksSingle=void 0;var i=n(1),a=r(i),s=n(0),u=r(s),l=function(){return[(0,a.default)((0,u.default)(".bleed-top")),(0,a.default)((0,u.default)(".bleed-bottom")),(0,a.default)((0,u.default)(".bleed-left")),(0,a.default)((0,u.default)(".bleed-right"))]},d=function(){return[(0,a.default)((0,u.default)(".crop-top")),(0,a.default)((0,u.default)(".crop-bottom")),(0,a.default)((0,u.default)(".crop-left")),(0,a.default)((0,u.default)(".crop-right"))]},c=function(){return a.default.apply(void 0,[(0,u.default)(".print-mark-wrap")].concat(o(d()),o(l())))},f=function(){return a.default.apply(void 0,[(0,u.default)(".print-mark-wrap"),(0,a.default)((0,u.default)(".crop-fold"))].concat(o(d()),o(l())))},p=function(e,t){var n=e%4==0,r=parseInt((e+1)/4,10)+1;return(0,a.default)((0,u.default)(".print-meta"),"Sheet "+r+" of "+t/4+": "+(n?"Outside":"Inside"))};t.printMarksSingle=c,t.printMarksSpread=f,t.bookletMeta=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(0),s=r(a),u=n(3),l=r(u),d=function(e){for(var t=document.createDocumentFragment(),n=0,r=1;r<e.length-1;r+=(void 0).doubleSided?2:1)!function(r){n+=1;var o=n,a=(0,i.default)((0,s.default)(".page3d"),{style:l.default.sizeStyle(),onclick:function(){var e=o-1;e===(void 0).currentLeaf&&(e+=1),(void 0).setLeaf(e)}});(void 0).flaps.push(a);var u=e[r].element,d=void 0;u.classList.add((0,s.default)("page3d-front")),a.appendChild(u),(void 0).doubleSided?(a.classList.add((0,s.default)("doubleSided")),d=e[r+1].element,d.classList.add((0,s.default)("page3d-back")),a.appendChild(d)):(d=(0,i.default)((0,s.default)(".page")+(0,s.default)(".page3d-back"),{style:l.default.sizeStyle()}),a.appendChild(d));var c=4;e.length*c>300&&(c=300/e.length),a.style.left=r*c+"px",t.appendChild(a)}(r);return t};t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i),s=n(4),u=n(0),l=r(u),d=n(23),c=function e(t){var n=this;o(this,e),this.binder=t.binder;var r=function(){n.binder.cancel()},i=function(){n.binder.viewer.setPrint(),window.print()},u=(0,d.btnMain)({onclick:i},"Print"),c=void 0,f=void 0,p=void 0,h=void 0,g=function(){n.binder.viewer.isShowingCropMarks=!n.binder.viewer.isShowingCropMarks,f.classList.toggle("selected")},b=function(){n.binder.viewer.isShowingBleedMarks=!n.binder.viewer.isShowingBleedMarks,p.classList.toggle("selected")},v=function(){h.classList.toggle("selected"),c.classList.toggle("not-facing"),n.binder.viewer.toggleDouble()};f=(0,d.switchRow)({onclick:g},"Crop Marks"),f.classList.add("selected"),p=(0,d.switchRow)({onclick:b},"Bleed Marks"),h=(0,d.switchRow)({onclick:v},"Facing Pages"),h.classList.add("selected");var m="";this.binder.autorun||(m=(0,d.btn)({onclick:r},"Done"));var y={top:(0,d.inputNumberUnits)(this.binder.pageMargin.top),inner:(0,d.inputNumberUnits)(this.binder.pageMargin.inner),outer:(0,d.inputNumberUnits)(this.binder.pageMargin.outer),bottom:(0,d.inputNumberUnits)(this.binder.pageMargin.bottom),width:(0,d.inputNumberUnits)(this.binder.pageSize.width),height:(0,d.inputNumberUnits)(this.binder.pageSize.height)},w=(0,a.default)("."+(0,l.default)("row")+"."+(0,l.default)("size"),(0,a.default)("div","W",y.width),(0,a.default)("div","H",y.height)),x=(0,a.default)((0,l.default)(".preview")),k=(0,a.default)("."+(0,l.default)("row")+"."+(0,l.default)("margin"),(0,a.default)(".top",y.top),(0,a.default)(".inner",y.inner),(0,a.default)(".outer",y.outer),(0,a.default)(".bottom",y.bottom),x);c=(0,a.default)((0,l.default)(".layout-control"),w,k);var C=(0,d.row)("Paper Size",(0,d.select)((0,d.option)("Letter"),(0,d.option)({disabled:!0},"8.5 x 11"),(0,d.option)({disabled:!0},""),(0,d.option)({disabled:!0},"Legal"),(0,d.option)({disabled:!0},"8.5 x 14"),(0,d.option)({disabled:!0},""),(0,d.option)({disabled:!0},"Tabloid"),(0,d.option)({disabled:!0},"11 x 17"),(0,d.option)({disabled:!0},""),(0,d.option)({disabled:!0},"A4"),(0,d.option)({disabled:!0},"mm x mm"))),E=(0,d.select)((0,d.option)({value:"arrange_one"},"Pages"),(0,d.option)({value:"arrange_two",selected:!0},"Spreads"),(0,d.option)({value:"arrange_booklet"},"Booklet"),(0,d.option)({disabled:!0},"Grid"),(0,d.option)({disabled:!0},"Signatures"));E.addEventListener("change",function(){n.binder.viewer.setPrintArrange(E.value)});var P=(0,d.row)("Print",E),M=(0,d.select)((0,d.option)({value:"landscape"},"Landscape"),(0,d.option)({value:"portrait"},"Portrait"));M.addEventListener("change",function(){n.binder.viewer.setOrientation(M.value)});var L=(0,d.row)("Orientation",M),_=(0,a.default)("div",{style:{display:"none",color:"#e2b200"}},"Too Small"),O=(0,d.btn)({style:{display:"none"}},"Updating..."),S=(0,d.btn)({onclick:function(){O.style.display="block",S.style.display="none",setTimeout(function(){n.binder.makeBook(function(){O.style.display="none",S.style.display="block"},100)})}},"Rebuild Layout"),j=function(){n.binder.viewer.setGrid()},z=function(){n.binder.viewer.setOutline()},T=function(){n.binder.viewer.setInteractive()},B=function(){n.binder.viewer.setPrint()},A=[(0,d.viewMode)("grid",j,"Preview"),(0,d.viewMode)("outline",z,"Outline"),(0,d.viewMode)("flip",T,"Flip"),(0,d.viewMode)("print",B,"Sheet")],R=a.default.apply(void 0,[(0,l.default)(".viewswitcher")].concat(A)),H=(0,d.title)("Loading..."),F=function(e,t){var n={top:(0,s.convertStrToPx)(t.top),inner:(0,s.convertStrToPx)(t.inner),outer:(0,s.convertStrToPx)(t.outer),bottom:(0,s.convertStrToPx)(t.bottom),width:(0,s.convertStrToPx)(e.width),height:(0,s.convertStrToPx)(e.height)},r=n.width/n.height;r=Math.max(r,.6),r=Math.min(r,1.8);var o=void 0,i=void 0;r>2?(o=90*r,i=90):(o=90,i=90/r);var a=n.top/n.height*i,u=n.bottom/n.height*i,l=n.outer/n.width*o,d=n.inner/n.width*o;w.style.width=o+"px",w.style.height=i+"px",k.style.width=o+"px",k.style.height=i+"px",x.style.top=a+"px",x.style.bottom=u+"px",x.style.left=d+"px",x.style.right=l+"px"};F(this.binder.pageSize,this.binder.pageMargin),this.setInProgress=function(){H.innerText="Paginating...",_.style.display="none",O.style.display="block",S.style.display="none"},this.updateProgress=function(e){H.innerText=e+" Pages"},this.setDone=function(){H.innerText=n.binder.viewer.book.pages.length+" Pages",O.style.display="none",S.style.display="block",_.style.display="none"},this.setInvalid=function(){_.style.display="block",S.style.display="block",O.style.display="none"};var N=function(){var e={top:y.top.value,inner:y.inner.value,outer:y.outer.value,bottom:y.bottom.value},t={height:y.height.value,width:y.width.value},r=!1;Object.keys(e).forEach(function(t){n.binder.pageMargin[t]!==e[t]&&(r=!0)}),Object.keys(t).forEach(function(e){n.binder.pageSize[e]!==t[e]&&(r=!0)}),r&&(F(t,e),n.binder.setSize(t),n.binder.setMargin(e),n.binder.isSizeValid()?n.binder.makeBook():n.setInvalid())},V=void 0,U=function(){clearTimeout(V),V=setTimeout(N,700)};Object.keys(y).forEach(function(e){y[e].addEventListener("change",U),y[e].addEventListener("keyup",U)});var D=(0,a.default)("div",S,_,O),I=void 0,q=function(){I.classList.toggle("selected"),n.binder.debug=!n.binder.debug};I=(0,d.switchRow)({onclick:q},"Debug"),this.binder.debug&&I.classList.add("selected"),this.holder=document.body.appendChild((0,a.default)((0,l.default)(".controls"),H,P,C,L,(0,d.expandRow)("Marks and Bleed"),(0,d.expandArea)(f,p),(0,d.expandRow)("Book Setup"),(0,d.expandArea)(c,I,D),m,u,R))};t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.viewMode=t.inputNumberUnits=t.switchRow=t.option=t.select=t.btnMain=t.btn=t.heading=t.expandArea=t.expandRow=t.row=t.title=void 0;var o=n(1),i=r(o),a=n(0),s=r(a),u=n(4),l=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,[(0,s.default)(".title")].concat(t))},d=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,[(0,s.default)(".heading")].concat(t))},c=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,[(0,s.default)(".row")].concat(t))},f=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,["."+(0,s.default)("row")+"."+(0,s.default)("expand-row"),{onclick:function(){this.classList.toggle("selected")}}].concat(t))},p=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,[(0,s.default)(".expand-area")].concat(t))},h=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,["button."+(0,s.default)("btn")].concat(t))},g=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,["button."+(0,s.default)("btn")+"."+(0,s.default)("btn-main")].concat(t))},b=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,["select"].concat(t))},v=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,["option"].concat(t))},m=function(e){return(0,i.default)("input",{type:"text",value:e,pattern:u.cssNumberPattern})},y=function(){return(0,i.default)((0,s.default)(".switch"),(0,i.default)((0,s.default)(".switch-handle")))},w=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,[(0,s.default)(".row")].concat(t,[y]))},x=function(e,t,n){var r="."+(0,s.default)("viewmode")+"."+(0,s.default)(e);return(0,i.default)(r,{onclick:t},(0,i.default)((0,s.default)(".icon")),n)};t.title=l,t.row=c,t.expandRow=f,t.expandArea=p,t.heading=d,t.btn=h,t.btnMain=g,t.select=b,t.option=v,t.switchRow=w,t.inputNumberUnits=m,t.viewMode=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(25),i=r(o),a=n(26),s=r(a),u=n(27),l=r(u),d=n(28),c=r(d),f=n(29),p=r(f),h=n(5),g=r(h),b=n(2),v=r(b),m=n(30),y=r(m),w=n(31),x=r(w);t.default={Rule:v.default,Continuation:function(e){return new i.default(e)},FullPage:function(e){return new s.default(e)},Footnote:function(e){return new l.default(e)},RunningHeader:function(e){return new p.default(e)},Replace:function(e){return new g.default(e)},Spread:function(e){return new y.default(e)},PageBreak:function(e){return new x.default(e)},PageReference:function(e){return new c.default(e)},createRule:function(e){return new v.default(e)}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(e){function t(e){return r(this,t),e.name="Continuation",e.hasContinuationClass=e.hasContinuationClass||"my-continues",e.isContinuationClass=e.isContinuationClass||"my-continuation",o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),a(t,[{key:"customContinuesClass",get:function(){return this.hasContinuationClass}},{key:"customContinuationClass",get:function(){return this.isContinuationClass}}]),t}(u.default);t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=void 0,d=void 0,c=function(e){function t(e){return r(this,t),e.name="Full Page Spread",o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),a(t,[{key:"beforeAdd",value:function(e,t,n){return l=t.currentPage,d=t.path,n(),e.classList.contains("bleed")&&t.currentPage.element.classList.add("bleed"),e}},{key:"afterAdd",value:function(e,t){return t.currentPage=l,t.path=d,e}}]),t}(u.default);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},l=n(1),d=r(l),c=n(5),f=r(c),p=function(e){function t(e){return o(this,t),e.name="Footnote",i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"afterAdd",value:function(e,n,r,o){var i=n.currentPage.footer.children.length+1,a=(0,d.default)(".footnote"),s=this.render(e,i);return s instanceof HTMLElement?a.appendChild(s):a.innerHTML=s,n.currentPage.footer.appendChild(a),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"afterAdd",this).call(this,e,n,r,function(e){return n.currentPage.footer.removeChild(a),o(e)})}},{key:"createReplacement",value:function(e,t){var n=e.currentPage.footer.children.length;return this.replace(t,n)}},{key:"replace",value:function(e,t){return e.insertAdjacentHTML("beforeEnd",'<sup class="bindery-sup">'+t+"</sup>"),e}},{key:"render",value:function(e,t){return"<sup>"+t+"</sup> Default footnote (<a href='http://evanbrooks.info/bindery/#docs'>Docs</a>)"}}]),t}(f.default);t.default=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(5),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(e){function t(e){r(this,t),e.name="Page Reference";var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.references={},n}return i(t,e),a(t,[{key:"afterAdd",value:function(e,t){var n=this,r=e.getAttribute("href");if(r){"#"!==r[0]&&(r=r.substr(r.indexOf("#"))),r=r.replace("#",""),r='[id="'+r+'"]',this.references[r]=e;var o=e.parentNode,i=e.cloneNode(!0),a=this.replace(i,"⏱");return o.replaceChild(a,e),t.book.firstPageForSelector(r,function(t){var r=a.parentNode,o=e.cloneNode(!0),i=n.replace(o,t);r.replaceChild(i,a)}),a}return e}},{key:"replace",value:function(e,t){return e.insertAdjacentHTML("beforeend"," ↝ Page "+t),e}}]),t}(u.default);t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),d=n(2),c=r(d),f=n(0),p=r(f),h=function(e){function t(e){return o(this,t),e.name="Running Header",i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"afterBind",value:function(e){var t=(0,l.default)((0,p.default)(".running-header"));t.innerHTML=this.render(e),e.element.appendChild(t)}},{key:"render",value:function(e){return e.number}}]),t}(c.default);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(2),l=r(u),d=n(0),c=r(d),f=function(e){function t(e){o(this,t),e.name="Spread";var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.prevPage=null,n.prevElementPath=null,n}return a(t,e),s(t,[{key:"beforeAdd",value:function(e,t,n){return this.prevPage=t.currentPage,this.prevElementPath=t.path,n(),e}},{key:"afterAdd",value:function(e,t,n){var r=t.currentPage,o=r.flowContent.cloneNode(!0),i=n();return i.flowBox.innerHTML="",i.flowBox.appendChild(o),i.flowContent=o,r.element.classList.add((0,c.default)("spread")),r.element.classList.add("bleed"),r.setPreference("left"),r.setOutOfFlow(!0),i.element.classList.add((0,c.default)("spread")),i.element.classList.add("bleed"),i.setPreference("right"),i.setOutOfFlow(!0),t.currentPage=this.prevPage,t.path=this.prevElementPath,e}}]),t}(l.default);t.default=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(e){function t(e){return r(this,t),e.name="Page Break",e.position=e.position?e.position:"before",e.continue=e.continue?e.continue:"any",o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),a(t,[{key:"beforeAdd",value:function(e,t,n){return"before"!==this.position&&"both"!==this.position||(t.currentPage.isEmpty||n(),"any"!==this.continue&&t.currentPage.setPreference(this.continue)),e}},{key:"afterAdd",value:function(e,t,n){if("after"===this.position||"both"===this.position){var r=n();"any"!==this.continue&&r.setPreference(this.continue)}return e}},{key:"avoidSplit",get:function(){return"avoid"===this.position}}]),t}(u.default);t.default=l},function(e,t,n){var r=n(33);"string"==typeof r&&(r=[[e.i,r,""]]);n(40)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(34)(),t.push([e.i,'@media screen{.📖-page{background:#fff;outline:1px solid rgba(0,0,0,.1);box-shadow:0 1px 3px rgba(0,0,0,.2);overflow:hidden}.📖-show-bleed .📖-page{box-shadow:none;outline:none;overflow:visible}.📖-page3d .📖-page{overflow:hidden!important}.📖-page:after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;pointer-events:none;z-index:999}.📖-zoom-wrap *{transition:box-shadow .2s}.📖-show-guides .bindery-zoom-wrap *{box-shadow:inset 0 0 0 1px rgba(0,92,255,.2)}.📖-show-guides .📖-page:after{box-shadow:0 0 0 1px #f0f}.📖-show-guides .📖-flowbox,.📖-show-guides .📖-footer,.📖-show-guides .📖-running-header{box-shadow:0 0 0 1px cyan}.📖-show-guides .📖-content{box-shadow:inset 0 0 0 1px blue}.📖-show-guides .📖-bleed{box-shadow:0 0 0 1px #ff0}.📖-is-overflowing{overflow:visible}.📖-is-overflowing:before{transition:none;content:"+";position:absolute;bottom:0;display:block;margin:0 auto -10px;left:0;right:0;text-align:center;font:8px/1.3 -apple-system,BlinkMacSystemFont,Roboto,sans-serif;font-weight:500;text-transform:uppercase;letter-spacing:.1em;color:#ad0000;width:12px;background:#fff;z-index:999;border-radius:2px;padding:4px;overflow:hidden;border:1px solid currentColor}.📖-is-overflowing:hover:before{content:"Overflow";width:54px}.📖-is-overflowing .📖-content{transition:none}.📖-is-overflowing .📖-content:hover{box-shadow:inset 0 0 0 1px #ad0000;background:rgba(173,0,0,.04)}}.📖-page{width:200px;height:300px;position:relative;display:flex;flex-direction:column;flex-wrap:nowrap;margin:auto}.📖-flowbox{position:relative;margin:60px 40px;margin-bottom:0;flex:1 1 auto;min-height:0}.📖-content{padding:.1px}.📖-footer{margin:60px 40px;margin-top:8pt;flex:0 1 auto;z-index:2}.📖-footer>:first-child:before{content:"";display:block;width:24pt;height:1px;box-shadow:inset 0 .5px 0 0 #000;margin-bottom:8pt}.📖-page.bleed .📖-flowbox{margin:0;position:absolute;top:-20px;bottom:-20px}.📖-left.bleed .📖-flowbox{right:0;left:-20px}.📖-right.bleed .📖-flowbox{left:0;right:-20px}.📖-bleed{position:absolute;top:-.25in;bottom:-.25in;z-index:0}.📖-left .📖-bleed{right:0;left:-.25in}.📖-right .📖-bleed{left:0;right:-.25in}.📖-spread.📖-left .📖-content{position:absolute;top:0;left:0;right:-100%;bottom:0}.📖-spread.📖-right .📖-content{position:absolute;top:0;left:-100%;right:0;bottom:0}.📖-sup{font-size:.667em}.📖-footer,.📖-running-header{font-size:10pt}.📖-running-header{position:absolute;text-align:center;top:.25in}.📖-left .📖-running-header{left:18pt;text-align:left}.📖-right .📖-running-header{right:18pt;text-align:right}p.📖-continuation{text-indent:0!important}li.📖-continuation{list-style:none!important}.📖-print-mark-wrap{display:none;position:absolute;pointer-events:none;top:0;bottom:0;left:0;right:0;z-index:999}.📖-show-bleed-marks .📖-print-mark-wrap,.📖-show-bleed-marks .📖-print-mark-wrap>[class*=bleed],.📖-show-crop .📖-print-mark-wrap,.📖-show-crop .📖-print-mark-wrap>[class*=crop]{display:block}.📖-print-mark-wrap>div{display:none;position:absolute;overflow:hidden}.📖-print-mark-wrap>div:after,.📖-print-mark-wrap>div:before{content:"";background:#000;width:12pt;height:12pt;display:block;position:absolute}.📖-print-mark-wrap>div:before{top:0;left:0}.📖-print-mark-wrap>div:after{bottom:0;right:0}.📖-show-bleed-marks .📖-print-page .📖-spread-wrapper,.📖-show-crop .📖-print-page .📖-spread-wrapper{margin:30pt auto}.📖-crop-fold,.📖-crop-left,.📖-crop-right{transform:scaleX(.5);top:-30pt;bottom:-30pt;width:1px;margin:auto}.📖-crop-fold{right:0;left:0}.📖-crop-left{left:0}.📖-crop-right{right:0}.📖-crop-bottom,.📖-crop-top{transform:scaleY(.5);left:-30pt;right:-30pt;height:1px}.📖-crop-top{top:0}.📖-crop-bottom{bottom:0}.📖-bleed-left,.📖-bleed-right{transform:scaleX(.5);top:-30pt;bottom:-30pt;width:1px;margin:auto}.📖-bleed-left{left:-.25in}.📖-bleed-right{right:-.25in}.📖-bleed-bottom,.📖-bleed-top{transform:scaleY(.5);left:-30pt;right:-30pt;height:1px}.📖-bleed-top{top:-.25in}.📖-bleed-bottom{bottom:-.25in}@media screen{.📖-viewing{background:#f4f4f4!important}.📖-export{transition:opacity .2s;opacity:1;padding:20px;position:relative;padding-right:240px;animation:fadeUp .3s;min-height:90vh}.📖-export,.📖-measure-area{background:#f4f4f4;z-index:99}.📖-measure-area{position:fixed;padding:50px 20px;padding-right:240px;visibility:hidden;top:0;left:0;right:0;bottom:0}.📖-measure-area.📖-debugging{overflow:scroll;visibility:visible}.📖-measure-area .📖-page{margin:0 auto 50px}.📖-print-page{margin:0 auto}.📖-spinner{border:2px solid transparent;border-left-color:navy;width:32px;height:32px;border-radius:50%;position:absolute;top:0;left:0;bottom:0;right:0;margin:auto;z-index:999;opacity:0}.📖-in-progress .📖-spinner{opacity:1;animation:spin .6s linear infinite}.📖-error{font:16px/1.4 -apple-system,BlinkMacSystemFont,Roboto,sans-serif;margin:15vh 15vw;max-width:500px;background:url('+n(35)+") no-repeat 0 0;background-size:48px;padding-top:64px}.📖-error-title{font-size:1.5em;margin-bottom:16px}.📖-error-text{margin-bottom:16px;white-space:pre-line}.📖-error-footer{opacity:.5;font-size:.66em;text-transform:uppercase;letter-spacing:.02em}.📖-show-bleed .📖-print-page{background:#fff;outline:1px solid rgba(0,0,0,.1);box-shadow:0 1px 3px rgba(0,0,0,.2);margin:20px auto}.📖-letter-landscape{width:11in;height:8.5in}.📖-letter-portrait{width:8.5in;height:11in}}@keyframes fadeUp{0%{opacity:0}to{opacity:1}}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(1turn)}}@page{margin:0}@media print{.📖-export{-webkit-print-color-adjust:exact}.📖-viewing>:not(.📖-export){display:none!important}.📖-print-page{margin:20px}.📖-zoom-wrap[style]{transform:none!important}}body.📖-viewing{margin:0}.📖-zoom-wrap{transform-origin:top left;transform-style:preserve-3d;height:calc(100vh - 40px)}.📖-viewing>:not(.📖-export):not(.📖-controls):not(.📖-measure-area){display:none!important}.📖-print-page{page-break-after:always;position:relative;overflow:hidden}.📖-spread-wrapper{position:relative;display:flex;width:800px;margin:0 auto 50px}.📖-print-page .📖-spread-wrapper{margin:0 auto}.📖-print-meta{padding:12pt;text-align:center;font-family:-apple-system,BlinkMacSystemFont,Roboto,sans-serif;font-size:8pt}.📖-stage3d{perspective:3000px;transform-style:preserve-3d}.📖-page3d{margin:auto;width:400px;height:600px;transform:rotateY(0);transform-style:preserve-3d;transform-origin:left;transition:transform .5s,box-shadow .1s;position:absolute;left:0;right:0;top:0;bottom:0}.📖-page3d:hover{box-shadow:2px 0 4px rgba(0,0,0,.2)}.📖-page3d.flipped{transform:rotateY(-180deg)}.📖-page3d .📖-page{position:absolute;backface-visibility:hidden}.📖-page3d .📖-page3d-front{transform:rotateY(0)}.📖-page3d .📖-page3d-front:after{box-shadow:inset 12px 0 12px -12px rgba(0,0,0,.4)}.📖-page3d .📖-page3d-back{transform:rotateY(-180deg)}.📖-page3d .📖-page3d-back:after{box-shadow:inset -12px 0 12px -12px rgba(0,0,0,.4)}@media screen{.📖-viewing .📖-controls{display:block!important}}.📖-controls{font:14px/1.4 -apple-system,BlinkMacSystemFont,Roboto,sans-serif;position:fixed;top:0;bottom:0;right:0;width:240px;z-index:999;margin:auto;color:#000;background:#f4f4f4;overflow:scroll;padding-bottom:100px}.📖-controls *{font:inherit;color:inherit;margin:0;padding:0;box-sizing:border-box}.📖-title{padding:20px;font-size:18px}.📖-btn{-webkit-appearance:none;padding:8px 16px;color:#444;border:none;background:rgba(0,0,0,.06);cursor:pointer;font-size:12px;letter-spacing:.01em;font-weight:500;display:inline-block;border-radius:3px;margin:16px;width:auto}.📖-btn:focus{outline:none;box-shadow:0 1px 3px rgba(0,0,0,.2)}.📖-btn:hover{background:rgba(0,0,0,.1)}.📖-btn:active{background:rgba(0,0,0,.14)}.📖-in-progress .📖-btn{opacity:.2;pointer-events:none}.📖-btn-main{background:navy;color:#fff}.📖-btn-main:hover{background:navy;opacity:.7}.📖-btn-main:active{background:#000;opacity:1}.📖-viewswitcher{padding:12px 8px;position:fixed;bottom:0;right:0;z-index:99;width:240px;background:#f4f4f4}.📖-viewmode{height:54px;width:25%;display:inline-block;text-align:center;font-size:10px;color:#aaa;cursor:pointer;border-radius:3px}.📖-viewmode:hover{background:rgba(0,0,0,.04)}.📖-viewmode .📖-icon{height:32px;width:32px;background:currentColor;margin:0 auto}.📖-viewmode.📖-grid .📖-icon{-webkit-mask:url("+n(36)+") no-repeat 50% 50%}.📖-viewmode.📖-flip .📖-icon{-webkit-mask:url("+n(37)+") no-repeat 50% 50%}.📖-viewmode.📖-outline .📖-icon{-webkit-mask:url("+n(38)+") no-repeat 50% 50%}.📖-viewmode.📖-print .📖-icon{-webkit-mask:url("+n(39)+') no-repeat 50% 50%}[bindery-view-mode=grid] .📖-grid,[bindery-view-mode=interactive] .📖-flip,[bindery-view-mode=outline] .📖-outline,[bindery-view-mode=print] .📖-print{color:navy}.📖-row{position:relative;display:block;padding:8px 12px;margin:4px 8px;cursor:pointer}.📖-row select{float:right;border:none;background:transparent;padding:12px;width:100px}.📖-row select:hover{background:rgba(0,0,0,.04)}.📖-row input{width:85px;padding:4px 6px 4px 8px;text-align:right;border:none;background:none;position:absolute;top:0;right:0;height:100%;width:100%;color:#000;text-shadow:0 2px 0 #fff,0 -2px 0 #fff,2px 0 0 #fff,-2px 0 0 #fff}.📖-row input:focus{outline:none;background:rgba(0,0,0,.04)}.📖-row input:invalid{color:maroon}.📖-expand-row{color:navy;border-radius:4px}.📖-expand-row:hover{background:rgba(0,0,0,.04)}.📖-expand-row:after{content:"+";font-size:1.5em;padding:0;position:absolute;right:12px;top:2px;font-weight:300}.📖-expand-row.selected{background:rgba(0,0,0,.04);border-radius:4px 4px 0 0}.📖-expand-row.selected:after{content:"\\2013"}.📖-expand-row.selected+.📖-expand-area{opacity:1;max-height:300px;margin-bottom:12px}.📖-expand-area{background:rgba(0,0,0,.04);opacity:0;max-height:0;margin:-4px 8px;padding:4px 0;border-radius:0 0 4px 4px;transition:all .2s;overflow:hidden}.📖-expand-area .📖-row{margin:4px 0}.📖-margin,.📖-size{display:inline-block;vertical-align:middle;margin:0;min-height:80px;background:#fff;outline:1px solid #ddd;height:100px;width:100px}.📖-size{padding:8px 0;font-size:12px}.📖-size div{position:relative;padding:6px 12px;color:#aaa}.📖-layout-control{margin:4px 12px 8px}.📖-margin{overflow:hidden}.📖-margin>div{position:absolute;width:54px;height:24px;z-index:5}.📖-margin>div:hover{z-index:99}.📖-margin .top{left:0;right:0;margin:auto;top:0}.📖-margin .bottom{left:0;right:0;margin:auto;bottom:0}.📖-margin .inner{left:0;text-align:left;top:calc(50% - 12px)}.📖-margin .inner input{text-align:left}.📖-margin .outer{right:0;text-align:right;top:calc(50% - 12px)}.📖-margin .outer input{text-align:right}.📖-margin .📖-preview{top:0;left:0;right:0;bottom:0;border:1px solid #a9a9ff;height:auto;width:auto;z-index:0;pointer-events:none;transition:border .2s}.📖-margin input{text-align:center;padding:4px;font-size:12px}.📖-margin input:focus{background:none!important}.📖-switch{width:28px;background:rgba(0,0,0,.2);border-radius:8px;margin-right:5px;vertical-align:middle;float:right;position:relative}.📖-switch,.📖-switch-handle{height:16px;transition:all .2s}.📖-switch-handle{width:16px;border-radius:50%;background:#fff;box-shadow:0 1px 2px rgba(0,0,0,.2);position:absolute;left:0;top:0}.📖-row:hover .📖-switch-handle{box-shadow:0 2px 3px rgba(0,0,0,.3)}.📖-row.selected .📖-switch{background:rgba(0,0,128,.6)}.📖-row.selected .📖-switch-handle{background:navy;left:12px}',""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='36' height='36' viewBox='0 0 36 36' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cdefs%3E%3Cpath id='a' d='M0 4H15V27H0z'/%3E%3Cpath id='b' d='M15 4H30V27H15z'/%3E%3Cpath id='c' d='M14 4.07147535L27 0 27 22.9285247 14 27z'/%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg transform='translate(3 2)'%3E%3Cuse fill='%23FFFFFF' xlink:href='%23a'/%3E%3Cpath stroke='%23000000' d='M0.5 4.5H14.5V26.5H0.5z'/%3E%3C/g%3E%3Cg transform='translate(3 2)'%3E%3Cuse fill='%23FFFFFF' xlink:href='%23b'/%3E%3Cpath stroke='%23000000' d='M15.5 4.5H29.5V26.5H15.5z'/%3E%3C/g%3E%3Cg transform='translate(3 2)'%3E%3Cuse fill='%23FFFFFF' xlink:href='%23c'/%3E%3Cpath stroke='%23000000' d='M14.5,4.43882867 L14.5,26.3194563 L26.5,22.5611713 L26.5,0.680543732 L14.5,4.43882867 Z'/%3E%3C/g%3E%3Cpath fill='%23000000' opacity='.3' d='M16.3241613 26.7071852L25.7154453 22.615177 26.1596848 4.74924377 28 4.30920273 28 27z' transform='translate(3 2)'/%3E%3Ccircle fill='%23000000' cx='11' cy='14' r='1'/%3E%3Ccircle fill='%23000000' cx='11' cy='21' r='1'/%3E%3Cpath d='M28.1793786,11.0743011 C24.667534,11.0743011 21.8206214,13.9212136 21.8206214,17.4330583' stroke='%23000000' transform='rotate(-45 25 14.254)'/%3E%3C/g%3E%3C/svg%3E\""},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cg stroke='%23000000' fill='none' fill-rule='evenodd'%3E%3Cpath d='M.5.5H11.5V15.5H.5zM11.5.5H22.5V15.5H11.5z' transform='translate(5 8)'/%3E%3C/g%3E%3C/svg%3E\""},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cg stroke='%23000000' fill='none' fill-rule='evenodd'%3E%3Cpath d='M0.5 0.5H11.5V15.5H0.5z' transform='translate(5 8)'/%3E%3Cpath d='M22.5,15.5 L22.5,0.5' stroke-linecap='square' transform='translate(5 8)'/%3E%3Cpath d='M16.5,8.5 L16.5,23.5 L16.9093327,23.5 L24.5,20.6534998 L24.5,5.72150023 L17.1755617,8.46816459 L17,8.5 L16.5,8.5 Z'/%3E%3Cpath d='M27.5 23.5L16.5 23.5M24.5 8.5L27.5 8.5' stroke-linecap='square'/%3E%3C/g%3E%3C/svg%3E\""},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg stroke='%23000000'%3E%3Cpath d='M.5.5H11.5V15.5H.5zM11.5.5H22.5V15.5H11.5z' transform='translate(5 8)'/%3E%3C/g%3E%3Cpath stroke='%23000000' d='M8.5 13.5H13.5V20.5H8.5z'/%3E%3Cpath fill='%23000000' d='M8 11H14V12H8z'/%3E%3Cpath stroke='%23000000' d='M19.5 13.5H24.5V20.5H19.5z'/%3E%3Cpath fill='%23000000' d='M19 11H25V12H19z'/%3E%3C/g%3E%3C/svg%3E\""},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cg stroke='%23000000' fill='none' fill-rule='evenodd'%3E%3Cpath d='M4.5 5.5H28.5V24.5H4.5z'/%3E%3Cpath d='M7.5 8.5L9.5 8.5M14.5 8.5L16.5 8.5M14.5 21.5L16.5 21.5M16.5 8.5L18.5 8.5M16.5 21.5L18.5 21.5M23.5 8.5L25.5 8.5M23.5 21.5L25.5 21.5M7.5 21.5L9.5 21.5M7.5 8.5L7.5 10.5M25.5 8.5L25.5 10.5M16.5 8.5L16.5 10.5M7.5 19.5L7.5 21.5M25.5 19.5L25.5 21.5M16.5 19.5L16.5 21.5' stroke-linecap='square'/%3E%3C/g%3E%3C/svg%3E\""},function(e,t){function n(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=f[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(u(r.parts[i],t))}else{for(var a=[],i=0;i<r.parts.length;i++)a.push(u(r.parts[i],t));f[r.id]={id:r.id,refs:1,parts:a}}}}function r(e){for(var t=[],n={},r=0;r<e.length;r++){var o=e[r],i=o[0],a=o[1],s=o[2],u=o[3],l={css:a,media:s,sourceMap:u};n[i]?n[i].parts.push(l):t.push(n[i]={id:i,parts:[l]})}return t}function o(e,t){var n=g(),r=m[m.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),m.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function i(e){e.parentNode.removeChild(e);var t=m.indexOf(e);t>=0&&m.splice(t,1)}function a(e){var t=document.createElement("style");return t.type="text/css",o(e,t),t}function s(e){var t=document.createElement("link");return t.rel="stylesheet",o(e,t),t}function u(e,t){var n,r,o;if(t.singleton){var u=v++;n=b||(b=a(t)),r=l.bind(null,n,u,!1),o=l.bind(null,n,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(t),r=c.bind(null,n),o=function(){i(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(t),r=d.bind(null,n),o=function(){i(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}function l(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function d(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function c(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}var f={},p=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},h=p(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),g=p(function(){return document.head||document.getElementsByTagName("head")[0]}),b=null,v=0,m=[];e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},void 0===t.singleton&&(t.singleton=h()),void 0===t.insertAt&&(t.insertAt="bottom");var o=r(e);return n(o,t),function(e){for(var i=[],a=0;a<o.length;a++){var s=o[a],u=f[s.id];u.refs--,i.push(u)}if(e){n(r(e),t)}for(var a=0;a<i.length;a++){var u=i[a];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete f[u.id]}}}};var y=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()}]);
//# sourceMappingURL=bindery.min.js.map 