// [AIV]  Build version: 2.0.0-alpha.3.2 - Wednesday, August 9th, 2017, 5:27:53 PM  
 var Bindery=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t,n){function r(){function e(){function e(n){var u;if(null==n);else if("string"==typeof n)r?r.appendChild(u=d.createTextNode(n)):function(e){var t=s(e,/([\.#]?[^\s#.]+)/);/^\.|#/.test(t[1])&&(r=d.createElement("div")),o(t,function(e){var t=e.substring(1,e.length);e&&(r?"."===e[0]?l(r).add(t):"#"===e[0]&&r.setAttribute("id",t):r=d.createElement(e))})}(n);else if("number"==typeof n||"boolean"==typeof n||n instanceof Date||n instanceof RegExp)r.appendChild(u=d.createTextNode(n.toString()));else if(a(n))o(n,e);else if(i(n))r.appendChild(u=n);else if(n instanceof c)r.appendChild(u=n);else if("object"==typeof n)for(var f in n)if("function"==typeof n[f])/^on\w+/.test(f)?function(e,n){r.addEventListener?(r.addEventListener(e.substring(2),n[e],!1),t.push(function(){r.removeEventListener(e.substring(2),n[e],!1)})):(r.attachEvent(e,n[e]),t.push(function(){r.detachEvent(e,n[e])}))}(f,n):(r[f]=n[f](),t.push(n[f](function(e){r[f]=e})));else if("style"===f)if("string"==typeof n[f])r.style.cssText=n[f];else for(var p in n[f])!function(e,i){if("function"==typeof i)r.style.setProperty(e,i()),t.push(i(function(t){r.style.setProperty(e,t)}));else var o=n[f][e].match(/(.*)\W+!important\W*$/);o?r.style.setProperty(e,o[1],"important"):r.style.setProperty(e,n[f][e])}(p,n[f][p]);else if("attrs"===f)for(var h in n[f])r.setAttribute(h,n[f][h]);else"data-"===f.substr(0,5)?r.setAttribute(f,n[f]):r[f]=n[f];else if("function"==typeof n){var h=n();r.appendChild(u=i(h)?h:d.createTextNode(h)),t.push(n(function(e){i(e)&&u.parentElement?(u.parentElement.replaceChild(e,u),u=e):u.textContent=e}))}return u}for(var n=[].slice.call(arguments),r=null;n.length;)e(n.shift());return r}var t=[];return e.cleanup=function(){for(var e=0;e<t.length;e++)t[e]();t.length=0},e}function i(e){return e&&e.nodeName&&e.nodeType}function o(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n)}function a(e){return"[object Array]"==Object.prototype.toString.call(e)}var s=n(10),l=n(11),u="undefined"==typeof window?n(13):window,d=u.document,c=u.Text;(e.exports=r()).context=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t){var n=this;r(this,e),this.name=t.name?t.name:"Unnamed Bindery Rule",this.selector="",Object.keys(t).forEach(function(e){n[e]=t[e]})};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return"bindery-"+e},i=function(e){return"."+r(e)};t.prefix=r,t.prefixClass=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={px:1,in:96,pt:4/3,pc:16,mm:25.4/96,cm:25.4/96*10},i=function(e,t){return e*r[t]},o=function(e,t){return e/r[t]},a=function(e,t,n){return o(i(e,t),n)},s=/^([+-]?[0-9]+.?([0-9]+)?)(px|in|cm|mm|pt|pc)$/,l=function(e){return s.test(e)},u=function(e){Object.keys(e).forEach(function(t){if(!l(e[t]))throw"number"==typeof e[t]?Error("Size is missing units { "+t+": "+e[t]+" }"):Error("Invalid size { "+t+": "+e[t]+" }")})},d=function(e){var t=e.match(s);return{val:Number(t[1]),unit:t[3]}},c=function(e){var t=d(e);return i(t.val,t.unit)},f=function(e,t){var n=d(e);return""+o(i(n.val,n.unit),t)+t};t.cssNumberPattern="^([+-]?[0-9]+.?([0-9]+)?)(px|in|cm|mm|pt|pc)$",t.parseVal=d,t.isValidLength=l,t.isValidSize=u,t.convert=a,t.convertStrToStr=f,t.convertStrToPx=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=n(3),l=n(2),u=function(){function e(){r(this,e),this.flowContent=(0,a.default)((0,l.prefixClass)("content")),this.flowBox=(0,a.default)((0,l.prefixClass)("flowbox"),this.flowContent),this.footer=(0,a.default)((0,l.prefixClass)("footer")),this.bleed=(0,a.default)((0,l.prefixClass)("bleed")),this.element=(0,a.default)((0,l.prefixClass)("page"),{style:e.sizeStyle()},this.bleed,this.flowBox,this.footer)}return i(e,[{key:"overflowAmount",value:function(){this.element.parentNode!==e.measureArea&&(e.measureArea||(e.measureArea=document.body.appendChild((0,a.default)((0,l.prefixClass)("measure-area")))),this.element.parentNode!==e.measureArea&&e.measureArea.appendChild(this.element),e.measureArea.parentNode!==document.body&&document.body.appendChild(e.measureArea));var t=this.flowContent.offsetHeight,n=this.flowBox.offsetHeight;if(0===n)throw Error("Bindery: Trying to flow into a box of zero height.");return t-n}},{key:"hasOverflowed",value:function(){return this.overflowAmount()>-5}},{key:"setLeftRight",value:function(e){if("left"===e)this.side=e,this.element.classList.remove((0,l.prefix)("right")),this.element.classList.add((0,l.prefix)("left"));else{if("right"!==e)throw Error("Bindery: Setting page to invalid direction"+e);this.side=e,this.element.classList.remove((0,l.prefix)("left")),this.element.classList.add((0,l.prefix)("right"))}}},{key:"setPreference",value:function(e){"left"===e&&(this.alwaysLeft=!0),"right"===e&&(this.alwaysRight=!0)}},{key:"setOutOfFlow",value:function(e){this.outOfFlow=e}},{key:"clone",value:function(){var t=new e;return t.flowContent.innerHTML=this.flowContent.cloneNode(!0).innerHTML,t.footer.innerHTML=this.footer.cloneNode(!0).innerHTML,t.flowContent.insertAdjacentHTML("beforeend","RESTORED"),t}},{key:"suppressErrors",get:function(){return this.suppress||!1},set:function(e){this.suppress=e,e?this.element.classList.add((0,l.prefix)("is-overflowing")):this.element.classList.remove((0,l.prefix)("is-overflowing"))}},{key:"isEmpty",get:function(){return""===this.element.textContent.trim()}},{key:"isLeft",get:function(){return"left"===this.side}},{key:"isRight",get:function(){return"right"===this.side}}],[{key:"isSizeValid",value:function(){document.body.classList.remove("bindery-viewing");var t=new e,n=document.querySelector((0,l.prefixClass)("measure-area"));n||(n=document.body.appendChild((0,a.default)((0,l.prefixClass)("measure-area")))),n.innerHTML="",n.appendChild(t.element);var r=t.flowBox.getBoundingClientRect();return n.parentNode.removeChild(n),r.height>100&&r.width>100}},{key:"setSize",value:function(t){e.W=t.width,e.H=t.height}},{key:"sizeStyle",value:function(){return{height:e.H,width:e.W}}},{key:"spreadSizeStyle",value:function(){var t=(0,s.parseVal)(e.W);return{height:e.H,width:""+2*t.val+t.unit}}},{key:"setMargin",value:function(e){var t=void 0,n=document.querySelector("#bindery-margin-stylesheet");n?t=n:(t=document.createElement("style"),t.id="bindery-margin-stylesheet"),t.innerHTML="\n      .bindery-flowbox,\n      .bindery-footer {\n        margin-left: "+e.inner+";\n        margin-right: "+e.outer+";\n      }\n      .bindery-left .bindery-flowbox,\n      .bindery-left .bindery-footer {\n        margin-left: "+e.outer+";\n        margin-right: "+e.inner+";\n      }\n\n      .bindery-left .bindery-num,\n      .bindery-left .bindery-running-header {\n        left: "+e.outer+";\n      }\n      .bindery-right .bindery-num,\n      .bindery-right .bindery-running-header {\n        right: "+e.outer+";\n      }\n\n      .bindery-flowbox { margin-top: "+e.top+"; }\n      .bindery-footer { margin-bottom: "+e.bottom+"; }\n    ",document.head.appendChild(t)}}]),e}();t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(e){return r(this,t),e.name="Footnote",i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),a(t,[{key:"afterAdd",value:function(e,t,n,r){var i=e.parentNode;if(!i)throw Error("Bindery: Rule assumes element has been added but it has no parent.",e);var o=e.cloneNode(!0),a=this.createReplacement(t,o);return i.replaceChild(a,e),t.currentPage.hasOverflowed()?(i.replaceChild(e,a),r(e)):a}},{key:"createReplacement",value:function(e,t){return this.replace(t)}},{key:"replace",value:function(e){return e.insertAdjacentHTML("beforeEnd",'<sup class="bindery-sup">Default Replacement</sup>'),e}}]),t}(l.default);t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(7),l=r(s),u=n(4),d=r(u),c=n(14),f=r(c),p=n(16),h=r(p),b=n(3),y=n(18),g=r(y);n(26);var v="pt",m={width:"288pt",height:"432pt"},w={inner:"24pt",outer:"32pt",bottom:"54pt",top:"48pt"},x=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n+=1)if(e[n]!==t[n])return!1;return!0},k=function(){function e(t){var n=this;i(this,e),console.log("Bindery 2.0.0-alpha.3.2");var r=t.pageSize?t.pageSize:m,a=t.pageMargin?t.pageMargin:w;if(this.pageUnit=t.pageUnit?t.pageUnit:v,this.setSize(r),this.setMargin(a),this.viewer=new f.default,t.startingView&&this.viewer.setMode(t.startingView),this.rules=[],t.rules&&this.addRules(t.rules),t.autorun&&(this.autorun=!0),this.autoupdate=!!t.autoupdate&&t.autoupdate,this.debugDelay=t.debugDelay?t.debugDelay:0,t.source)if("string"==typeof t.source){if(this.source=document.querySelector(t.source),!(this.source instanceof HTMLElement))return this.viewer.displayError("Source not specified",'Could not find element that matches selector "'+t.source+'"'),void console.error('Bindery: Could not find element that matches selector "'+t.source+'"');this.autorun&&this.makeBook()}else if("object"===o(t.source)&&t.source.url){var s=t.source.url,l=t.source.selector;fetch(t.source.url).then(function(e){if(404===e.status)n.viewer.displayError("404",'Could not find file at "'+s+'"');else if(200===e.status)return e.text();return""}).then(function(e){var t=document.createElement("div");if(t.innerHTML=e,n.source=t.querySelector(l),!(n.source instanceof HTMLElement))return n.viewer.displayError("Source not specified",'Could not find element that matches selector "'+l+'"'),void console.error('Bindery: Could not find element that matches selector "'+l+'"');n.autorun&&n.makeBook()}).catch(function(e){console.error(e),"file"===window.location.href.split("://")[0]&&n.viewer.displayError("Can't fetch content from \""+s+'"',"Web pages can't fetch content unless they are on a server.")})}else t.source instanceof HTMLElement?(this.source=t.source,this.autorun&&this.makeBook()):console.error("Bindery: Source must be an element or selector");else this.viewer.displayError("Source not specified","You must include a source element, selector, or url"),console.error("Bindery: You must include a source element or selector")}return a(e,[{key:"cancel",value:function(){this.stopCheckingLayout(),this.viewer.cancel(),document.body.classList.remove("bindery-viewing"),this.source.style.display=""}},{key:"setSize",value:function(e){(0,b.isValidSize)(e),this.pageSize=e,d.default.setSize(e)}},{key:"setMargin",value:function(e){(0,b.isValidSize)(e),this.pageMargin=e,d.default.setMargin(e)}},{key:"isSizeValid",value:function(){return d.default.isSizeValid()}},{key:"addRules",value:function(e){var t=this;e.forEach(function(e){if(!(e instanceof g.default.Rule))throw Error("Bindery: The following is not an instance of Bindery.Rule and will be ignored: "+e);t.rules.push(e)})}},{key:"makeBook",value:function(e){var t=this;if(!this.source)return void document.body.classList.add("bindery-viewing");if(!this.isSizeValid()){var n=this.pageSize.width,r=this.pageSize.height,i="{ width: "+n+", height: "+r+" }",o=this.pageMargin.inner,a=this.pageMargin.outer,s=this.pageMargin.top,u=this.pageMargin.bottom,d="{ top: "+s+", inner: "+o+", outer: "+a+", bottom: "+u+" }";return this.viewer.displayError("Page is too small","Size: "+i+" \n Margin: "+d+" \n Try adjusting the sizes or units."),void console.error("Bindery: Cancelled pagination. Page is too small.")}this.stopCheckingLayout(),this.source.style.display="";var c=this.source.cloneNode(!0);this.source.style.display="none",this.viewer.clear(),document.body.classList.add("bindery-viewing"),document.body.classList.add("bindery-inProgress"),this.controls||(this.controls=new h.default({binder:this})),this.controls.setInProgress(),(0,l.default)(c,this.rules,function(n){setTimeout(function(){t.viewer.book=n,t.viewer.update(),t.controls.setDone(),e&&e(),document.body.classList.remove("bindery-inProgress"),t.startCheckingLayout()},100)},function(e){t.controls.updateProgress(e)},function(e){document.body.classList.remove("bindery-inProgress"),t.viewer.displayError("Layout couldn't complete",e)},this.debugDelay)}},{key:"startCheckingLayout",value:function(){var e=this;this.autoupdate&&(this.layoutChecker=setInterval(function(){e.checkLayoutChange()},500))}},{key:"stopCheckingLayout",value:function(){this.layoutChecker&&(clearInterval(this.layoutChecker),this.pageOverflows=null)}},{key:"checkLayoutChange",value:function(){if("grid"===this.viewer.mode){if(!this.pageOverflows)return void(this.pageOverflows=this.getPageOverflows());var e=this.getPageOverflows();x(e,this.pageOverflows)||(this.throttledUpdateBook(),this.pageOverflows=e)}}},{key:"throttledUpdateBook",value:function(){var e=this;this.makeBookTimer&&clearTimeout(this.makeBookTimer),this.makeBookTimer=setTimeout(function(){e.makeBook()},500)}},{key:"getPageOverflows",value:function(){return this.viewer.pages.map(function(e){return e.overflowAmount()})}}],[{key:"makeBook",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.autorun=!t.autorun||t.autorun,new e(t)}}]),e}();Object.keys(g.default).forEach(function(e){k[e]=g.default[e]}),e.exports=k},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),a=r(o),s=n(2),l=n(9),u=r(l),d=n(4),c=r(d),f=function(e){return e[e.length-1]},p=function(e,t){for(var n=e,r=1;r<n.length-1;r+=2){var i=n[r];i.alwaysRight&&(i.outOfFlow?(n[r]=e[r+1],n[r+1]=i):e.splice(r,0,t()));var o=n[r+1];o.alwaysLeft&&(o.outOfFlow?(n[r+1]=e[r+3],n[r+3]=o):e.splice(r+1,0,new c.default))}return n},h=function(e){e.forEach(function(e,t){e.number=t+1,e.setLeftRight(t%2==0?"right":"left")});var t={h1:"",h2:"",h3:"",h4:"",h5:"",h6:""};e.forEach(function(e){e.heading={},Object.keys(t).forEach(function(n,r){var i=e.element.querySelector(n);i&&(t[n]=i.textContent,Object.keys(t).forEach(function(e,n){n>r&&(t[e]="")})),""!==t[n]&&(e.heading[n]=t[n])})})},b=function(e,t,n,r,o,l){var d={path:[],pages:[]},b=function(e){e.classList.add((0,s.prefix)("continues")),t.filter(function(e){return e.customContinuesClass}).forEach(function(t){return e.classList.add(t.customContinuesClass)})},y=function(e){e.classList.add((0,s.prefix)("continuation")),t.filter(function(e){return e.customContinuationClass}).forEach(function(t){return e.classList.add(t.customContinuationClass)})},g=function(e){for(var t=[],n=e.length-1;n>=0;n-=1){var r=e[n],i=r.cloneNode(!1);if(i.innerHTML="",b(r),y(i),i.id,"OL"===i.tagName){var o=1;r.hasAttribute("start")&&(o=parseInt(r.getAttribute("start"),10)),n<e.length-1&&"LI"===e[n+1].tagName&&(o-=1);var a=r.children.length,s=o+a;i.setAttribute("start",s)}n<e.length-1&&i.appendChild(t[n+1]),t[n]=i}return t},v=0,m=function(e,t){t?window.paginateStep=e:l>0?setTimeout(e,l):v<100?(v+=1,e()):(v=0,window.requestAnimationFrame(e))},w=function(e){t.forEach(function(t){t.afterPageCreated&&t.afterPageCreated(e,d)})},x=function(){var e=new c.default;return w(e),e},k=function(){if(d.currentPage&&d.currentPage.hasOverflowed()&&(console.warn("Bindery: Page overflowing",d.currentPage.element),!d.currentPage.suppressErrors))throw Error("Bindery: Moved to new page when last one is still overflowing");if(500===d.pages.length)console.warn("Bindery: More than 500 pages, performance may be slow.");else if(1e3===d.pages.length)console.warn("Bindery: More than 1000 pages, performance may be slow.");else if(d.pages.length>9999)throw o("Maximum page count exceeded"),Error("Bindery: Maximum page count exceeded. Suspected runaway layout.");d.path=g(d.path);var e=x();if(d.pages.push(e),d.currentPage=e,d.path[0]&&e.flowContent.appendChild(d.path[0]),e.hasOverflowed()){var t=f(d.path);t?(console.error("Bindery: NextPage already overflowing, probably due to a style set on "+(0,a.default)(t)+". It may not fit on the page."),t.parentNode.removeChild(t)):console.error("Bindery: NextPage already overflowing.")}return r(d.pages.length),e},C=function(e){var n=e;t.forEach(function(e){e.selector&&n.matches(e.selector)&&e.beforeAdd&&(n=e.beforeAdd(n,d,k))})},E=function(e){var n=e;t.forEach(function(e){e.selector&&n.matches(e.selector)&&e.afterAdd&&(n=e.afterAdd(n,d,k,function(t){return t.parentNode.removeChild(t),k(),f(d.path).appendChild(t),e.afterAdd(t,d,k,function(){console.log("Couldn't apply "+e.name+" to "+(0,a.default)(t)+". Caused overflows twice.")})}))})},P=function(e){t.forEach(function(t){t.afterBind&&e.pages.forEach(function(n){t.afterBind(n,e)})})},L=t.filter(function(e){return e.avoidSplit}).map(function(e){return e.selector}),O=function e(t){return L.some(function(e){return t.matches(e)})?!!t.hasAttribute("data-bindery-did-move")||!!t.classList.contains((0,s.prefix)("continuation")):!t.parentElement||e(t.parentElement)},M=function(e){d.path.pop();for(var t=e,n=[];!O(f(d.path));)t=d.path.pop(),n.unshift(t);t.setAttribute("data-bindery-did-move",!0);var r=t.parentNode;r.removeChild(t),""===f(d.path).textContent.trim()&&(r.appendChild(t),t=d.path.pop(),n.unshift(t),t.parentNode.removeChild(t)),d.currentPage.isEmpty,k(),f(d.path).appendChild(t),n.forEach(function(e){d.path.push(e)}),d.path.push(e)},_=function(e,t,n){var r=e;f(d.path).appendChild(r),d.currentPage.hasOverflowed()?(r.parentNode.removeChild(r),n()):m(t)},S=function(e,t,n){var r=e.nodeValue,i=e;if(f(d.path).appendChild(i),!d.currentPage.hasOverflowed())return void m(t);var o=0;!function e(){if(i.nodeValue=r.substr(0,o),d.currentPage.hasOverflowed()){for(" "===r.charAt(o)&&(o-=1);" "!==r.charAt(o)&&o>0;)o-=1;if(o<1)return i.nodeValue=r,i.parentNode.removeChild(i),void n();var a=r.substr(0,o),s=r.substr(o);return i.nodeValue=a,(r=s,o=0,k(),i=document.createTextNode(r),f(d.path).appendChild(i),d.currentPage.hasOverflowed())?void m(e):void m(t)}if(o>r.length-1)return void m(t);for(o+=1;" "!==r.charAt(o)&&o<r.length;)o+=1;m(e,!1)}()},z=window.performance.now();e.style.margin=0,e.style.padding=0;var j=new u.default;d.book=j,k();var T=function(){var e=window.performance.now();console.log("Bindery: Pages created in "+(e-z)/1e3+"s");var t=document.querySelector((0,s.prefixClass)("measure-area"));document.body.removeChild(t);var r=p(d.pages,x);h(r),j.pages=r,j.setCompleted(),P(j),n(j)};!function e(t,n){d.currentPage.hasOverflowed()&&console.error("Bindery: Trying to add node to a page that's already overflowing"),0===d.path.length?d.currentPage.flowContent.appendChild(t):f(d.path).appendChild(t),d.path.push(t);var r=[].concat(i(t.childNodes));t.innerHTML="",d.currentPage.hasOverflowed()&&M(t);var o=0;!function i(){if(!(o<r.length))return void n();var a=r[o];switch(o+=1,a.nodeType){case Node.TEXT_NODE:var s=function(){f(d.path).appendChild(a),d.currentPage.suppressErrors=!0,k(),m(i)};if(O(t)){S(a,i,function(){M(t),S(a,i,s)})}else{_(a,i,function(){M(t),_(a,i,s)})}break;case Node.ELEMENT_NODE:if("SCRIPT"===a.tagName){i();break}C(a),m(function(){e(a,function(){var e=d.path.pop();E(e),d.currentPage.hasOverflowed(),i()})});break;default:i()}}()}(e,T)};t.default=b},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){var t=e.tagName.toLowerCase(),n=e.id?"#"+e.id:"",i="";e.classList.length>0&&(i="."+[].concat(r(e.classList)).join("."));var o="";return n.length<1&&i.length<2&&(o='("'+e.textContent.substr(0,30).replace(/\s+/g," ")+'...")'),t+n+i+o};t.default=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e),this.pages=[],this.queued=[],this.isComplete=!1}return i(e,[{key:"pagesForSelector",value:function(e){var t=[];return this.pages.forEach(function(n){n.element.querySelector(e)&&t.push(n.number)}),t}},{key:"firstPageForSelector",value:function(e,t){var n=this;this.onComplete(function(){var r=n.pagesForSelector(e)[0];t(r)})}},{key:"onComplete",value:function(e){this.isComplete?e():this.queued.push(e)}},{key:"setCompleted",value:function(){this.isComplete=!0,this.queued.forEach(function(e){e()})}},{key:"pageCount",get:function(){return this.pages.length}}]),e}();t.default=o},function(e,t){/*!
 * Cross-Browser Split 1.1.1
 * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
 * Available under the MIT License
 * ECMAScript compliant, uniform cross-browser split method
 */
e.exports=function(e){var t=String.prototype.split,n=/()??/.exec("")[1]===e;return function(r,i,o){if("[object RegExp]"!==Object.prototype.toString.call(i))return t.call(r,i,o);var a,s,l,u,d=[],c=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.extended?"x":"")+(i.sticky?"y":""),f=0,i=new RegExp(i.source,c+"g");for(r+="",n||(a=new RegExp("^"+i.source+"$(?!\\s)",c)),o=o===e?-1>>>0:o>>>0;(s=i.exec(r))&&!((l=s.index+s[0].length)>f&&(d.push(r.slice(f,s.index)),!n&&s.length>1&&s[0].replace(a,function(){for(var t=1;t<arguments.length-2;t++)arguments[t]===e&&(s[t]=e)}),s.length>1&&s.index<r.length&&Array.prototype.push.apply(d,s.slice(1)),u=s[0].length,f=l,d.length>=o));)i.lastIndex===s.index&&i.lastIndex++;return f===r.length?!u&&i.test("")||d.push(""):d.push(r.slice(f)),d.length>o?d.slice(0,o):d}}()},function(e,t,n){function r(e){function t(e){var t=d();a(t,e)>-1||(t.push(e),c(t))}function n(e){var t=d(),n=a(t,e);-1!==n&&(t.splice(n,1),c(t))}function r(e){return a(d(),e)>-1}function s(e){return r(e)?(n(e),!1):(t(e),!0)}function l(){return e.className}function u(e){return d()[e]||null}function d(){return i(e.className.split(" "),o)}function c(t){var n=t.length;e.className=t.join(" "),p.length=n;for(var r=0;r<t.length;r++)p[r]=t[r];delete t[n]}var f=e.classList;if(f)return f;var p={add:t,remove:n,contains:r,toggle:s,toString:l,length:0,item:u};return p}function i(e,t){for(var n=[],r=0;r<e.length;r++)t(e[r])&&n.push(e[r]);return n}function o(e){return!!e}var a=n(12);e.exports=r},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),s=r(a),l=n(4),u=r(l),d=n(15),c=r(d),f="grid",p="arrange_two",h=function(){return(0,s.default)(".bindery-crop-wrap",(0,s.default)(".bindery-crop-top"),(0,s.default)(".bindery-crop-bottom"),(0,s.default)(".bindery-crop-left"),(0,s.default)(".bindery-crop-right"))},b=function(){return(0,s.default)(".bindery-crop-wrap",(0,s.default)(".bindery-crop-top"),(0,s.default)(".bindery-crop-bottom"),(0,s.default)(".bindery-crop-left"),(0,s.default)(".bindery-crop-right"),(0,s.default)(".bindery-crop-fold"))},y=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return s.default.apply(void 0,[".bindery-spread-wrapper"].concat(t))},g=function(e,t){var n=e%4==0,r=parseInt((e+1)/4,10)+1;return(0,s.default)(".bindery-print-meta","Sheet "+r+" of "+t/4+": "+(n?"Outside":"Inside"))},v=function(e){var t=void 0,n=document.querySelector("#bindery-orientation-stylesheet");n?t=n:(t=document.createElement("style"),t.id="bindery-orientation-stylesheet"),t.innerHTML="@page { size: "+e+"; }",document.head.appendChild(t)},m=function(e){for(;e.length%4!=0;){var t=new u.default;t.element.style.visibility="hidden",e.push(t)}for(var n=[],r=e.length,i=0;i<r/2;i+=2)n.push(e[r-1-i]),n.push(e[i]),n.push(e[i+1]),n.push(e[r-2-i]);return n},w=function(e){if(e.length%2!=0){var t=new u.default;e.push(t)}var n=new u.default,r=new u.default;return n.element.style.visibility="hidden",r.element.style.visibility="hidden",e.unshift(n),e.push(r),e},x=function(e,t){var n=document.createDocumentFragment();if(t)for(var r=0;r<e.length;r+=2){var i=y({style:u.default.spreadSizeStyle()},e[r].element,e[r+1].element);n.appendChild(i)}else e.forEach(function(e){var t=y({style:u.default.sizeStyle()},e.element);n.appendChild(t)});return n},k=function(e,t,n,r){var i=document.createDocumentFragment(),o=t?u.default.spreadSizeStyle():u.default.sizeStyle(),a=t?b:h,l=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.default)(".bindery-print-page.bindery-letter-"+n,y.apply(void 0,[{style:o}].concat(t,[a()])))};if(t)for(var d=0;d<e.length;d+=2){var c=l(e[d].element,e[d+1].element);if(i.appendChild(c),r){var f=g(d,e.length);c.appendChild(f)}}else e.forEach(function(e){var t=l(e.element);i.appendChild(t)});return i},C=function(){function e(){i(this,e),this.book=null,this.zoomBox=(0,s.default)(".bindery-zoom-wrap");var t=(0,s.default)(".bindery-spinner");this.export=(0,s.default)(".bindery-export",this.zoomBox,t),this.doubleSided=!0,this.printArrange=p,this.isShowingCropMarks=!0,this.setOrientation("landscape"),this.mode=f,this.currentLeaf=0,this.listenForPrint(),this.listenForResize(),document.body.appendChild(this.export)}return o(e,[{key:"listenForPrint",value:function(){var e=this;if(window.matchMedia){window.matchMedia("print").addListener(function(t){t.matches&&e.setPrint()})}}},{key:"listenForResize",value:function(){var e=this;window.addEventListener("resize",function(){e.throttleResize||(e.updateZoom(),e.throttleResize=setTimeout(function(){e.throttleResize=null},20))})}},{key:"setOrientation",value:function(e){e!==this.orientation&&(this.orientation=e,v(e),"print"===this.mode?this.update():this.setPrint())}},{key:"setPrintArrange",value:function(e){e!==this.printArrange&&(this.printArrange=e,"print"===this.mode?this.update():this.setPrint())}},{key:"displayError",value:function(e,t){this.export.parentNode||document.body.appendChild(this.export),this.error||(this.zoomBox.innerHTML="",this.error=(0,c.default)(e,t),this.zoomBox.appendChild(this.error))}},{key:"clear",value:function(){this.book=null,this.zoomBox.innerHTML=""}},{key:"cancel",value:function(){this.export.parentNode&&this.export.parentNode.removeChild(this.export)}},{key:"toggleGuides",value:function(){this.export.classList.toggle("bindery-show-guides")}},{key:"toggleBleed",value:function(){this.export.classList.add("bindery-show-bleed")}},{key:"toggleDouble",value:function(){this.doubleSided=!this.doubleSided,this.update()}},{key:"setMode",value:function(e){switch(e){case"grid":case"default":this.mode=f;break;case"interactive":case"flip":this.mode="interactive";break;case"print":case"sheet":this.mode="print";break;case"outline":case"outlines":this.mode="outline";break;default:console.error('Bindery: Unknown view mode "'+e+'"')}}},{key:"setGrid",value:function(){this.mode!==f&&("outline"===this.mode?(this.mode=f,this.updateGuides()):(this.mode=f,this.update()))}},{key:"setOutline",value:function(){"outline"!==this.mode&&(this.mode===f?(this.mode="outline",this.updateGuides()):(this.mode="outline",this.update()))}},{key:"setPrint",value:function(){"print"!==this.mode&&(this.mode="print",this.update())}},{key:"setInteractive",value:function(){this.mode="interactive",this.update()}},{key:"update",value:function(){if(this.book){this.export.parentNode||document.body.appendChild(this.export),this.flaps=[],document.body.classList.add("bindery-viewing"),document.body.setAttribute("bindery-view-mode",this.mode);var e=document.body.scrollTop/document.body.scrollHeight;this.mode===f?this.renderGrid():"outline"===this.mode?this.renderGrid():"interactive"===this.mode?this.renderInteractive():"print"===this.mode?this.renderPrint():this.renderGrid(),document.body.scrollTop=document.body.scrollHeight*e,this.updateZoom()}}},{key:"updateZoom",value:function(){if(this.zoomBox.firstElementChild){var e=document.body.scrollTop/document.body.scrollHeight,t=this.zoomBox.getBoundingClientRect().width,n=this.zoomBox.firstElementChild.getBoundingClientRect().width,r=Math.min(1,t/(n+20));this.zoomBox.style.transform="scale("+r+")",document.body.scrollTop=document.body.scrollHeight*e}}},{key:"updateGuides",value:function(){document.body.setAttribute("bindery-view-mode",this.mode),"outline"===this.mode?(this.export.classList.add("bindery-show-bleed"),this.export.classList.add("bindery-show-guides")):(this.export.classList.remove("bindery-show-bleed"),this.export.classList.remove("bindery-show-guides"))}},{key:"renderPrint",value:function(){this.export.classList.add("bindery-show-bleed"),this.export.classList.remove("bindery-show-guides"),this.zoomBox.innerHTML="";var e="arrange_one"!==this.printArrange,t="arrange_booklet"===this.printArrange,n=this.orientation,r=this.book.pages.slice();this.printArrange===p?r=w(r):"arrange_booklet"===this.printArrange&&(r=m(r));var i=k(r,e,n,t);this.zoomBox.appendChild(i)}},{key:"renderGrid",value:function(){this.updateGuides(),this.zoomBox.innerHTML="";var e=this.book.pages.slice();this.doubleSided&&(e=w(e));var t=x(e,this.doubleSided);this.zoomBox.appendChild(t)}},{key:"renderInteractive",value:function(){var e=this;this.zoomBox.innerHTML="",this.flaps=[],this.export.classList.remove("bindery-show-bleed"),this.export.classList.remove("bindery-show-guides");for(var t=w(this.book.pages.slice()),n=0,r=1;r<t.length-1;r+=this.doubleSided?2:1)!function(r){n+=1;var i=n,o=(0,s.default)(".bindery-page3d",{style:u.default.sizeStyle(),onclick:function(){var t=i-1;t===e.currentLeaf&&(t+=1),e.setLeaf(t)}});e.export.classList.add("bindery-stage3d"),e.flaps.push(o);var a=t[r].element,l=void 0;a.classList.add("bindery-page3d-front"),o.appendChild(a),e.doubleSided?(o.classList.add("bindery-doubleSided"),l=t[r+1].element,l.classList.add("bindery-page3d-back"),o.appendChild(l)):(l=(0,s.default)(".bindery-page.bindery-page3d-back",{style:u.default.sizeStyle()}),o.appendChild(l));var d=4;t.length*d>300&&(d=300/t.length),o.style.left=r*d+"px",e.zoomBox.appendChild(o)}(r);this.currentLeaf?this.setLeaf(this.currentLeaf):this.setLeaf(0)}},{key:"setLeaf",value:function(e){this.currentLeaf=e;var t=4;this.flaps.length*t>200&&(t=200/this.flaps.length),this.flaps.forEach(function(n,r,i){var o=(i.length-Math.abs(r-e+.5))*t;n.style.transform="translate3d("+(r<e?4:0)+"px,0,"+o+"px) rotateY("+(r<e?-180:0)+"deg)"})}},{key:"isShowingCropMarks",get:function(){return this.export.classList.contains("bindery-show-crop")},set:function(e){e?this.export.classList.add("bindery-show-crop"):this.export.classList.remove("bindery-show-crop")}}]),e}();t.default=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(".bindery-error",(0,i.default)(".bindery-error-title",e),(0,i.default)(".bindery-error-text",t),(0,i.default)(".bindery-error-footer","Bindery 2.0.0-alpha.3.2"))};var r=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(r)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=n(3),s=n(2),l=n(17),u=function e(t){var n=this;r(this,e),this.binder=t.binder;var i=function(){n.binder.cancel()},u=function(){n.binder.viewer.setPrint(),window.print()},d=(0,l.btnMain)({onclick:u},"Print"),c=void 0,f=void 0,p=void 0,h=function(){n.binder.viewer.isShowingCropMarks=!n.binder.viewer.isShowingCropMarks,f.classList.toggle("selected")},b=function(){p.classList.toggle("selected"),c.classList.toggle("not-facing"),n.binder.viewer.toggleDouble()};f=(0,l.switchRow)({onclick:h},"Crop Marks"),f.classList.add("selected"),p=(0,l.switchRow)({onclick:b},"Facing Pages"),p.classList.add("selected");var y="";this.binder.autorun||(y=(0,l.btn)({onclick:i},"Done"));var g={top:(0,l.inputNumberUnits)(this.binder.pageMargin.top),inner:(0,l.inputNumberUnits)(this.binder.pageMargin.inner),outer:(0,l.inputNumberUnits)(this.binder.pageMargin.outer),bottom:(0,l.inputNumberUnits)(this.binder.pageMargin.bottom),width:(0,l.inputNumberUnits)(this.binder.pageSize.width),height:(0,l.inputNumberUnits)(this.binder.pageSize.height)},v=(0,o.default)("."+(0,s.prefix)("row")+"."+(0,s.prefix)("size"),(0,o.default)("div","W",g.width),(0,o.default)("div","H",g.height)),m=(0,o.default)((0,s.prefixClass)("preview")),w=(0,o.default)("."+(0,s.prefix)("row")+"."+(0,s.prefix)("margin"),(0,o.default)(".top",g.top),(0,o.default)(".inner",g.inner),(0,o.default)(".outer",g.outer),(0,o.default)(".bottom",g.bottom),m);c=(0,o.default)((0,s.prefixClass)("layout-control"),v,w);var x=(0,l.row)("Paper Size",(0,l.select)((0,l.option)("Letter"),(0,l.option)({disabled:!0},"8.5 x 11"),(0,l.option)({disabled:!0},""),(0,l.option)({disabled:!0},"Legal"),(0,l.option)({disabled:!0},"8.5 x 14"),(0,l.option)({disabled:!0},""),(0,l.option)({disabled:!0},"Tabloid"),(0,l.option)({disabled:!0},"11 x 17"),(0,l.option)({disabled:!0},""),(0,l.option)({disabled:!0},"A4"),(0,l.option)({disabled:!0},"mm x mm"))),k=(0,l.select)((0,l.option)({value:"arrange_one"},"Pages"),(0,l.option)({value:"arrange_two",selected:!0},"Spreads"),(0,l.option)({value:"arrange_booklet"},"Booklet"),(0,l.option)({disabled:!0},"Grid"),(0,l.option)({disabled:!0},"Signatures"));k.addEventListener("change",function(){n.binder.viewer.setPrintArrange(k.value)});var C=(0,l.row)("Print",k),E=(0,l.select)((0,l.option)({value:"landscape"},"Landscape"),(0,l.option)({value:"portrait"},"Portrait"));E.addEventListener("change",function(){n.binder.viewer.setOrientation(E.value)});var P=(0,l.row)("Orientation",E),L=(0,o.default)("div",{style:{display:"none",color:"#e2b200"}},"Too Small"),O=(0,l.btn)({style:{display:"none"}},"Updating..."),M=(0,l.btn)({onclick:function(){O.style.display="block",M.style.display="none",setTimeout(function(){n.binder.makeBook(function(){O.style.display="none",M.style.display="block"},100)})}},"Update Layout"),_=function(){n.binder.viewer.setGrid()},S=function(){n.binder.viewer.setOutline()},z=function(){n.binder.viewer.setInteractive()},j=function(){n.binder.viewer.setPrint()},T=[(0,l.viewMode)("grid",_,"Preview"),(0,l.viewMode)("outline",S,"Outline"),(0,l.viewMode)("flip",z,"Flip"),(0,l.viewMode)("print",j,"Sheet")],A=o.default.apply(void 0,[(0,s.prefixClass)("viewswitcher")].concat(T)),B=(0,l.title)("Loading..."),R=function(e,t){var n={top:(0,a.convertStrToPx)(t.top),inner:(0,a.convertStrToPx)(t.inner),outer:(0,a.convertStrToPx)(t.outer),bottom:(0,a.convertStrToPx)(t.bottom),width:(0,a.convertStrToPx)(e.width),height:(0,a.convertStrToPx)(e.height)},r=n.width/n.height;r=Math.max(r,.6),r=Math.min(r,1.8);var i=void 0,o=void 0;r>2?(i=90*r,o=90):(i=90,o=90/r);var s=n.top/n.height*o,l=n.bottom/n.height*o,u=n.outer/n.width*i,d=n.inner/n.width*i;v.style.width=i+"px",v.style.height=o+"px",w.style.width=i+"px",w.style.height=o+"px",m.style.top=s+"px",m.style.bottom=l+"px",m.style.left=d+"px",m.style.right=u+"px"};R(this.binder.pageSize,this.binder.pageMargin),this.setInProgress=function(){B.innerText="Paginating...",L.style.display="none",O.style.display="block",M.style.display="none"},this.updateProgress=function(e){B.innerText=e+" Pages"},this.setDone=function(){B.innerText=n.binder.viewer.book.pages.length+" Pages",O.style.display="none",M.style.display="block",L.style.display="none"},this.setInvalid=function(){L.style.display="block",M.style.display="block",O.style.display="none"};var H=function(){var e={top:g.top.value,inner:g.inner.value,outer:g.outer.value,bottom:g.bottom.value},t={height:g.height.value,width:g.width.value},r=!1;Object.keys(e).forEach(function(t){n.binder.pageMargin[t]!==e[t]&&(r=!0)}),Object.keys(t).forEach(function(e){n.binder.pageSize[e]!==t[e]&&(r=!0)}),r&&(R(t,e),n.binder.setSize(t),n.binder.setMargin(e),n.binder.isSizeValid()?n.binder.makeBook():n.setInvalid())},N=void 0,F=function(){clearTimeout(N),N=setTimeout(H,700)};Object.keys(g).forEach(function(e){g[e].addEventListener("change",F),g[e].addEventListener("keyup",F)});var V=(0,o.default)("div",M,L,O);this.holder=document.body.appendChild((0,o.default)((0,s.prefixClass)("controls"),B,C,x,P,f,(0,l.expandRow)("Book Setup"),(0,l.expandArea)(c,V),y,d,A))};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.viewMode=t.inputNumberUnits=t.switchRow=t.option=t.select=t.btnMain=t.btn=t.heading=t.expandArea=t.expandRow=t.row=t.title=void 0;var r=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(2),a=n(3),s=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,[(0,o.prefixClass)("title")].concat(t))},l=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,[(0,o.prefixClass)("heading")].concat(t))},u=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,[(0,o.prefixClass)("row")].concat(t))},d=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,["."+(0,o.prefix)("row")+"."+(0,o.prefix)("expand-row"),{onclick:function(){this.classList.toggle("selected")}}].concat(t))},c=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,[(0,o.prefixClass)("expand-area")].concat(t))},f=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,["button."+(0,o.prefix)("btn")].concat(t))},p=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,["button."+(0,o.prefix)("btn")+"."+(0,o.prefix)("btn-main")].concat(t))},h=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,["select"].concat(t))},b=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,["option"].concat(t))},y=function(e){return(0,i.default)("input",{type:"text",value:e,pattern:a.cssNumberPattern})},g=function(){return(0,i.default)((0,o.prefixClass)("switch"),(0,i.default)((0,o.prefixClass)("switch-handle")))},v=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,[(0,o.prefixClass)("row")].concat(t,[g]))},m=function(e,t,n){var r="."+(0,o.prefix)("viewmode")+"."+(0,o.prefix)(e);return(0,i.default)(r,{onclick:t},(0,i.default)((0,o.prefixClass)("icon")),n)};t.title=s,t.row=u,t.expandRow=d,t.expandArea=c,t.heading=l,t.btn=f,t.btnMain=p,t.select=h,t.option=b,t.switchRow=v,t.inputNumberUnits=y,t.viewMode=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(19),o=r(i),a=n(20),s=r(a),l=n(21),u=r(l),d=n(22),c=r(d),f=n(23),p=r(f),h=n(5),b=r(h),y=n(1),g=r(y),v=n(24),m=r(v),w=n(25),x=r(w);t.default={Rule:g.default,Continuation:function(e){return new o.default(e)},FullPage:function(e){return new s.default(e)},Footnote:function(e){return new u.default(e)},RunningHeader:function(e){return new p.default(e)},Replace:function(e){return new b.default(e)},Spread:function(e){return new m.default(e)},PageBreak:function(e){return new x.default(e)},PageReference:function(e){return new c.default(e)},createRule:function(e){return new g.default(e)}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(e){return r(this,t),e.name="Continuation",e.hasContinuationClass=e.hasContinuationClass||"my-continues",e.isContinuationClass=e.isContinuationClass||"my-continuation",i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),a(t,[{key:"customContinuesClass",get:function(){return this.hasContinuationClass}},{key:"customContinuationClass",get:function(){return this.isContinuationClass}}]),t}(l.default);t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=void 0,d=void 0,c=function(e){function t(e){return r(this,t),e.name="Full Page Spread",i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),a(t,[{key:"beforeAdd",value:function(e,t,n){return u=t.currentPage,d=t.path,n(),e.classList.contains("bleed")&&t.currentPage.element.classList.add("bleed"),e}},{key:"afterAdd",value:function(e,t){return t.currentPage=u,t.path=d,e}}]),t}(l.default);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},u=n(0),d=r(u),c=n(5),f=r(c),p=function(e){function t(e){return i(this,t),e.name="Footnote",o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"afterAdd",value:function(e,n,r,i){var o=n.currentPage.footer.children.length+1,a=(0,d.default)(".footnote"),s=this.render(e,o);return s instanceof HTMLElement?a.appendChild(s):a.innerHTML=s,n.currentPage.footer.appendChild(a),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"afterAdd",this).call(this,e,n,r,function(e){return n.currentPage.footer.removeChild(a),i(e)})}},{key:"createReplacement",value:function(e,t){var n=e.currentPage.footer.children.length;return this.replace(t,n)}},{key:"replace",value:function(e,t){return e.insertAdjacentHTML("beforeEnd",'<sup class="bindery-sup">'+t+"</sup>"),e}},{key:"render",value:function(e,t){return"<sup>"+t+"</sup> Default footnote (<a href='http://evanbrooks.info/bindery/#docs'>Docs</a>)"}}]),t}(f.default);t.default=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(5),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(e){r(this,t),e.name="Page Reference";var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.references={},n}return o(t,e),a(t,[{key:"afterAdd",value:function(e,t){var n=this,r=e.getAttribute("href");return r&&("#"!==r[0]&&(r=r.substr(r.indexOf("#"))),r=r.replace("#",""),r='[id="'+r+'"]',this.references[r]=e,t.book.firstPageForSelector(r,function(t){var r=e.parentNode,i=n.replace(e,t);r.replaceChild(i,e)})),e}},{key:"replace",value:function(e,t){return e.insertAdjacentHTML("beforeend"," ↝ Page "+t),e}}]),t}(l.default);t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),d=n(1),c=r(d),f=function(e){function t(e){return i(this,t),e.name="Running Header",o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"afterBind",value:function(e){var t=(0,u.default)(".bindery-running-header");t.innerHTML=this.render(e),e.element.appendChild(t)}},{key:"render",value:function(e){return e.number}}]),t}(c.default);t.default=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(e){r(this,t),e.name="Spread";var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.prevPage=null,n.prevElementPath=null,n}return o(t,e),a(t,[{key:"beforeAdd",value:function(e,t,n){return this.prevPage=t.currentPage,this.prevElementPath=t.path,n(),e}},{key:"afterAdd",value:function(e,t,n){var r=t.currentPage,i=r.flowContent.cloneNode(!0),o=n();return o.flowBox.innerHTML="",o.flowBox.appendChild(i),o.flowContent=i,r.element.classList.add("bindery-spread"),r.element.classList.add("bleed"),r.setPreference("left"),r.setOutOfFlow(!0),o.element.classList.add("bindery-spread"),o.element.classList.add("bleed"),o.setPreference("right"),o.setOutOfFlow(!0),t.currentPage=this.prevPage,t.path=this.prevElementPath,e}}]),t}(l.default);t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(e){return r(this,t),e.name="Page Break",e.position=e.position?e.position:"before",e.continue=e.continue?e.continue:"any",i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),a(t,[{key:"beforeAdd",value:function(e,t,n){return"before"!==this.position&&"both"!==this.position||(t.currentPage.isEmpty||n(),"any"!==this.continue&&t.currentPage.setPreference(this.continue)),e}},{key:"afterAdd",value:function(e,t,n){if("after"===this.position||"both"===this.position){var r=n();"any"!==this.continue&&r.setPreference(this.continue)}return e}},{key:"avoidSplit",get:function(){return"avoid"===this.position}}]),t}(l.default);t.default=u},function(e,t,n){var r=n(27);"string"==typeof r&&(r=[[e.i,r,""]]);n(34)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(28)(),t.push([e.i,'@media screen{.bindery-page{background:#fff;outline:1px solid rgba(0,0,0,.1);box-shadow:0 1px 3px rgba(0,0,0,.2);overflow:hidden}.bindery-show-bleed .bindery-page{box-shadow:none;outline:none;overflow:visible}.bindery-page3d .bindery-page{overflow:hidden!important}.bindery-page:after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;pointer-events:none;z-index:999}.bindery-zoom-wrap *{transition:box-shadow .2s}.bindery-show-guides .bindery-zoom-wrap *{box-shadow:inset 0 0 0 1px rgba(0,92,255,.2)}.bindery-show-guides .bindery-page:after{box-shadow:0 0 0 1px #f0f}.bindery-show-guides .bindery-flowbox,.bindery-show-guides .bindery-footer,.bindery-show-guides .bindery-running-header{box-shadow:0 0 0 1px cyan}.bindery-show-guides .bindery-content{box-shadow:inset 0 0 0 1px blue}.bindery-show-guides .bindery-bleed{box-shadow:0 0 0 1px #ff0}.bindery-is-overflowing{overflow:visible}.bindery-is-overflowing:before{transition:none;content:"+";position:absolute;bottom:0;display:block;margin:0 auto -10px;left:0;right:0;text-align:center;font:8px/1.3 -apple-system,BlinkMacSystemFont,Roboto,sans-serif;font-weight:500;text-transform:uppercase;letter-spacing:.1em;color:#ad0000;width:12px;background:#fff;z-index:999;border-radius:2px;padding:4px;overflow:hidden;border:1px solid currentColor}.bindery-is-overflowing:hover:before{content:"Overflow";width:54px}.bindery-is-overflowing .bindery-content{transition:none}.bindery-is-overflowing .bindery-content:hover{box-shadow:inset 0 0 0 1px #ad0000;background:rgba(173,0,0,.04)}}.bindery-page{width:200px;height:300px;position:relative;display:flex;flex-direction:column;flex-wrap:nowrap;margin:auto}.bindery-flowbox{position:relative;margin:60px 40px;margin-bottom:0;flex:1 1 auto;min-height:0}.bindery-content{padding:.1px}.bindery-footer{margin:60px 40px;margin-top:8pt;flex:0 1 auto;z-index:2}.bindery-footer>:first-child:before{content:"";display:block;width:24pt;height:1px;box-shadow:inset 0 .5px 0 0 #000;margin-bottom:8pt}.bindery-page.bleed .bindery-flowbox{margin:0;position:absolute;top:-20px;bottom:-20px}.bindery-left.bleed .bindery-flowbox{right:0;left:-20px}.bindery-right.bleed .bindery-flowbox{left:0;right:-20px}.bindery-bleed{position:absolute;top:-.2in;bottom:-.2in;z-index:0}.bindery-left .bindery-bleed{right:0;left:-.2in}.bindery-right .bindery-bleed{left:0;right:-.2in}.bindery-spread.bindery-left .bindery-content{position:absolute;top:0;left:0;right:-100%;bottom:0}.bindery-spread.bindery-right .bindery-content{position:absolute;top:0;left:-100%;right:0;bottom:0}.bindery-sup{font-size:.667em}.bindery-footer,.bindery-running-header{font-size:10pt}.bindery-running-header{position:absolute;text-align:center;top:.25in}.bindery-left .bindery-running-header{left:18pt;text-align:left}.bindery-right .bindery-running-header{right:18pt;text-align:right}p.bindery-continuation{text-indent:0!important}li.bindery-continuation{list-style:none!important}.bindery-crop-wrap{display:none;position:absolute;pointer-events:none;top:0;bottom:0;left:0;right:0;z-index:999}.bindery-show-crop .bindery-crop-wrap{display:block}.bindery-crop-wrap>div{position:absolute;overflow:hidden}.bindery-crop-wrap>div:after,.bindery-crop-wrap>div:before{content:"";background:#000;width:12pt;height:12pt;display:block;position:absolute}.bindery-crop-wrap>div:before{top:0;left:0}.bindery-crop-wrap>div:after{bottom:0;right:0}.bindery-show-crop .bindery-print-page .bindery-spread-wrapper{margin:30pt auto}.bindery-crop-fold,.bindery-crop-left,.bindery-crop-right{transform:scaleX(.5);top:-20pt;bottom:-20pt;width:1px;margin:auto}.bindery-crop-fold{right:0;left:0}.bindery-crop-left{left:0}.bindery-crop-right{right:0}.bindery-crop-bottom,.bindery-crop-top{transform:scaleY(.5);left:-20pt;right:-20pt;height:1px}.bindery-crop-top{top:0}.bindery-crop-bottom{bottom:0}@media screen{.bindery-viewing{background:#f4f4f4!important}.bindery-export{transition:opacity .2s;opacity:1;background:#f4f4f4;padding:20px;z-index:99;position:relative;padding-right:240px;animation:fadeUp .3s;min-height:90vh}.bindery-measure-area{position:fixed;background:#f4f4f4;padding:50px 20px;padding-right:240px;z-index:99;visibility:hidden;top:0;left:0;right:0;bottom:0}.bindery-print-page{margin:0 auto}.bindery-spinner{border:2px solid transparent;border-left-color:navy;width:32px;height:32px;border-radius:50%;position:absolute;top:0;left:0;bottom:0;right:0;margin:auto;z-index:999;opacity:0}.bindery-inProgress .bindery-spinner{opacity:1;animation:spin .6s linear infinite}.bindery-error{font:16px/1.4 -apple-system,BlinkMacSystemFont,Roboto,sans-serif;margin:15vh 15vw;max-width:500px;background:url('+n(29)+") no-repeat 0 0;background-size:48px;padding-top:64px}.bindery-error-title{font-size:1.5em;margin-bottom:16px}.bindery-error-text{margin-bottom:16px;white-space:pre-line}.bindery-error-footer{opacity:.5;font-size:.66em;text-transform:uppercase;letter-spacing:.02em}.bindery-show-bleed .bindery-print-page{background:#fff;outline:1px solid rgba(0,0,0,.1);box-shadow:0 1px 3px rgba(0,0,0,.2);margin:20px auto}.bindery-letter-landscape{width:11in;height:8.5in}.bindery-letter-portrait{width:8.5in;height:11in}}@keyframes fadeUp{0%{opacity:0}to{opacity:1}}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(1turn)}}@page{margin:0}@media print{.bindery-export{-webkit-print-color-adjust:exact}.bindery-viewing>:not(.bindery-export){display:none!important}.bindery-print-page{margin:20px}.bindery-zoom-wrap[style]{transform:none!important}}body.bindery-viewing{margin:0}.bindery-zoom-wrap{transform-origin:top left;transform-style:preserve-3d;height:calc(100vh - 40px)}.bindery-viewing>:not(.bindery-export):not(.bindery-controls):not(.bindery-measure-area){display:none!important}.bindery-print-page{page-break-after:always;position:relative;overflow:hidden}.bindery-spread-wrapper{position:relative;display:flex;width:800px;margin:0 auto 50px}.bindery-print-page .bindery-spread-wrapper{margin:0 auto}.bindery-print-meta{padding:12pt;text-align:center;font-family:-apple-system,BlinkMacSystemFont,Roboto,sans-serif;font-size:8pt}.bindery-stage3d{perspective:3000px;transform-style:preserve-3d}.bindery-page3d{margin:auto;width:400px;height:600px;transform:rotateY(0);transform-style:preserve-3d;transform-origin:left;transition:transform .5s,box-shadow .1s;position:absolute;left:0;right:0;top:0;bottom:0}.bindery-page3d:hover{box-shadow:2px 0 4px rgba(0,0,0,.2)}.bindery-page3d.flipped{transform:rotateY(-180deg)}.bindery-page3d .bindery-page{position:absolute;backface-visibility:hidden}.bindery-page3d .bindery-page3d-front{transform:rotateY(0)}.bindery-page3d .bindery-page3d-front:after{box-shadow:inset 12px 0 12px -12px rgba(0,0,0,.4)}.bindery-page3d .bindery-page3d-back{transform:rotateY(-180deg)}.bindery-page3d .bindery-page3d-back:after{box-shadow:inset -12px 0 12px -12px rgba(0,0,0,.4)}@media screen{.bindery-viewing .bindery-controls{display:block!important}}.bindery-controls{font:14px/1.4 -apple-system,BlinkMacSystemFont,Roboto,sans-serif;position:fixed;top:0;bottom:0;right:0;width:240px;z-index:999;margin:auto;color:#000;background:#f4f4f4;overflow:scroll;padding-bottom:100px}.bindery-controls *{font:inherit;color:inherit;margin:0;padding:0;box-sizing:border-box}.bindery-title{padding:20px;font-size:18px}.bindery-btn{-webkit-appearance:none;padding:8px 16px;color:#444;border:none;background:rgba(0,0,0,.06);cursor:pointer;font-size:12px;letter-spacing:.01em;font-weight:500;display:inline-block;border-radius:3px;margin:16px;width:auto}.bindery-btn:focus{outline:none;box-shadow:0 1px 3px rgba(0,0,0,.2)}.bindery-btn:hover{background:rgba(0,0,0,.1)}.bindery-btn:active{background:rgba(0,0,0,.14)}.bindery-inProgress .bindery-btn{opacity:.2;pointer-events:none}.bindery-btn-main{background:navy;color:#fff}.bindery-btn-main:hover{background:navy;opacity:.7}.bindery-btn-main:active{background:#000;opacity:1}.bindery-viewswitcher{padding:12px 8px;position:fixed;bottom:0;right:0;z-index:99;width:240px;background:#f4f4f4}.bindery-viewmode{height:54px;width:25%;display:inline-block;text-align:center;font-size:10px;color:#aaa;cursor:pointer;border-radius:3px}.bindery-viewmode:hover{background:rgba(0,0,0,.04)}.bindery-viewmode .bindery-icon{height:32px;width:32px;background:currentColor;margin:0 auto}.bindery-viewmode.bindery-grid .bindery-icon{-webkit-mask:url("+n(30)+") no-repeat 50% 50%}.bindery-viewmode.bindery-flip .bindery-icon{-webkit-mask:url("+n(31)+") no-repeat 50% 50%}.bindery-viewmode.bindery-outline .bindery-icon{-webkit-mask:url("+n(32)+") no-repeat 50% 50%}.bindery-viewmode.bindery-print .bindery-icon{-webkit-mask:url("+n(33)+') no-repeat 50% 50%}[bindery-view-mode=grid] .bindery-grid,[bindery-view-mode=interactive] .bindery-flip,[bindery-view-mode=outline] .bindery-outline,[bindery-view-mode=print] .bindery-print{color:navy}.bindery-row{position:relative;display:block;padding:8px 12px;margin:4px 8px;cursor:pointer}.bindery-row select{float:right;border:none;background:transparent;padding:12px;width:100px}.bindery-row select:hover{background:rgba(0,0,0,.04)}.bindery-row input{width:85px;padding:4px 6px 4px 8px;text-align:right;border:none;background:none;position:absolute;top:0;right:0;height:100%;width:100%;color:#000;text-shadow:0 2px 0 #fff,0 -2px 0 #fff,2px 0 0 #fff,-2px 0 0 #fff}.bindery-row input:focus{outline:none;background:rgba(0,0,0,.04)}.bindery-row input:invalid{color:maroon}.bindery-expand-row{color:navy}.bindery-expand-row:hover{background:rgba(0,0,0,.04)}.bindery-expand-row:after{content:"+";font-size:1.5em;padding:0;position:absolute;right:20px;top:2px;font-weight:300}.bindery-expand-row.selected:after{content:"\\2013"}.bindery-expand-row.selected+.bindery-expand-area{display:block}.bindery-expand-area{display:none;margin-bottom:16px;padding:12px 0}.bindery-expand-area.selected{margin-bottom:0}.bindery-margin,.bindery-size{display:inline-block;vertical-align:middle;margin:0;min-height:80px;background:#fff;outline:1px solid #ddd;height:100px;width:100px}.bindery-size{padding:8px 0;font-size:12px}.bindery-size div{position:relative;padding:6px 12px;color:#aaa}.bindery-layout-control{margin:4px 20px 16px}.bindery-margin{overflow:hidden}.bindery-margin>div{position:absolute;width:54px;height:24px;z-index:5}.bindery-margin>div:hover{z-index:99}.bindery-margin .top{left:0;right:0;margin:auto;top:0}.bindery-margin .bottom{left:0;right:0;margin:auto;bottom:0}.bindery-margin .inner{left:0;text-align:left;top:calc(50% - 12px)}.bindery-margin .inner input{text-align:left}.bindery-margin .outer{right:0;text-align:right;top:calc(50% - 12px)}.bindery-margin .outer input{text-align:right}.bindery-margin .bindery-preview{top:0;left:0;right:0;bottom:0;border:1px solid #a9a9ff;height:auto;width:auto;z-index:0;pointer-events:none;transition:border .2s}.bindery-margin input{text-align:center;padding:4px;font-size:12px}.bindery-margin input:focus{background:none!important}.bindery-switch{width:28px;height:16px;background:rgba(0,0,0,.2);border-radius:8px;margin-right:5px;vertical-align:middle;float:right;transition:all .2s;position:relative}.bindery-switch-handle{width:16px;height:16px;border-radius:50%;background:#fff;box-shadow:0 1px 2px rgba(0,0,0,.2);transition:all .2s;position:absolute;left:0;top:0}.bindery-row:hover .bindery-switch-handle{box-shadow:0 2px 3px rgba(0,0,0,.3)}.bindery-row.selected .bindery-switch{background:rgba(0,0,128,.6)}.bindery-row.selected .bindery-switch-handle{background:navy;left:12px}',""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='36' height='36' viewBox='0 0 36 36' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cdefs%3E%3Cpath id='a' d='M0 4H15V27H0z'/%3E%3Cpath id='b' d='M15 4H30V27H15z'/%3E%3Cpath id='c' d='M14 4.07147535L27 0 27 22.9285247 14 27z'/%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg transform='translate(3 2)'%3E%3Cuse fill='%23FFFFFF' xlink:href='%23a'/%3E%3Cpath stroke='%23000000' d='M0.5 4.5H14.5V26.5H0.5z'/%3E%3C/g%3E%3Cg transform='translate(3 2)'%3E%3Cuse fill='%23FFFFFF' xlink:href='%23b'/%3E%3Cpath stroke='%23000000' d='M15.5 4.5H29.5V26.5H15.5z'/%3E%3C/g%3E%3Cg transform='translate(3 2)'%3E%3Cuse fill='%23FFFFFF' xlink:href='%23c'/%3E%3Cpath stroke='%23000000' d='M14.5,4.43882867 L14.5,26.3194563 L26.5,22.5611713 L26.5,0.680543732 L14.5,4.43882867 Z'/%3E%3C/g%3E%3Cpath fill='%23000000' opacity='.3' d='M16.3241613 26.7071852L25.7154453 22.615177 26.1596848 4.74924377 28 4.30920273 28 27z' transform='translate(3 2)'/%3E%3Ccircle fill='%23000000' cx='11' cy='14' r='1'/%3E%3Ccircle fill='%23000000' cx='11' cy='21' r='1'/%3E%3Cpath d='M28.1793786,11.0743011 C24.667534,11.0743011 21.8206214,13.9212136 21.8206214,17.4330583' stroke='%23000000' transform='rotate(-45 25 14.254)'/%3E%3C/g%3E%3C/svg%3E\""},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cg stroke='%23000000' fill='none' fill-rule='evenodd'%3E%3Cpath d='M.5.5H11.5V15.5H.5zM11.5.5H22.5V15.5H11.5z' transform='translate(5 8)'/%3E%3C/g%3E%3C/svg%3E\""},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cg stroke='%23000000' fill='none' fill-rule='evenodd'%3E%3Cpath d='M0.5 0.5H11.5V15.5H0.5z' transform='translate(5 8)'/%3E%3Cpath d='M22.5,15.5 L22.5,0.5' stroke-linecap='square' transform='translate(5 8)'/%3E%3Cpath d='M16.5,8.5 L16.5,23.5 L16.9093327,23.5 L24.5,20.6534998 L24.5,5.72150023 L17.1755617,8.46816459 L17,8.5 L16.5,8.5 Z'/%3E%3Cpath d='M27.5 23.5L16.5 23.5M24.5 8.5L27.5 8.5' stroke-linecap='square'/%3E%3C/g%3E%3C/svg%3E\""},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg stroke='%23000000'%3E%3Cpath d='M.5.5H11.5V15.5H.5zM11.5.5H22.5V15.5H11.5z' transform='translate(5 8)'/%3E%3C/g%3E%3Cpath stroke='%23000000' d='M8.5 13.5H13.5V20.5H8.5z'/%3E%3Cpath fill='%23000000' d='M8 11H14V12H8z'/%3E%3Cpath stroke='%23000000' d='M19.5 13.5H24.5V20.5H19.5z'/%3E%3Cpath fill='%23000000' d='M19 11H25V12H19z'/%3E%3C/g%3E%3C/svg%3E\""},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cg stroke='%23000000' fill='none' fill-rule='evenodd'%3E%3Cpath d='M4.5 5.5H28.5V24.5H4.5z'/%3E%3Cpath d='M7.5 8.5L9.5 8.5M14.5 8.5L16.5 8.5M14.5 21.5L16.5 21.5M16.5 8.5L18.5 8.5M16.5 21.5L18.5 21.5M23.5 8.5L25.5 8.5M23.5 21.5L25.5 21.5M7.5 21.5L9.5 21.5M7.5 8.5L7.5 10.5M25.5 8.5L25.5 10.5M16.5 8.5L16.5 10.5M7.5 19.5L7.5 21.5M25.5 19.5L25.5 21.5M16.5 19.5L16.5 21.5' stroke-linecap='square'/%3E%3C/g%3E%3C/svg%3E\""},function(e,t){function n(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=f[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(l(r.parts[o],t))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(l(r.parts[o],t));f[r.id]={id:r.id,refs:1,parts:a}}}}function r(e){for(var t=[],n={},r=0;r<e.length;r++){var i=e[r],o=i[0],a=i[1],s=i[2],l=i[3],u={css:a,media:s,sourceMap:l};n[o]?n[o].parts.push(u):t.push(n[o]={id:o,parts:[u]})}return t}function i(e,t){var n=b(),r=v[v.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),v.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function o(e){e.parentNode.removeChild(e);var t=v.indexOf(e);t>=0&&v.splice(t,1)}function a(e){var t=document.createElement("style");return t.type="text/css",i(e,t),t}function s(e){var t=document.createElement("link");return t.rel="stylesheet",i(e,t),t}function l(e,t){var n,r,i;if(t.singleton){var l=g++;n=y||(y=a(t)),r=u.bind(null,n,l,!1),i=u.bind(null,n,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(t),r=c.bind(null,n),i=function(){o(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(t),r=d.bind(null,n),i=function(){o(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}function u(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=m(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function d(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function c(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}var f={},p=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},h=p(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),b=p(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,g=0,v=[];e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},void 0===t.singleton&&(t.singleton=h()),void 0===t.insertAt&&(t.insertAt="bottom");var i=r(e);return n(i,t),function(e){for(var o=[],a=0;a<i.length;a++){var s=i[a],l=f[s.id];l.refs--,o.push(l)}if(e){n(r(e),t)}for(var a=0;a<o.length;a++){var l=o[a];if(0===l.refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete f[l.id]}}}};var m=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()}]);
//# sourceMappingURL=bindery.min.js.map 