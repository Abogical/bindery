var Bindery=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t){r(this,e),t=t||{},this.name=t.name?t.name:"Unnamed Bindery Rule",this.selector="";for(var n in t)this[n]=t[n]};t.default=i},function(e,t,n){function r(){function e(){function e(n){var l;if(null==n);else if("string"==typeof n)r?r.appendChild(l=d.createTextNode(n)):function(e){var t=s(e,/([\.#]?[^\s#.]+)/);/^\.|#/.test(t[1])&&(r=d.createElement("div")),o(t,function(e){var t=e.substring(1,e.length);e&&(r?"."===e[0]?u(r).add(t):"#"===e[0]&&r.setAttribute("id",t):r=d.createElement(e))})}(n);else if("number"==typeof n||"boolean"==typeof n||n instanceof Date||n instanceof RegExp)r.appendChild(l=d.createTextNode(n.toString()));else if(a(n))o(n,e);else if(i(n))r.appendChild(l=n);else if(n instanceof f)r.appendChild(l=n);else if("object"==typeof n)for(var c in n)if("function"==typeof n[c])/^on\w+/.test(c)?function(e,n){r.addEventListener?(r.addEventListener(e.substring(2),n[e],!1),t.push(function(){r.removeEventListener(e.substring(2),n[e],!1)})):(r.attachEvent(e,n[e]),t.push(function(){r.detachEvent(e,n[e])}))}(c,n):(r[c]=n[c](),t.push(n[c](function(e){r[c]=e})));else if("style"===c)if("string"==typeof n[c])r.style.cssText=n[c];else for(var g in n[c])!function(e,i){if("function"==typeof i)r.style.setProperty(e,i()),t.push(i(function(t){r.style.setProperty(e,t)}));else var o=n[c][e].match(/(.*)\W+!important\W*$/);o?r.style.setProperty(e,o[1],"important"):r.style.setProperty(e,n[c][e])}(g,n[c][g]);else if("attrs"===c)for(var p in n[c])r.setAttribute(p,n[c][p]);else"data-"===c.substr(0,5)?r.setAttribute(c,n[c]):r[c]=n[c];else if("function"==typeof n){var p=n();r.appendChild(l=i(p)?p:d.createTextNode(p)),t.push(n(function(e){i(e)&&l.parentElement?(l.parentElement.replaceChild(e,l),l=e):l.textContent=e}))}return l}for(var n=[].slice.call(arguments),r=null;n.length;)e(n.shift());return r}var t=[];return e.cleanup=function(){for(var e=0;e<t.length;e++)t[e]();t.length=0},e}function i(e){return e&&e.nodeName&&e.nodeType}function o(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n)}function a(e){return"[object Array]"==Object.prototype.toString.call(e)}var s=n(8),u=n(9),l="undefined"==typeof window?n(11):window,d=l.document,f=l.Text;(e.exports=r()).context=r},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t){function n(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=c[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(u(r.parts[o],t))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(u(r.parts[o],t));c[r.id]={id:r.id,refs:1,parts:a}}}}function r(e){for(var t=[],n={},r=0;r<e.length;r++){var i=e[r],o=i[0],a=i[1],s=i[2],u=i[3],l={css:a,media:s,sourceMap:u};n[o]?n[o].parts.push(l):t.push(n[o]={id:o,parts:[l]})}return t}function i(e,t){var n=h(),r=m[m.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),m.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function o(e){e.parentNode.removeChild(e);var t=m.indexOf(e);t>=0&&m.splice(t,1)}function a(e){var t=document.createElement("style");return t.type="text/css",i(e,t),t}function s(e){var t=document.createElement("link");return t.rel="stylesheet",i(e,t),t}function u(e,t){var n,r,i;if(t.singleton){var u=b++;n=y||(y=a(t)),r=l.bind(null,n,u,!1),i=l.bind(null,n,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(t),r=f.bind(null,n),i=function(){o(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(t),r=d.bind(null,n),i=function(){o(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}function l(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=v(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function d(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function f(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}var c={},g=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},p=g(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=g(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,b=0,m=[];e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},void 0===t.singleton&&(t.singleton=p()),void 0===t.insertAt&&(t.insertAt="bottom");var i=r(e);return n(i,t),function(e){for(var o=[],a=0;a<i.length;a++){var s=i[a],u=c[s.id];u.refs--,o.push(u)}if(e){n(r(e),t)}for(var a=0;a<o.length;a++){var u=o[a];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete c[u.id]}}}};var v=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),s=r(a),u=n(12),l=(r(u),n(14)),d=(r(l),function(){function e(){i(this,e),this.flowContent=(0,s.default)(".bindery-content"),this.flowBox=(0,s.default)(".bindery-flowbox",this.flowContent),this.footer=(0,s.default)(".bindery-footer"),this.bleed=(0,s.default)(".bindery-bleed"),this.element=(0,s.default)(".bindery-page",{style:e.sizeStyle()},this.bleed,this.flowBox,this.footer)}return o(e,[{key:"overflowAmount",value:function(){if(null===this.element.offsetParent){var e=document.querySelector(".bindery-measure-area");e||(e=document.body.appendChild((0,s.default)(".bindery-measure-area"))),this.element.parentNode!==e&&(e.innerHTML="",e.appendChild(this.element))}var t=this.flowContent.getBoundingClientRect().height,n=this.flowBox.getBoundingClientRect().height;return 0==n&&console.error("Bindery: Trying to flow into a box of zero height."),t-n}},{key:"hasOverflowed",value:function(){return this.overflowAmount()>-5}},{key:"setPreference",value:function(e){"left"==e&&(this.alwaysLeft=!0),"right"==e&&(this.alwaysRight=!0)}},{key:"setOutOfFlow",value:function(e){this.outOfFlow=e}},{key:"clone",value:function(){var t=new e;return t.flowContent.innerHTML=this.flowContent.cloneNode(!0).innerHTML,t.footer.innerHTML=this.footer.cloneNode(!0).innerHTML,t.flowContent.insertAdjacentHTML("beforeend","RESTORED"),t}}],[{key:"isSizeValid",value:function(){document.body.classList.remove("bindery-viewing");var t=new e,n=document.querySelector(".bindery-measure-area");n||(n=document.body.appendChild((0,s.default)(".bindery-measure-area"))),n.innerHTML="",n.appendChild(t.element);var r=t.flowBox.getBoundingClientRect();return n.parentNode.removeChild(n),r.height>100&&r.width>100}},{key:"setSize",value:function(t){e.W=t.width,e.H=t.height}},{key:"sizeStyle",value:function(){return{height:""+e.H+e.unit,width:""+e.W+e.unit}}},{key:"spreadSizeStyle",value:function(){return{height:""+e.H+e.unit,width:""+2*e.W+e.unit}}},{key:"setMargin",value:function(t){var n=void 0,r=document.querySelector("#bindery-margin-stylesheet");r?n=r:(n=document.createElement("style"),n.id="bindery-margin-stylesheet"),n.innerHTML="\n      .bindery-flowbox,\n      .bindery-footer {\n        margin-left: "+t.outer+e.unit+";\n        margin-right: "+t.inner+e.unit+';\n      }\n      [bindery-side="right"] .bindery-flowbox,\n      [bindery-side="right"] .bindery-footer {\n        margin-left: '+t.inner+e.unit+";\n        margin-right: "+t.outer+e.unit+";\n      }\n      .bindery-flowbox { margin-top: "+t.top+e.unit+"; }\n      .bindery-footer { margin-bottom: "+t.bottom+e.unit+"; }\n    ",document.head.appendChild(n)}}]),e}());t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(6),u=r(s),l=n(4),d=r(l),f=n(16),c=r(f),g=n(21),p=r(g),h=n(22),y=r(h),b="in",m={width:4,height:6},v={inner:.2,outer:.2,bottom:.2,top:.2},A=function(){function e(t){var n=this;i(this,e);var r=t.pageSize?t.pageSize:m,a=t.pageMargin?t.pageMargin:v;if(this.pageUnit=t.pageUnit?t.pageUnit:b,this.setSize(r),this.setMargin(a),this.viewer=new c.default,t.startingViewMode&&this.viewer.setMode(t.startingViewMode),this.rules=[],t.rules&&this.addRules(t.rules),t.standalone&&(this.runImmeditately=!0),this.debugDelay=t.debugDelay?t.debugDelay:0,t.source)if("string"==typeof t.source){if(this.source=document.querySelector(t.source),!(this.source instanceof HTMLElement))return this.viewer.displayError("Source not specified",'Could not find element that matches selector "'+t.source+'"'),void console.error('Bindery: Could not find element that matches selector "'+t.source+'"');this.runImmeditately&&this.makeBook()}else if("object"==o(t.source)&&t.source.url){var s=t.source.url,u=t.source.selector;fetch(t.source.url).then(function(e){if(console.log(e),404===e.status)n.viewer.displayError("404",'Could not find file at "'+s+'"');else if(200===e.status)return e.text()}).then(function(e){var t=document.createElement("div");if(t.innerHTML=e,n.source=t.querySelector(u),!(n.source instanceof HTMLElement))return n.viewer.displayError("Source not specified",'Could not find element that matches selector "'+u+'"'),void console.error('Bindery: Could not find element that matches selector "'+u+'"');n.runImmeditately&&n.makeBook()}).catch(function(e){console.log(e),"file"==window.location.href.split("://")[0]&&n.viewer.displayError("Can't fetch content from \""+s+'"',"Web pages can't fetch content unless they are on a server.")})}else t.source instanceof HTMLElement?(this.source=t.source,this.runImmeditately&&this.makeBook()):console.error("Bindery: Source must be an element or selector");else this.viewer.displayError("Source not specified","You must include a source element, selector, or url"),console.error("Bindery: You must include a source element or selector")}return a(e,[{key:"cancel",value:function(){this.stopCheckingLayout(),this.viewer.cancel(),document.body.classList.remove("bindery-viewing"),this.source.style.display=""}},{key:"setSize",value:function(e){d.default.unit=this.pageUnit,this.pageSize=e,d.default.setSize(e)}},{key:"setMargin",value:function(e){d.default.unit=this.pageUnit,this.pageMargin=e,d.default.setMargin(e)}},{key:"isSizeValid",value:function(){return d.default.isSizeValid()}},{key:"addRules",value:function(e){var t=this;e.forEach(function(e){e instanceof y.default.BinderyRule?t.rules.push(e):(console.warn("Bindery: The following is not an instance of BinderyRule and will be ignored:"),console.warn(e))})}},{key:"makeBook",value:function(e){var t=this;if(!this.source)return void document.body.classList.add("bindery-viewing");if(!this.isSizeValid()){var n=this.pageUnit,r=this.pageSize.width+n,i=this.pageSize.height+n,o="{ width: "+r+", height: "+i+" }",a=this.pageMargin.inner+n,s=this.pageMargin.outer+n,l=this.pageMargin.top+n,d=this.pageMargin.bottom+n,f="{ top: "+l+", inner: "+a+", outer: "+s+", bottom: "+d+" }";return this.viewer.displayError("Page is too small","Size: "+o+" \n Margin: "+f+" \n Try adjusting the sizes or units."),void console.error("Bindery: Cancelled pagination. Page is too small.")}this.stopCheckingLayout(),this.source.style.display="";var c=this.source.cloneNode(!0);this.source.style.display="none",document.body.classList.remove("bindery-viewing"),document.body.classList.add("bindery-inProgress"),this.controls||(this.controls=new p.default({binder:this})),this.controls.setInProgress(),(0,u.default)(c,this.rules,function(n){setTimeout(function(){t.viewer.pages=n,t.viewer.update(),t.controls.setDone(),e&&e(),document.body.classList.remove("bindery-inProgress"),t.startCheckingLayout()},100)},this.debugDelay)}},{key:"startCheckingLayout",value:function(){var e=this;this.layoutChecker=setInterval(function(){e.checkLayoutChange()},500)}},{key:"stopCheckingLayout",value:function(){this.layoutChecker&&(clearInterval(this.layoutChecker),this.pageOverflows=null)}},{key:"checkLayoutChange",value:function(){if("grid"===this.viewer.mode){if(!this.pageOverflows)return void(this.pageOverflows=this.getPageOverflows());var e=this.getPageOverflows();w(e,this.pageOverflows)||(this.throttledUpdateBook(),this.pageOverflows=e)}}},{key:"throttledUpdateBook",value:function(){var e=this;this.makeBookTimer&&clearTimeout(this.makeBookTimer),this.makeBookTimer=setTimeout(function(){e.makeBook()},500)}},{key:"getPageOverflows",value:function(){return this.viewer.pages.map(function(e){return e.overflowAmount()})}}]),e}(),w=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0};for(var B in y.default)A[B]=y.default[B];e.exports=A},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var o={path:[],pages:[],getNewPage:function(){return y()}},s=function(e){r>0?setTimeout(e,r):e()},c=function(e){t.forEach(function(t){if(t.selector&&e.matches(t.selector)&&t.beforeAdd){var n=o.currentPage.clone(),r=e.cloneNode(!0);if(t.beforeAdd(e,o),o.currentPage.hasOverflowed()){console.log("restoring from backup"),e.innerHTML=r.innerHTML;var i=o.pages.indexOf(o.currentPage);o.pages[i]=n,o.currentPage=n,o.currentPage=y(),t.beforeAdd(e,o)}}})},g=function(e){t.forEach(function(t){t.selector&&e.matches(t.selector)&&t.afterAdd&&t.afterAdd(e,o)})},p=function(e){t.forEach(function(t){t.afterPageCreated&&t.afterPageCreated(e,o)})},h=function(e){t.forEach(function(t){t.afterBind&&e.forEach(function(e,n,r){t.afterBind(e,n,r.length)})})},y=function(){o.currentPage&&o.currentPage.hasOverflowed()&&console.error("Bindery: Moved to new page when last one is still overflowing",o.currentPage.element),o.path=d(o.path);var e=new u.default;if(e.creationOrder=o.pages.length,p(e),o.pages.push(e),o.currentPage=e,o.path[0]&&e.flowContent.appendChild(o.path[0]),e.hasOverflowed()){var t=l(o.path);t?(console.error("Bindery: NextPage already overflowing, probably due to a style set on "+(0,a.default)(t)+". It may not fit on the page."),t.parentNode.removeChild(t)):console.error("Bindery: NextPage already overflowing.")}return e},b=function(e){o.currentPage.creationOrder;o.currentPage=y(),l(o.path).appendChild(e),o.path.push(e)},m=function(e,t,n){l(o.path).appendChild(e);var r=e.nodeValue,i=0,a=r.length/2;o.currentPage.hasOverflowed()?function u(){var d=Math.abs(i-a);if(a>r.length-1)return void s(t);if(e.nodeValue=r.substr(0,a),d<1){for(;" "!==r.charAt(a)&&a>-1;)a--;if(a<1&&r.trim().length>0)return e.nodeValue=r,void n();var f=r.substr(0,a),c=r.substr(a);return e.nodeValue=f,r=c,i=0,a=r.length/2,o.currentPage=y(),e=document.createTextNode(r),l(o.path).appendChild(e),o.currentPage.hasOverflowed()?void s(u):void s(t)}i=a;var g=o.currentPage.hasOverflowed();a+=(g?-d:d)/2,s(u)}():s(t)};o.currentPage=y(),e.style.margin=0,e.style.padding=0,function e(t,n){o.currentPage.hasOverflowed()&&console.error("Bindery: Trying to node to a page that's already overflowing"),0==o.path.length?o.currentPage.flowContent.appendChild(t):l(o.path).appendChild(t),o.path.push(t);var r=[].concat(i(t.childNodes));t.innerHTML="";var a=0;!function i(){if(!(a<r.length))return void n();var u=r[a];switch(a+=1,u.nodeType){case Node.TEXT_NODE:m(u,i,function e(){b(t),m(u,i,e)});break;case Node.ELEMENT_NODE:if("SCRIPT"==u.tagName){i();break}c(u),s(function(){e(u,function(){var e=o.path.pop();g(e),i()})});break;default:console.log("Bindery: Unknown node type: "+u.nodeType),i()}}()}(e,function(){console.log("Bindery: Pages created in 2ms");var e=document.querySelector(".bindery-measure-area");document.body.removeChild(e);var t=f(o.pages);h(t),n(t)})};var o=n(7),a=r(o),s=n(4),u=r(s),l=function(e){return e[e.length-1]},d=function(e){for(var t=[],n=e.length-1;n>=0;n--){var r=e[n].cloneNode(!1);r.innerHTML="",r.setAttribute("bindery-continuation",!0),r.id&&console.warn("Bindery: Added a break to "+(0,a.default)(r)+', so "'+r.id+'" is no longer a unique ID.'),n<e.length-1&&r.appendChild(t[n+1]),t[n]=r}return t},f=function(e){for(var t=1;t<e.length-1;t+=2){var n=e[t];n.alwaysRight&&(n.outOfFlow?(e[t]=e[t+1],e[t+1]=n):e.splice(t,0,new u.default));var r=e[t+1];r.alwaysLeft&&(r.outOfFlow?(e[t+1]=e[t+3],e[t+3]=r):e.splice(t+1,0,new u.default))}return e}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){var t=e.tagName.toLowerCase(),n=e.id?"#"+e.id:"";if(e.classList.length>0){[].concat(r(e.classList)).join(".")}var i="";return n.length<1&&"".length<2&&(i='("'+e.textContent.substr(0,20).replace(/\s+/g," ")+'...")'),t+n+""+i};t.default=i},function(e,t){/*!
 * Cross-Browser Split 1.1.1
 * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
 * Available under the MIT License
 * ECMAScript compliant, uniform cross-browser split method
 */
e.exports=function(e){var t=String.prototype.split,n=/()??/.exec("")[1]===e;return function(r,i,o){if("[object RegExp]"!==Object.prototype.toString.call(i))return t.call(r,i,o);var a,s,u,l,d=[],f=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.extended?"x":"")+(i.sticky?"y":""),c=0,i=new RegExp(i.source,f+"g");for(r+="",n||(a=new RegExp("^"+i.source+"$(?!\\s)",f)),o=o===e?-1>>>0:o>>>0;(s=i.exec(r))&&!((u=s.index+s[0].length)>c&&(d.push(r.slice(c,s.index)),!n&&s.length>1&&s[0].replace(a,function(){for(var t=1;t<arguments.length-2;t++)arguments[t]===e&&(s[t]=e)}),s.length>1&&s.index<r.length&&Array.prototype.push.apply(d,s.slice(1)),l=s[0].length,c=u,d.length>=o));)i.lastIndex===s.index&&i.lastIndex++;return c===r.length?!l&&i.test("")||d.push(""):d.push(r.slice(c)),d.length>o?d.slice(0,o):d}}()},function(e,t,n){function r(e){function t(e){var t=d();a(t,e)>-1||(t.push(e),f(t))}function n(e){var t=d(),n=a(t,e);-1!==n&&(t.splice(n,1),f(t))}function r(e){return a(d(),e)>-1}function s(e){return r(e)?(n(e),!1):(t(e),!0)}function u(){return e.className}function l(e){return d()[e]||null}function d(){return i(e.className.split(" "),o)}function f(t){var n=t.length;e.className=t.join(" "),g.length=n;for(var r=0;r<t.length;r++)g[r]=t[r];delete t[n]}var c=e.classList;if(c)return c;var g={add:t,remove:n,contains:r,toggle:s,toString:u,length:0,item:l};return g}function i(e,t){for(var n=[],r=0;r<e.length;r++)t(e[r])&&n.push(e[r]);return n}function o(e){return!!e}var a=n(10);e.exports=r},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},function(e,t){},function(e,t,n){var r=n(13);"string"==typeof r&&(r=[[e.i,r,""]]);n(3)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(2)(),t.push([e.i,'@media screen{.bindery-page{background:#fff;outline:1px solid rgba(0,0,0,.1);box-shadow:0 1px 3px rgba(0,0,0,.2);overflow:hidden}.bindery-show-bleed .bindery-page{box-shadow:none;outline:none;overflow:visible}.bindery-page3d .bindery-page{overflow:hidden!important}.bindery-page:after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;pointer-events:none}.bindery-show-guides .bindery-page:after{outline:1px solid #f0f}.bindery-show-guides .bindery-flowbox,.bindery-show-guides .bindery-footer{outline:1px solid cyan}.bindery-show-guides .bindery-content{box-shadow:inset 0 0 0 1px blue}.bindery-show-guides .bindery-bleed{outline:1px solid #ff0}}.bindery-page{width:200px;height:300px;position:relative;display:flex;flex-direction:column;flex-wrap:nowrap;margin:auto}.bindery-flowbox{position:relative;margin:60px 40px;margin-bottom:0;flex:1 1 auto;min-height:0}.bindery-footer{margin:60px 40px;margin-top:4px;flex:0 1 auto;font-size:.5rem;font-family:Verdana,sans-serif}[bindery-continuation]{text-indent:0!important;margin-top:0!important}.bindery-page.bleed .bindery-flowbox{margin:0;position:absolute;top:-20px;bottom:-20px}[bindery-side=left].bleed .bindery-flowbox{right:0;left:-20px}[bindery-side=right].bleed .bindery-flowbox{left:0;right:-20px}.bindery-bleed{position:absolute;top:-.2in;bottom:-.2in;z-index:0}[bindery-side=left] .bindery-bleed{right:0;left:-.2in}[bindery-side=right] .bindery-bleed{left:0;right:-.2in}',""])},function(e,t,n){var r=n(15);"string"==typeof r&&(r=[[e.i,r,""]]);n(3)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(2)(),t.push([e.i,".bindery-measure-area{position:absolute;top:0;left:0;right:0;bottom:0}",""])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(17),s=(r(a),n(4)),u=r(s),l=n(20),d=r(l),f=n(1),c=r(f),g=function(){function e(t){i(this,e),this.pages=[],this.doubleSided=!0,this.twoUp=!1,this.mode="grid",this.currentLeaf=0,this.export=(0,c.default)(".bindery-export"),this.export.setAttribute("bindery-export",!0)}return o(e,[{key:"displayError",value:function(e,t){this.export.parentNode||document.body.appendChild(this.export),this.error||(this.export.innerHTML="",this.error=(0,d.default)(e,t),this.export.appendChild(this.error))}},{key:"cancel",value:function(){this.export.parentNode&&this.export.parentNode.removeChild(this.export)}},{key:"toggleGuides",value:function(){this.export.classList.toggle("bindery-show-guides")}},{key:"toggleBleed",value:function(){this.export.classList.add("bindery-show-bleed")}},{key:"toggleDouble",value:function(){this.doubleSided=!this.doubleSided,this.update()}},{key:"setMode",value:function(e){switch(e){case"grid":case"standard":case"default":this.mode="grid";break;case"interactive":case"preview":case"3d":this.mode="interactive";break;case"print":this.mode="print";break;default:console.error('Bindery: Unknown view mode "'+e+'"')}}},{key:"setGrid",value:function(){this.mode="grid",this.update()}},{key:"setPrint",value:function(){this.mode="print",this.update()}},{key:"setInteractive",value:function(){this.mode="interactive",this.export.classList.remove("bindery-show-bleed"),this.update()}},{key:"update",value:function(){this.export.parentNode||document.body.appendChild(this.export),document.body.classList.add("bindery-viewing"),"grid"==this.mode?this.renderGrid():"interactive"==this.mode?this.renderInteractive():"print"==this.mode?this.renderPrint():this.renderGrid()}},{key:"renderPrint",value:function(){this.mode="print",this.export.style.display="block",this.export.classList.add("bindery-show-bleed"),this.export.innerHTML="";var e=this.pages.slice();if(this.twoUp){if(this.pages.length%2!=0){var t=new u.default;e.push(t)}var n=new u.default,r=new u.default;n.element.style.visibility="hidden",r.element.style.visibility="hidden",e.unshift(n),e.push(r)}for(var i=0;i<e.length;i+=this.twoUp?2:1)if(this.twoUp){var o=e[i],a=e[i+1],s=o.element,l=a.element,d=(0,c.default)(".bindery-print-page",(0,c.default)(".bindery-spread-wrapper",{style:u.default.spreadSizeStyle()},s,l));this.export.appendChild(d)}else{var f=e[i].element,g=(0,c.default)(".bindery-print-page",(0,c.default)(".bindery-spread-wrapper",{style:u.default.sizeStyle()},f));this.export.appendChild(g)}}},{key:"renderGrid",value:function(){this.mode="grid",this.export.style.display="block",this.export.classList.remove("bindery-show-bleed"),this.export.innerHTML="";var e=this.pages.slice();if(this.doubleSided){if(this.pages.length%2!=0){var t=new u.default;e.push(t)}var n=new u.default,r=new u.default;n.element.style.visibility="hidden",r.element.style.visibility="hidden",e.unshift(n),e.push(r)}for(var i=0;i<e.length;i+=this.doubleSided?2:1)if(this.doubleSided){var o=e[i],a=e[i+1],s=o.element,l=a.element;s.setAttribute("bindery-side","left"),l.setAttribute("bindery-side","right");var d=(0,c.default)(".bindery-spread-wrapper",{style:u.default.spreadSizeStyle()},s,l);this.export.appendChild(d)}else{var f=e[i].element;f.setAttribute("bindery-side","right");var g=(0,c.default)(".bindery-print-page",(0,c.default)(".bindery-spread-wrapper",{style:u.default.sizeStyle()},f));this.export.appendChild(g)}}},{key:"renderInteractive",value:function(){var e=this;this.mode="interactive",this.export.style.display="block",this.export.innerHTML="",this.flaps=[],this.export.classList.remove("bindery-show-bleed");var t=this.pages.slice();if(this.doubleSided&&this.pages.length%2!=0){var n=new u.default;t.push(n)}var r=new u.default,i=new u.default;r.element.style.visibility="hidden",i.element.style.visibility="hidden",t.unshift(r),t.push(i);for(var o=0,a=1;a<t.length-1;a+=this.doubleSided?2:1)!function(n){o++;var r=o,i=(0,c.default)("div.bindery-page3d",{style:u.default.sizeStyle(),onclick:function(){var t=r-1;t==e.currentLeaf&&t++,e.setLeaf(t)}});e.export.classList.add("bindery-stage3d"),e.flaps.push(i);var a=t[n].element,s=void 0;a.classList.add("bindery-page3d-front"),i.appendChild(a),e.doubleSided?(i.classList.add("bindery-doubleSided"),s=t[n+1].element,s.classList.add("bindery-page3d-back"),i.appendChild(s)):(s=(0,c.default)(".bindery-page.bindery-page3d-back",{style:u.default.sizeStyle()}),i.appendChild(s)),i.style.left=4*n+"px",s.setAttribute("bindery-side","left"),a.setAttribute("bindery-side","right"),e.export.appendChild(i)}(a);this.currentLeaf?this.setLeaf(this.currentLeaf):this.setLeaf(0)}},{key:"setLeaf",value:function(e){var t=this;this.currentLeaf=e,this.flaps.forEach(function(n,r){var i=t.flaps.length-Math.abs(r-e+.5);n.style.transform="translate3d("+(r<e?4:0)+"px,0,"+4*i+"px) rotateY("+(r<e?-180:0)+"deg)"})}},{key:"makeDraggable",value:function(e){var t=this,n=!1,r=0;e.addEventListener("mousedown",function(){n=!0,e.style.transition="none"}),document.body.addEventListener("mousemove",function(i){if(n){i.preventDefault();var o=m(i);r=b(o.x,1e3,200);var a=p(r,0,-180),s=t.flaps.length;e.style.transform="translate3d(0px,0,"+5*s+"px) rotateY("+a+"deg)"}}),document.body.addEventListener("mouseup",function(i){n&&(n=!1,e.style.transition="",r>.5?t.setLeaf(t.currentLeaf):t.setLeaf(t.currentLeaf+1))})}}]),e}(),p=function(e,t,n){return t+e*(n-t)},h=function(e,t,n){return e<=t?t:e>=n?n:e},y=function(e,t,n){return(e-t)/(n-t)},b=function(e,t,n){return h(y(e,t,n),0,1)},m=function(e){return e=e.touches&&e.touches[0]||e,{x:e.pageX,y:e.pageY}};t.default=g},function(e,t,n){var r=n(18);"string"==typeof r&&(r=[[e.i,r,""]]);n(3)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(2)(),t.push([e.i,"@media screen{.bindery-viewing{background:#f1f1f1!important}.bindery-export{transition:opacity .2s;opacity:1;position:relative;animation:fadeUp .3s;min-height:100vh}.bindery-export,.bindery-measure-area{background:#f1f1f1;padding:50px 20px;z-index:99;padding-right:240px}.bindery-measure-area{position:fixed;top:0;left:0}.bindery-print-page{margin:0 auto}.bindery-error{font-family:-apple-system,BlinkMacSystemFont,Roboto,sans-serif;font-size:16px;margin:15vh 15vw;max-width:500px;background:url("+n(19)+') no-repeat 0 0;background-size:48px;padding-top:64px}.bindery-error-title{font-size:1.5em;margin-bottom:16px}.bindery-error-text{margin-bottom:16px;white-space:pre-line}.bindery-error-footer{opacity:.5;font-size:.66rem;text-transform:uppercase;letter-spacing:.02em}.bindery-show-bleed .bindery-print-page{background:#fff;outline:1px solid rgba(0,0,0,.1);box-shadow:0 1px 3px rgba(0,0,0,.2);width:11in;height:8.5in;margin:20px auto}.bindery-spread-wrapper:before{display:none}.bindery-show-bleed .bindery-spread-wrapper:before{display:block}}@keyframes fadeUp{0%{opacity:0}to{opacity:1}}@media print{.bindery-viewing>:not(.bindery-export){display:none!important}.bindery-print-page{margin:20px}.bindery-spread-wrapper:before{display:block}}.bindery-viewing>:not(.bindery-export){display:none!important}.bindery-print-page{page-break-after:always;position:relative;overflow:hidden}.bindery-spread-wrapper{position:relative;display:flex;width:800px;margin:50px auto}.bindery-spread-wrapper:before{content:"";pointer-events:none;position:absolute;top:-30px;left:-30px;border-width:30px;width:100%;height:100%;-webkit-border-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAYAAAB5fY51AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowMjAwMjQwRUNDRDMxMUUzOEYzQ0EwRDQ2MzU4OTNGQyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowMjAwMjQwRkNDRDMxMUUzOEYzQ0EwRDQ2MzU4OTNGQyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkJFRjE1REVCQ0NEMDExRTM4RjNDQTBENDYzNTg5M0ZDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkJFRjE1REVDQ0NEMDExRTM4RjNDQTBENDYzNTg5M0ZDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+OTmWYwAAA3VJREFUeNrs2MGKgzAUhtH+pXt9/6esT3An3RWEQWidScw5EFpchZvwgaaqbswnyevn/fDT610Yaa+c624EgGABCBYgWACCBSBYgGABCBaAYAGCBSBYAIIFCBaAYAEIFiBYAIIFIFiAYAEIFoBgAYIFIFgAggUIFoBgAQgWIFgAggUIFoBgAQgWIFgAggUgWIBgAQgWgGABggUgWACCBQgWgGABCBYgWACCBSBYgGABCBaAYAGCBSBYAIIFCBaAYAEIFiBYAIIFCBaAYAEIFiBYAIIFIFiAYAEIFoBgAYIFIFgAggUIFoBgAQgWIFgA/+ZhBFNb7ZWRpKpMYcaDT3bPer0LI+0Vr4QAggUIFoBgAYIFIFgAggUIFoBgAQgWIFgAggUgWIBgAQgWgGABggUgWACCBQgWgGABCBYgWACCBSBYgGABCBaAYAGCBSBYAIIFCBaAYAGCBSBYAIIFCBaAYAEIFiBYAIIFIFiAYAEIFoBgAYIFIFgAggUIFgAAv0tbZQyHrW1txsAXLW09jcErISBYAAAAXEOqfHOf8uCT3bNe78JIe+VcvmEBggUgWIBgAQgWgGABggUgWACCBQgWgGABCBYgWACCBSBYgGABCBaAYAGCBSBYAIIFCBaAYAEIFiBYAIIFIFiAYAEIFiBYRgAIFoBgAYIFIFgAggUIFgAAH0lbZQyHrW1txsAXLW09jcErISBYAAAAXEOqfHOf8uCT3bNe78JIe+VcvmEBggUgWIBgAQgWgGABggUgWACCBQgWgGABCBYgWACCBSBYgGABCBaAYAGCBSBYAIIFCBaAYAEIFiBYAIIFIFiAYAEIFiBYRgAIFoBgAYIFIFgAggUIFoBgAQgWIFgAggUgWIBgAQgWgGABggUgWACCBQgWwN97GMHUlrf/m73Su1SVKcx48Mnrp0a4CyPtFa+EAIIFCBaAYAGCBSBYAIIFCBaAYAEIFiBYAIIFIFiAYAEIFoBgAYIFIFgAggUIFoBgAQgWIFgAggUgWIBgAQgWgGABggUgWACCBQgWgGABggUgWACCBQgWgGABCBYgWACCBSBYgGABCBaAYAGCBSBYAIIFCBaAYAEIFiBYAIIFIFiAYAEIFoBgAYIFIFgAggUIFoBgAYIFIFgAggUIFoBgAQgWIFgAggUgWIBgAQgWgGABV/UjwADn4TtZkBC9rAAAAABJRU5ErkJggg==) 140 fill stretch round;border-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAYAAAB5fY51AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowMjAwMjQwRUNDRDMxMUUzOEYzQ0EwRDQ2MzU4OTNGQyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowMjAwMjQwRkNDRDMxMUUzOEYzQ0EwRDQ2MzU4OTNGQyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkJFRjE1REVCQ0NEMDExRTM4RjNDQTBENDYzNTg5M0ZDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkJFRjE1REVDQ0NEMDExRTM4RjNDQTBENDYzNTg5M0ZDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+OTmWYwAAA3VJREFUeNrs2MGKgzAUhtH+pXt9/6esT3An3RWEQWidScw5EFpchZvwgaaqbswnyevn/fDT610Yaa+c624EgGABCBYgWACCBSBYgGABCBaAYAGCBSBYAIIFCBaAYAEIFiBYAIIFIFiAYAEIFoBgAYIFIFgAggUIFoBgAQgWIFgAggUIFoBgAQgWIFgAggUgWIBgAQgWgGABggUgWACCBQgWgGABCBYgWACCBSBYgGABCBaAYAGCBSBYAIIFCBaAYAEIFiBYAIIFCBaAYAEIFiBYAIIFIFiAYAEIFoBgAYIFIFgAggUIFoBgAQgWIFgA/+ZhBFNb7ZWRpKpMYcaDT3bPer0LI+0Vr4QAggUIFoBgAYIFIFgAggUIFoBgAQgWIFgAggUgWIBgAQgWgGABggUgWACCBQgWgGABCBYgWACCBSBYgGABCBaAYAGCBSBYAIIFCBaAYAGCBSBYAIIFCBaAYAEIFiBYAIIFIFiAYAEIFoBgAYIFIFgAggUIFgAAv0tbZQyHrW1txsAXLW09jcErISBYAAAAXEOqfHOf8uCT3bNe78JIe+VcvmEBggUgWIBgAQgWgGABggUgWACCBQgWgGABCBYgWACCBSBYgGABCBaAYAGCBSBYAIIFCBaAYAEIFiBYAIIFIFiAYAEIFiBYRgAIFoBgAYIFIFgAggUIFgAAH0lbZQyHrW1txsAXLW09jcErISBYAAAAXEOqfHOf8uCT3bNe78JIe+VcvmEBggUgWIBgAQgWgGABggUgWACCBQgWgGABCBYgWACCBSBYgGABCBaAYAGCBSBYAIIFCBaAYAEIFiBYAIIFIFiAYAEIFiBYRgAIFoBgAYIFIFgAggUIFoBgAQgWIFgAggUgWIBgAQgWgGABggUgWACCBQgWwN97GMHUlrf/m73Su1SVKcx48Mnrp0a4CyPtFa+EAIIFCBaAYAGCBSBYAIIFCBaAYAEIFiBYAIIFIFiAYAEIFoBgAYIFIFgAggUIFoBgAQgWIFgAggUgWIBgAQgWgGABggUgWACCBQgWgGABggUgWACCBQgWgGABCBYgWACCBSBYgGABCBaAYAGCBSBYAIIFCBaAYAEIFiBYAIIFIFiAYAEIFoBgAYIFIFgAggUIFoBgAYIFIFgAggUIFoBgAQgWIFgAggUgWIBgAQgWgGABV/UjwADn4TtZkBC9rAAAAABJRU5ErkJggg==) 140 fill stretch round;border-image-slice:133;border-image-repeat:stretch round;box-sizing:content-box;border-style:solid;z-index:999}.bindery-stage3d{perspective:3000px;min-height:100vh;transform-style:preserve-3d}.bindery-page3d{margin:auto;width:400px;height:600px;transform:rotateY(0);transition:transform .5s,box-shadow .1s;transform-style:preserve-3d;transform-origin:left;position:absolute;left:0;right:0;top:0;bottom:0}.bindery-page3d:hover{box-shadow:2px 0 4px rgba(0,0,0,.2)}.bindery-page3d.flipped{transform:rotateY(-180deg)}.bindery-page3d .bindery-page{position:absolute;backface-visibility:hidden}.bindery-page3d .bindery-page3d-front{transform:rotateY(0)}.bindery-page3d .bindery-page3d-back{transform:rotateY(-180deg)}',""])},function(e,t){e.exports="\"data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8'?%3E %3Csvg width='36px' height='36px' viewBox='0 0 36 36' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 45.2 (43514) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Einteractive copy 4%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E %3Crect id='path-1' x='0' y='4' width='15' height='23'%3E%3C/rect%3E %3Crect id='path-2' x='15' y='4' width='15' height='23'%3E%3C/rect%3E %3Cpolygon id='path-3' points='14 4.07147535 27 0 27 22.9285247 14 27'%3E%3C/polygon%3E %3C/defs%3E %3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cg id='interactive-copy-4'%3E %3Cg id='Group-2-Copy-3' transform='translate(3.000000, 2.000000)'%3E %3Cg id='Rectangle-2-Copy-6'%3E %3Cuse fill='%23FFFFFF' fill-rule='evenodd' xlink:href='%23path-1'%3E%3C/use%3E %3Crect stroke='%23000000' stroke-width='1' x='0.5' y='4.5' width='14' height='22'%3E%3C/rect%3E %3C/g%3E %3Cg id='Rectangle-2-Copy-7'%3E %3Cuse fill='%23FFFFFF' fill-rule='evenodd' xlink:href='%23path-2'%3E%3C/use%3E %3Crect stroke='%23000000' stroke-width='1' x='15.5' y='4.5' width='14' height='22'%3E%3C/rect%3E %3C/g%3E %3Cg id='Rectangle-2-Copy-6'%3E %3Cuse fill='%23FFFFFF' fill-rule='evenodd' xlink:href='%23path-3'%3E%3C/use%3E %3Cpath stroke='%23000000' stroke-width='1' d='M14.5,4.43882867 L14.5,26.3194563 L26.5,22.5611713 L26.5,0.680543732 L14.5,4.43882867 Z'%3E%3C/path%3E %3C/g%3E %3Cpolygon id='Path-2' fill='%23000000' opacity='0.3' points='16.3241613 26.7071852 25.7154453 22.615177 26.1596848 4.74924377 28 4.30920273 28 27'%3E%3C/polygon%3E %3C/g%3E %3Ccircle id='Oval' fill='%23000000' cx='11' cy='14' r='1'%3E%3C/circle%3E %3Ccircle id='Oval' fill='%23000000' cx='11' cy='21' r='1'%3E%3C/circle%3E %3Cpath d='M28.1793786,11.0743011 C24.667534,11.0743011 21.8206214,13.9212136 21.8206214,17.4330583' id='Oval-2' stroke='%23000000' transform='translate(25.000000, 14.253680) rotate(-45.000000) translate(-25.000000, -14.253680) '%3E%3C/path%3E %3C/g%3E %3C/g%3E %3C/svg%3E\""},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(".bindery-error",(0,i.default)(".bindery-error-title",e),(0,i.default)(".bindery-error-text",t),(0,i.default)(".bindery-error-footer","Bindery.js v0.1 Alpha"))};var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r)},function(e,t){throw new Error('Module build failed: SyntaxError: Unexpected token, expected , (77:6)\n\n[0m [90m 75 | [39m          console[33m.[39mlog([36mthis[39m[33m.[39mvalue)[33m;[39m\n [90m 76 | [39m      }}\n[31m[1m>[22m[39m[90m 77 | [39m      h([32m"option"[39m[33m,[39m { value[33m:[39m [32m"px"[39m }[33m,[39m [32m"Pixels (96/in)"[39m)[33m,[39m\n [90m    | [39m      [31m[1m^[22m[39m\n [90m 78 | [39m      h([32m"option"[39m[33m,[39m { value[33m:[39m [32m"pt"[39m }[33m,[39m [32m"Points (72/in)"[39m)[33m,[39m\n [90m 79 | [39m      h([32m"option"[39m[33m,[39m { value[33m:[39m [32m"pc"[39m }[33m,[39m [32m"Picas (12pt)"[39m)[33m,[39m\n [90m 80 | [39m      h([32m"option"[39m[33m,[39m { value[33m:[39m [32m"in"[39m }[33m,[39m [32m"Inches (96px)"[39m)[33m,[39m[0m\n')},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(23),o=r(i),a=n(24),s=r(a),u=n(25),l=r(u),d=n(28),f=r(d),c=n(29),g=r(c),p=n(30),h=r(p),y=n(33),b=r(y),m=n(0),v=r(m);t.default={Spread:l.default,FullPage:s.default,Footnote:f.default,BreakBefore:o.default,PageNumber:h.default,RunningHeader:b.default,PageReference:g.default,BinderyRule:v.default,createRule:function(e){return new v.default(e)}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){return new l(e)};var s=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(e){function t(e){return r(this,t),e.name="Break Before",i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),a(t,[{key:"beforeAdd",value:function(e,t){""!==t.currentPage.flowContent.innerText&&(t.currentPage=t.getNewPage(),t.currentPage.setPreference("right"))}}]),t}(u.default)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){return new f(e)};var s=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=void 0,d=void 0,f=function(e){function t(e){return r(this,t),e.name="Full Page Spread",i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),a(t,[{key:"beforeAdd",value:function(e,t){l=t.currentPage,d=t.path,t.currentPage=t.getNewPage(),e.classList.contains("bleed")&&t.currentPage.element.classList.add("bleed")}},{key:"afterAdd",value:function(e,t){t.currentPage=l,t.path=d}}]),t}(u.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){return new f(e)};var u=n(26),l=(r(u),n(0)),d=r(l),f=function(e){function t(e){i(this,t),e.name="Spread";var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.prevPage=null,n.prevElementPath=null,n}return a(t,e),s(t,[{key:"beforeAdd",value:function(e,t){this.prevPage=t.currentPage,this.prevElementPath=t.path,t.currentPage=t.getNewPage()}},{key:"afterAdd",value:function(e,t){var n=t.currentPage,r=n.flowContent.cloneNode(!0),i=t.getNewPage();i.flowBox.innerHTML="",i.flowBox.appendChild(r),i.flowContent=r,n.element.classList.add("bindery-spread"),n.element.classList.add("bleed"),n.setPreference("left"),n.setOutOfFlow(!0),i.element.classList.add("bindery-spread"),i.element.classList.add("bleed"),i.setPreference("right"),i.setOutOfFlow(!0),t.currentPage=this.prevPage,t.path=this.prevElementPath}}]),t}(d.default)},function(e,t,n){var r=n(27);"string"==typeof r&&(r=[[e.i,r,""]]);n(3)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(2)(),t.push([e.i,".bindery-spread[bindery-side=left] .bindery-content{position:absolute;top:0;left:0;right:-100%;bottom:0}.bindery-spread[bindery-side=right] .bindery-content{position:absolute;top:0;left:-100%;right:0;bottom:0}",""])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){return new c(e)};var u=n(0),l=r(u),d=n(1),f=r(d),c=function(e){function t(e){return i(this,t),e.name="Footnote",o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"afterAdd",value:function(e,t){var n=t.currentPage.footer.querySelectorAll(".footnote").length;this.updateReference(e,n);var r=(0,f.default)(".footnote");r.innerHTML=this.customContent(e,n),t.currentPage.footer.appendChild(r)}},{key:"updateReference",value:function(e,t){e.insertAdjacentHTML("beforeEnd","<sup>"+t+"</sup>")}},{key:"customContent",value:function(e,t){return t+': Default footnote for "'+e.textContent.substr(0,24)+'"'}}]),t}(l.default)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){return new l(e)};var s=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(e){function t(e){r(this,t),e.name="Page Reference";var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.references={},n}return o(t,e),a(t,[{key:"afterAdd",value:function(e,t){this.references[e.getAttribute("href")]=e,e.removeAttribute("href")}},{key:"afterBind",value:function(e,t){for(var n in this.references)e.element.querySelector(n)&&this.updateReference(this.references[n],e.number)}},{key:"updateReference",value:function(e,t){e.insertAdjacentHTML("afterend"," (Reference to page "+t+")")}}]),t}(u.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){return new g(e)};var u=n(1),l=r(u),d=n(31),f=(r(d),n(0)),c=r(f),g=function(e){function t(e){i(this,t),e||(e={}),e.name="Page Number";var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.selector=".content",n.customClass=e.customClass,n}return a(t,e),s(t,[{key:"afterBind",value:function(e,t){e.number=t+1;var n=(0,l.default)(".bindery-num",""+e.number);this.customClass&&n.classList.add(this.customClass),e.element.appendChild(n)}}]),t}(c.default)},function(e,t,n){var r=n(32);"string"==typeof r&&(r=[[e.i,r,""]]);n(3)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(2)(),t.push([e.i,"@media screen{.bindery-show-guides .bindery-num{outline:1px solid cyan}}.bindery-num{position:absolute;text-align:center;bottom:32px;-webkit-user-select:none;font-family:Verdana,sans-serif;font-size:.667rem}[bindery-side=left] .bindery-num{left:20px}[bindery-side=right] .bindery-num{right:20px}",""])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){return new g(e)};var u=n(0),l=r(u),d=n(1),f=r(d),c=n(34),g=(r(c),function(e){function t(e){i(this,t),e.name="Running Header";var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.customClass=e.customClass,n.currentHeaderContent="",n}return a(t,e),s(t,[{key:"infoGetter",value:function(e){return{text:e.textContent}}},{key:"afterAdd",value:function(e,t){this.currentHeaderContent=e.textContent,t.currentPage.runningHeader.textContent=""}},{key:"afterPageCreated",value:function(e,t){var n=(0,f.default)(".bindery-running-header");this.customClass&&n.classList.add(this.customClass),e.runningHeader=n,e.element.appendChild(n),e.runningHeader.textContent=this.currentHeaderContent}}]),t}(l.default))},function(e,t,n){var r=n(35);"string"==typeof r&&(r=[[e.i,r,""]]);n(3)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(2)(),t.push([e.i,"@media screen{.bindery-show-guides .bindery-running-header{outline:1px solid cyan}}.bindery-running-header{position:absolute;text-align:center;top:24px;margin:auto;font-size:.5em;-webkit-user-select:none;text-transform:uppercase;letter-spacing:.15em;font-family:Verdana,sans-serif}[bindery-side=left] .bindery-running-header{text-align:right;left:24px;transform:rotate(-90deg) translate3d(-100%,0,0);transform-origin:top left}[bindery-side=right] .bindery-running-header{text-align:left;right:24px;transform:rotate(90deg) translate3d(100%,0,0);transform-origin:top right}",""])}]);
//# sourceMappingURL=bindery.min.js.map