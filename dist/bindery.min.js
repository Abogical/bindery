// [AIV]  Build version: 2.0.0-alpha.8.1 - Thursday, September 14th, 2017, 11:01:13 PM  
 var Bindery=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=10)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return"📖-"+e},o=function(e){return"."+r(e)},i=function(e){return"."===e[0]?o(e.substr(1)):r(e)};t.default=i},function(e,t,n){function r(){function e(){function e(n){var l;if(null==n);else if("string"==typeof n)r?r.appendChild(l=d.createTextNode(n)):function(e){var t=s(e,/([\.#]?[^\s#.]+)/);/^\.|#/.test(t[1])&&(r=d.createElement("div")),i(t,function(e){var t=e.substring(1,e.length);e&&(r?"."===e[0]?u(r).add(t):"#"===e[0]&&r.setAttribute("id",t):r=d.createElement(e))})}(n);else if("number"==typeof n||"boolean"==typeof n||n instanceof Date||n instanceof RegExp)r.appendChild(l=d.createTextNode(n.toString()));else if(a(n))i(n,e);else if(o(n))r.appendChild(l=n);else if(n instanceof c)r.appendChild(l=n);else if("object"==typeof n)for(var f in n)if("function"==typeof n[f])/^on\w+/.test(f)?function(e,n){r.addEventListener?(r.addEventListener(e.substring(2),n[e],!1),t.push(function(){r.removeEventListener(e.substring(2),n[e],!1)})):(r.attachEvent(e,n[e]),t.push(function(){r.detachEvent(e,n[e])}))}(f,n):(r[f]=n[f](),t.push(n[f](function(e){r[f]=e})));else if("style"===f)if("string"==typeof n[f])r.style.cssText=n[f];else for(var p in n[f])!function(e,o){if("function"==typeof o)r.style.setProperty(e,o()),t.push(o(function(t){r.style.setProperty(e,t)}));else var i=n[f][e].match(/(.*)\W+!important\W*$/);i?r.style.setProperty(e,i[1],"important"):r.style.setProperty(e,n[f][e])}(p,n[f][p]);else if("attrs"===f)for(var h in n[f])r.setAttribute(h,n[f][h]);else"data-"===f.substr(0,5)?r.setAttribute(f,n[f]):r[f]=n[f];else if("function"==typeof n){var h=n();r.appendChild(l=o(h)?h:d.createTextNode(h)),t.push(n(function(e){o(e)&&l.parentElement?(l.parentElement.replaceChild(e,l),l=e):l.textContent=e}))}return l}for(var n=[].slice.call(arguments),r=null;n.length;)e(n.shift());return r}var t=[];return e.cleanup=function(){for(var e=0;e<t.length;e++)t[e]();t.length=0},e}function o(e){return e&&e.nodeName&&e.nodeType}function i(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n)}function a(e){return"[object Array]"==Object.prototype.toString.call(e)}var s=n(12),u=n(13),l="undefined"==typeof window?n(15):window,d=l.document,c=l.Text;(e.exports=r()).context=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.OptionType=t.makeRanges=t.last=t.arraysEqual=void 0;var o=n(17),i=r(o),a=n(18),s=r(a),u=n(19),l=r(u),d=n(20),c=r(d);t.arraysEqual=i.default,t.last=s.default,t.makeRanges=l.default,t.OptionType=c.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function e(t){var n=this;r(this,e),this.name=t.name?t.name:"Unnamed Bindery Rule",this.selector="",Object.keys(t).forEach(function(e){n[e]=t[e]})};t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),s=r(a),u=n(0),l=r(u),d=function(){function e(){o(this,e),this.flowContent=(0,s.default)((0,l.default)(".content")),this.flowBox=(0,s.default)((0,l.default)(".flowbox"),this.flowContent),this.footer=(0,s.default)((0,l.default)(".footer")),this.background=(0,s.default)((0,l.default)(".background")),this.element=(0,s.default)((0,l.default)(".page")+(0,l.default)(".page-size"),this.background,this.flowBox,this.footer)}return i(e,[{key:"overflowAmount",value:function(){var e=this.flowContent.offsetHeight,t=this.flowBox.offsetHeight;if(0===t)throw Error("Bindery: Trying to flow into a box of zero height.");return e-t}},{key:"hasOverflowed",value:function(){return this.overflowAmount()>-5}},{key:"setLeftRight",value:function(e){if("left"===e)this.side=e,this.element.classList.remove((0,l.default)("right")),this.element.classList.add((0,l.default)("left"));else{if("right"!==e)throw Error("Bindery: Setting page to invalid direction"+e);this.side=e,this.element.classList.remove((0,l.default)("left")),this.element.classList.add((0,l.default)("right"))}}},{key:"setPreference",value:function(e){"left"===e&&(this.alwaysLeft=!0),"right"===e&&(this.alwaysRight=!0)}},{key:"suppressErrors",get:function(){return this.suppress||!1},set:function(e){this.suppress=e,e?this.element.classList.add((0,l.default)("is-overflowing")):this.element.classList.remove((0,l.default)("is-overflowing"))}},{key:"isEmpty",get:function(){return!this.hasOutOfFlowContent&&""===this.flowContent.textContent.trim()&&this.flowContent.offsetHeight<1}},{key:"isLeft",get:function(){return"left"===this.side}},{key:"isRight",get:function(){return"right"===this.side}}],[{key:"isSizeValid",value:function(){document.body.classList.remove((0,l.default)("viewing"));var t=new e,n=document.querySelector((0,l.default)(".measure-area"));n||(n=document.body.appendChild((0,s.default)((0,l.default)(".measure-area")))),n.innerHTML="",n.appendChild(t.element);var r=t.flowBox.getBoundingClientRect();return n.parentNode.removeChild(n),r.height>100&&r.width>100}}]),e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={px:1,in:96,pt:4/3,pc:16,mm:25.4/96,cm:25.4/96*10},o=function(e,t){return e*r[t]},i=function(e,t){return e/r[t]},a=function(e,t,n){return i(o(e,t),n)},s=/^([+-]?[0-9]+(.?[0-9]+)?)(px|in|cm|mm|pt|pc)$/,u=function(e){return s.test(e)},l=function(e){Object.keys(e).forEach(function(t){if(!u(e[t]))throw"number"==typeof e[t]?Error("Size is missing units { "+t+": "+e[t]+" }"):Error("Invalid size { "+t+": "+e[t]+" }")})},d=function(e){var t=e.match(s);return{val:Number(t[1]),unit:t[3]}},c=function(e){var t=d(e);return o(t.val,t.unit)},f=function(e,t){var n=d(e);return""+i(o(n.val,n.unit),t)+t};t.cssNumberPattern="^([+-]?[0-9]+(.?[0-9]+)?)(px|in|cm|mm|pt|pc)$",t.parseVal=d,t.isValidLength=u,t.isValidSize=l,t.convert=a,t.convertStrToStr=f,t.convertStrToPx=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.name="Replace",n}return i(t,e),a(t,[{key:"afterAdd",value:function(e,t,n,r,o){var i=e.parentNode;if(!i)throw Error("Bindery: Rule assumes element has been added but it has no parent.",e);var a=e.cloneNode(!0),s=this.createReplacement(t,a);return i.replaceChild(s,e),t.currentPage.hasOverflowed()?(i.replaceChild(e,s),o(e)):s}},{key:"createReplacement",value:function(e,t){return this.replace(t)}},{key:"replace",value:function(e){return e.insertAdjacentHTML("beforeEnd",'<sup class="bindery-sup">Default Replacement</sup>'),e}}]),t}(u.default);t.default=l},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){var t=e.tagName.toLowerCase(),n=e.id?"#"+e.id:"",o="";e.classList.length>0&&(o="."+[].concat(r(e.classList)).join("."));var i="";return n.length<1&&o.length<2&&(i='("'+e.textContent.substr(0,30).replace(/\s+/g," ")+'...")'),t+n+o+i};t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(39),i=r(o),a=n(40),s=r(a),u=n(41),l=r(u),d=n(42),c=r(d),f=n(43),p=r(f),h=n(44),g=r(h),b=n(45),m=r(b),v=n(6),y=r(v),w=n(3),k=r(w),x=n(46),_=r(x);t.default={Rule:k.default,Split:function(e){return new i.default(e)},Counter:function(e){return new s.default(e)},FullBleedPage:function(e){return new c.default(e)},Footnote:function(e){return new p.default(e)},RunningHeader:function(e){return new m.default(e)},Replace:function(e){return new y.default(e)},FullBleedSpread:function(e){return new l.default(e)},PageBreak:function(e){return new _.default(e)},PageReference:function(e){return new g.default(e)},createRule:function(e){return new k.default(e)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=(r(u),n(3)),d=r(l),c=n(0),f=(r(c),n(7)),p=(r(f),function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.name="Out of Flow",n}return a(t,e),s(t,[{key:"beforeAdd",value:function(e){return e.setAttribute("data-ignore-overflow",!0),e}},{key:"afterAdd",value:function(e,t,n,r){return this.createOutOfFlowPages(e,t,r),("same"!==this.continue||t.currentPage.hasOutOfFlowContent)&&(n(),"left"!==this.continue&&"right"!==this.continue||t.currentPage.setPreference(this.continue)),e}}]),t}(d.default));t.default=p},function(e,t,n){"use strict";var r=n(11).default,o=n(8).default,i=Object.assign(r,o);e.exports=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),u=r(s),l=n(16),d=r(l),c=n(27),f=r(c),p=n(28),h=r(p),g=n(0),b=r(g),m=n(8),v=r(m),y=n(2);n(47);var w=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(o(this,e),console.log("Bindery 2.0.0-alpha.8.1"),this.autorun=t.autorun||!0,this.autoupdate=t.autoupdate||!1,this.debug=t.debug||!1,y.OptionType.validate(t,{name:"makeBook",autorun:y.OptionType.bool,content:y.OptionType.any,pageSetup:y.OptionType.shape({name:"pageSetup",bleed:y.OptionType.length,margin:y.OptionType.shape({name:"margin",top:y.OptionType.length,inner:y.OptionType.length,outer:y.OptionType.length,bottom:y.OptionType.length}),size:y.OptionType.shape({name:"size",width:y.OptionType.length,height:y.OptionType.length})}),rules:y.OptionType.array}),this.pageSetup=new f.default(t.pageSetup),this.viewer=new h.default({bindery:this}),this.controls=this.viewer.controls,t.startingView&&this.viewer.setMode(t.startingView),this.rules=[],t.rules&&this.addRules(t.rules),t.content)if("string"==typeof t.content){if(this.source=document.querySelector(t.content),!(this.source instanceof HTMLElement))return this.viewer.displayError("Content not specified",'Could not find element that matches selector "'+t.content+'"'),void console.error('Bindery: Could not find element that matches selector "'+t.content+'"');this.autorun&&this.makeBook()}else if("object"===i(t.content)&&t.content.url){var n=t.content.url,r=t.content.selector;this.fetchSource(n,r)}else t.content instanceof HTMLElement?(this.source=t.content,this.autorun&&this.makeBook()):console.error("Bindery: Source must be an element or selector");else this.viewer.displayError("Content not specified","You must include a source element, selector, or url"),console.error("Bindery: You must include a source element or selector")}return a(e,[{key:"fetchSource",value:function(e,t){var n=this;fetch(e).then(function(t){if(404===t.status)n.viewer.displayError("404",'Could not find file at "'+e+'"');else if(200===t.status)return t.text();return""}).then(function(e){var r=(0,u.default)("div");if(r.innerHTML=e,n.source=r.querySelector(t),!(n.source instanceof HTMLElement))return n.viewer.displayError("Source not specified",'Could not find element that matches selector "'+t+'"'),void console.error('Bindery: Could not find element that matches selector "'+t+'"');n.autorun&&n.makeBook()}).catch(function(t){console.error(t),"file"===window.location.href.split("://")[0]&&n.viewer.displayError("Can't fetch content from \""+e+'"',"Web pages can't fetch content unless they are on a server.")})}},{key:"cancel",value:function(){this.viewer.cancel(),document.body.classList.remove((0,b.default)("viewing")),this.source.style.display=""}},{key:"addRules",value:function(e){var t=this;e.forEach(function(e){if(!(e instanceof v.default.Rule))throw Error("Bindery: The following is not an instance of Bindery.Rule and will be ignored: "+e);t.rules.push(e)})}},{key:"makeBook",value:function(e){var t=this;if(!this.source)return void document.body.classList.add((0,b.default)("viewing"));if(!this.pageSetup.isSizeValid())return this.viewer.displayError("Page is too small","Size: "+JSON.stringify(this.pageSize)+" \n Margin: "+JSON.stringify(this.pageMargin)+" \n Try adjusting the sizes or units."),void console.error("Bindery: Cancelled pagination. Page is too small.");this.source.style.display="";var n=this.source.cloneNode(!0);this.source.style.display="none",this.viewer.clear(),document.body.classList.add((0,b.default)("viewing")),this.viewer.element.classList.add((0,b.default)("in-progress")),this.debug&&document.body.classList.add((0,b.default)("debug")),this.pageSetup.updateStylesheet(),this.controls.setInProgress(),(0,d.default)({content:n,rules:this.rules,success:function(n){t.viewer.book=n,t.viewer.render(),t.controls.setDone(),e&&e(),t.viewer.element.classList.remove((0,b.default)("in-progress")),document.body.classList.remove((0,b.default)("debug"))},progress:function(e){t.viewer.book=e,t.controls.updateProgress(e.pages.length),t.viewer.renderProgress()},error:function(e){t.viewer.element.classList.remove((0,b.default)("in-progress")),t.viewer.displayError("Layout couldn't complete",e)},isDebugging:this.debug})}}],[{key:"makeBook",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.autorun=!t.autorun||t.autorun,new e(t)}}]),e}();t.default=w},function(e,t){/*!
 * Cross-Browser Split 1.1.1
 * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
 * Available under the MIT License
 * ECMAScript compliant, uniform cross-browser split method
 */
e.exports=function(e){var t=String.prototype.split,n=/()??/.exec("")[1]===e;return function(r,o,i){if("[object RegExp]"!==Object.prototype.toString.call(o))return t.call(r,o,i);var a,s,u,l,d=[],c=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.extended?"x":"")+(o.sticky?"y":""),f=0,o=new RegExp(o.source,c+"g");for(r+="",n||(a=new RegExp("^"+o.source+"$(?!\\s)",c)),i=i===e?-1>>>0:i>>>0;(s=o.exec(r))&&!((u=s.index+s[0].length)>f&&(d.push(r.slice(f,s.index)),!n&&s.length>1&&s[0].replace(a,function(){for(var t=1;t<arguments.length-2;t++)arguments[t]===e&&(s[t]=e)}),s.length>1&&s.index<r.length&&Array.prototype.push.apply(d,s.slice(1)),l=s[0].length,f=u,d.length>=i));)o.lastIndex===s.index&&o.lastIndex++;return f===r.length?!l&&o.test("")||d.push(""):d.push(r.slice(f)),d.length>i?d.slice(0,i):d}}()},function(e,t,n){function r(e){function t(e){var t=d();a(t,e)>-1||(t.push(e),c(t))}function n(e){var t=d(),n=a(t,e);-1!==n&&(t.splice(n,1),c(t))}function r(e){return a(d(),e)>-1}function s(e){return r(e)?(n(e),!1):(t(e),!0)}function u(){return e.className}function l(e){return d()[e]||null}function d(){return o(e.className.split(" "),i)}function c(t){var n=t.length;e.className=t.join(" "),p.length=n;for(var r=0;r<t.length;r++)p[r]=t[r];delete t[n]}var f=e.classList;if(f)return f;var p={add:t,remove:n,contains:r,toggle:s,toString:u,length:0,item:l};return p}function o(e,t){for(var n=[],r=0;r<e.length;r++)t(e[r])&&n.push(e[r]);return n}function i(e){return!!e}var a=n(14);e.exports=r},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i),s=n(7),u=r(s),l=n(0),d=r(l),c=n(2),f=n(21),p=r(f),h=n(4),g=r(h),b=n(22),m=r(b),v=n(23),y=r(v),w=n(24),k=r(w),x=n(25),_=r(x),O=n(26),L=r(O),C=function(e){var t=e.content,n=e.rules,r=e.success,i=e.progress,s=e.error,l=e.isDebugging,f=window.performance.now(),h=new m.default(l),b=(0,_.default)(n),v=document.body.appendChild((0,a.default)((0,d.default)(".measure-area"))),w={breadcrumb:[],pages:[],book:new p.default},x=void 0,O=void 0,C=function(){return w.breadcrumb[0]?(0,c.last)(w.breadcrumb):w.currentPage.flowContent},P=function(e){n.forEach(function(t){t.afterPageCreated&&t.afterPageCreated(e,w)})},M=function(){n.forEach(function(e){e.layoutStart&&e.layoutStart()})},E=function(){var e=new g.default;return v.appendChild(e.element),P(e),e},S=function(){w.pages=(0,y.default)(w.pages,E),(0,k.default)(w.pages),w.currentPage&&F(w.currentPage,w.book)},j=function(){if(w.currentPage&&w.currentPage.hasOverflowed()&&(console.warn("Bindery: Page overflowing",w.currentPage.element),!w.currentPage.suppressErrors))throw Error("Bindery: Moved to new page when last one is still overflowing");if(500===w.pages.length)console.warn("Bindery: More than 500 pages, performance may be slow.");else if(1e3===w.pages.length)console.warn("Bindery: More than 1000 pages, performance may be slow.");else if(w.pages.length>9999)throw s("Maximum page count exceeded"),Error("Bindery: Maximum page count exceeded. Suspected runaway layout.");S(),w.breadcrumb=b(w.breadcrumb);var e=E();if(w.currentPage=e,w.book.pages=w.pages,w.book.pageInProgress=e,x(),w.pages.push(e),w.breadcrumb[0]&&e.flowContent.appendChild(w.breadcrumb[0]),e.hasOverflowed()){var t=C();t?(console.error("Bindery: NextPage already overflowing, probably due to a style set on "+(0,u.default)(t)+". It may not fit on the page."),t.parentNode.removeChild(t)):console.error("Bindery: NextPage already overflowing.")}return e},T=n.filter(function(e){return e.selector&&e.beforeAdd}),z=n.filter(function(e){return e.selector&&e.afterAdd}),B=n.filter(function(e){return e.eachPage}),A=function(e){var t=e;return T.forEach(function(e){t.matches(e.selector)&&(t=e.beforeAdd(t,w,j,E))}),t},R=function(e){var t=e;return z.forEach(function(e){t.matches(e.selector)&&(t=e.afterAdd(t,w,j,E,function(t){return t.parentNode.removeChild(t),j(),C().appendChild(t),e.afterAdd(t,w,j,E,function(){console.log("Couldn't apply "+e.name+" to "+(0,u.default)(t)+". Caused overflows twice.")})}))}),t},N=function(e){B.forEach(function(t){e.pages.forEach(function(n){t.eachPage(n,e)})})},F=function(e,t){B.forEach(function(n){n.eachPage(e,t)})},H=n.filter(function(e){return e.avoidSplit}).map(function(e){return e.selector}),V=function e(t){return H.some(function(e){return t.matches(e)})?!(!t.hasAttribute("data-bindery-did-move")&&!t.classList.contains((0,d.default)("continuation"))):!t.parentElement||e(t.parentElement)},I=function(e){if(w.breadcrumb.pop(),w.breadcrumb.length<1)throw Error("Bindery: Attempting to move the top-level element is not allowed");for(var t=e,n=[];w.breadcrumb.length>1&&!V(C());)t=w.breadcrumb.pop(),n.unshift(t);t.setAttribute("data-bindery-did-move",!0);var r=t.parentNode;r.removeChild(t),w.breadcrumb.length>1&&""===C().textContent.trim()&&(r.appendChild(t),t=w.breadcrumb.pop(),n.unshift(t),t.parentNode.removeChild(t)),w.currentPage.isEmpty?e.setAttribute("data-ignore-overflow",!0):(w.currentPage.hasOverflowed()&&(w.currentPage.suppressErrors=!0),j()),C().appendChild(t),n.forEach(function(e){w.breadcrumb.push(e)}),w.breadcrumb.push(e)},D=function(e,t,n){C().appendChild(e),w.currentPage.hasOverflowed()?(e.parentNode.removeChild(e),n()):h.throttle(t)},U=function e(t,n,r){var o=t.nodeValue;if(C().appendChild(t),!w.currentPage.hasOverflowed())return void h.throttle(n);if(C().hasAttribute("data-ignore-overflow"))return void h.throttle(n);var i=0;!function a(){if(t.nodeValue=o.substr(0,i),w.currentPage.hasOverflowed()){for(" "===o.charAt(i)&&(i-=1);" "!==o.charAt(i)&&i>0;)i-=1;if(i<1)return t.nodeValue=o,t.parentNode.removeChild(t),void r();var s=o.substr(0,i),u=o.substr(i);t.nodeValue=s,j();var l=document.createTextNode(u);return void e(l,n,r)}if(i>o.length-1)return void h.throttle(n);for(i+=1;" "!==o.charAt(i)&&i<o.length;)i+=1;h.throttle(a)}()},q=function(e,t,n){var r=function(){C().appendChild(t),w.currentPage.suppressErrors=!0,j(),h.throttle(n)};if(V(e)){U(t,n,function(){w.breadcrumb.length>1?(I(e),h.throttle(function(){return U(t,n,r)})):r()})}else{D(t,n,function(){I(e),h.throttle(function(){return D(t,n,r)})})}},G=function e(t,n){w.currentPage.hasOverflowed()&&(C().hasAttribute("data-ignore-overflow")||(w.currentPage.suppressErrors=!0,j()));var r=A(t);C().appendChild(r),w.breadcrumb.push(r);var i=[].concat(o(r.childNodes));r.innerHTML="",w.currentPage.hasOverflowed()&&I(r);var a=0;!function t(){if(!(a<i.length)){var o=w.breadcrumb.pop();return R(o),w.currentPage.hasOverflowed(),void n()}var s=i[a];a+=1,s.nodeType===Node.TEXT_NODE?q(r,s,t):s.nodeType===Node.ELEMENT_NODE&&"SCRIPT"!==s.tagName?"IMG"!==s.tagName||s.naturalWidth?h.throttle(function(){e(s,t)}):(0,L.default)(s,function(){e(s,t)}):t()}()};x=function(){i(w.book)},O=function(){document.body.removeChild(v);var e=(0,y.default)(w.pages,E);(0,k.default)(e),w.book.pages=e,w.book.setCompleted(),N(w.book);var t=window.performance.now();l||console.log("Bindery: Pages created in "+(t-f)/1e3+"s"),r(w.book)},function(){M(),t.style.margin=0,t.style.padding=0,j(),h.throttle(function(){G(t,O)})}()};t.default=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n+=1)if(e[n]!==t[n])return!1;return!0};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e[e.length-1]};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){var t="",n=e[0],r=!1;return e.forEach(function(o,i){var a=i===e.length-1,s=o===n+1;0===i?t+=""+o:a?t+=s?"–"+o:r?"–"+n+", "+o:", "+o:s?r=!0:r&&!s?(r=!1,t+="–"+n+", "+o):t+=", "+o,n=o}),t};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(5),i=function(e,t){return Object.keys(e).forEach(function(n){if(t[n]){var r=e[n],o=t[n];o(r)||console.error("Bindery: For property '"+t.name+"."+n+"', '"+JSON.stringify(r)+"' is not a valid value of type "+o.name)}else console.error("Bindery: '"+t.name+"' doesn't have property '"+n+"'")}),!0},a=function(e){return"object"===(void 0===e?"undefined":r(e))},s={enum:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.includes(e)}},any:function(){return!0},string:function(e){return"string"==typeof e},length:function(e){return(0,o.isValidLength)(e)},bool:function(e){return"boolean"==typeof e},func:function(e){return"function"==typeof e},obj:a,array:function(e){return Array.isArray(e)},shape:function(e){return function(t){return a(t)&&i(t,e)}},validate:i};t.default=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e),this.pages=[],this.queued=[],this.isComplete=!1}return o(e,[{key:"pagesForSelector",value:function(e){return this.pagesForTest(function(t){return t.element.querySelector(e)})}},{key:"pagesForTest",value:function(e){return this.pages.filter(function(t){return e(t.element)}).map(function(e){return e.number})}},{key:"onComplete",value:function(e){this.isComplete?e():this.queued.push(e)}},{key:"setCompleted",value:function(){this.isComplete=!0,this.queued.forEach(function(e){e()})}},{key:"pageCount",get:function(){return this.pages.length}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){r(this,e),this.numberOfCalls=0,this.resumeLimit=1/0,this.callsSinceResume=0,this.queuedFunc=null,this.isPaused=!1,this.useDelay=t,this.delayTime=100,t&&(window.binderyDebug={pause:this.pause.bind(this),resume:this.resume.bind(this),resumeFor:this.resumeFor.bind(this),step:this.step.bind(this),finish:this.finish.bind(this)},console.log("Bindery: Debug layout with the following: \nbinderyDebug.pause() \nbinderyDebug.resume()\n binderyDebug.resumeFor(n) // pauses after n steps, \nbinderyDebug.step()"))}return o(e,[{key:"throttle",value:function(e){this.callsSinceResume+=1,this.callsSinceResume>this.resumeLimit&&this.endResume(),this.isPaused?this.queuedFunc=e:this.useDelay?setTimeout(e,this.delayTime):this.numberOfCalls<1e3?(this.numberOfCalls+=1,e()):(this.numberOfCalls=0,document.hidden?setTimeout(e,1):requestAnimationFrame(e))}},{key:"pause",value:function(){return this.isPaused?"Already paused":(this.isPaused=!0,"Paused")}},{key:"resumeDelay",value:function(){this.useDelay=!0,this.resume()}},{key:"finish",value:function(){this.useDelay=!1,this.resume()}},{key:"resume",value:function(){return this.isPaused?(this.isPaused=!1,this.queuedFunc?(this.queuedFunc(),this.queuedFunc=null,"Resuming"):"Layout complete"):"Already running"}},{key:"step",value:function(){if(!this.isPaused)return this.pause();if(this.queuedFunc){var e=this.queuedFunc,t=e.name;return this.queuedFunc=null,e(),t}return"Layout complete"}},{key:"resumeFor",value:function(e){return this.callsSinceResume=0,this.resumeLimit=e,this.resume()}},{key:"endResume",value:function(){console.log("Paused after "+this.resumeLimit),this.resumeLimit=1/0,this.callsSinceResume=0,this.pause()}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){for(var n=t;n<e.length;n+=1)if(!e[n].isOutOfFlow)return n;return t},o=function(e,t){for(var n=e.slice(),o=0;o<n.length;o+=1){var i=n[o],a=o%2!=0;if(a&&i.alwaysRight||!a&&i.alwaysLeft)if(i.isOutOfFlow){var s=r(n,o+1),u=n[s];n.splice(s,1),n.splice(o,0,u)}else n.splice(o,0,t())}return n};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){e.forEach(function(e,t){e.number=t+1,e.setLeftRight(t%2==0?"right":"left")});var t={h1:"",h2:"",h3:"",h4:"",h5:"",h6:""};e.forEach(function(e){e.heading={},Object.keys(t).forEach(function(n,r){var o=e.element.querySelector(n);o&&(t[n]=o.textContent,Object.keys(t).forEach(function(e,n){n>r&&(t[e]="")})),""!==t[n]&&(e.heading[n]=t[n])})})};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function(e){var t=function(t){t.classList.add((0,o.default)("continues")),e.filter(function(e){return e.customContinuesClass}).forEach(function(e){return t.classList.add(e.customContinuesClass)})},n=function(t){t.classList.add((0,o.default)("continuation")),e.filter(function(e){return e.customContinuationClass}).forEach(function(e){return t.classList.add(e.customContinuationClass)})};return function(e){for(var r=[],o=e.length-1;o>=0;o-=1){var i=e[o],a=i.cloneNode(!1);if(a.innerHTML="",t(i),n(a),a.id,"OL"===a.tagName){var s=1;i.hasAttribute("start")&&(s=parseInt(i.getAttribute("start"),10)),o<e.length-1&&"LI"===e[o+1].tagName&&(s-=1);var u=i.children.length,l=s+u;a.setAttribute("start",l)}o<e.length-1&&a.appendChild(r[o+1]),r[o]=a}return r}};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){var n=e.src.substring(e.src.lastIndexOf("/")+1);console.log("Bindery: Waiting for image '"+n+"' size to load");var r=setInterval(function(){e.naturalWidth&&(clearInterval(r),t())},10);e.addEventListener("error",function(){clearInterval(r),console.error("Bindery: Image '"+n+"' failed to load."),t()}),e.src=e.src};t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(4),s=r(a),u=n(5),l=n(0),d=r(l),c={bleed:"12pt",size:{width:"4in",height:"6in"},margin:{inner:"24pt",outer:"24pt",bottom:"40pt",top:"48pt"}},f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this.setSize(t.size||c.size),this.setMargin(t.margin||c.margin),this.setBleed(t.bleed||c.bleed),this.printTwoUp=!1,this.sheetSizeMode="size_page_marks"}return i(e,[{key:"setSize",value:function(e){(0,u.isValidSize)(e),this.size=e}},{key:"setMargin",value:function(e){(0,u.isValidSize)(e),this.margin=e}},{key:"setBleed",value:function(e){this.bleed=e}},{key:"setSheetSizeMode",value:function(e){this.sheetSizeMode=e}},{key:"setPrintTwoUp",value:function(e){this.printTwoUp=e}},{key:"isSizeValid",value:function(){return this.updateStylesheet(),s.default.isSizeValid()}},{key:"spreadSizeStyle",value:function(){var e=(0,u.parseVal)(this.size.width);return{height:this.size.height,width:""+2*e.val+e.unit}}},{key:"updateStylesheet",value:function(){var e=void 0,t=document.querySelector("#binderyPageSetup");t?e=t:(e=document.createElement("style"),e.id="binderyPageSetup");var n=(0,u.parseVal)(this.size.width);e.innerHTML="\n@page { size: "+this.sheetSize.width+" "+this.sheetSize.height+"; }\n"+(0,d.default)(".print-page")+" { width: "+this.sheetSize.width+"; height: "+this.sheetSize.height+";}\n\n"+(0,d.default)(".show-crop")+" "+(0,d.default)(".print-page")+" "+(0,d.default)(".spread-wrapper")+",\n"+(0,d.default)(".show-bleed-marks")+" "+(0,d.default)(".print-page")+" "+(0,d.default)(".spread-wrapper")+" {\n  margin: calc("+this.bleed+" + 12pt) auto;\n}\n"+(0,d.default)(".page-size")+" {\n  height: "+this.size.height+";\n  width: "+this.size.width+";\n}\n"+(0,d.default)(".page-size-rotated")+" {\n  height: "+this.size.width+";\n  width: "+this.size.height+";\n}\n"+(0,d.default)(".spread-size")+" {\n  height: "+this.size.height+";\n  width: "+2*n.val+n.unit+";\n}\n"+(0,d.default)(".spread-size-rotated")+" {\n  height: "+2*n.val+n.unit+";\n  width: "+this.size.height+";\n}\n"+(0,d.default)(".flowbox")+",\n"+(0,d.default)(".footer")+" {\n  margin-left: "+this.margin.inner+";\n  margin-right: "+this.margin.outer+";\n}\n"+(0,d.default)(".left")+" "+(0,d.default)(".flowbox")+",\n"+(0,d.default)(".left")+" "+(0,d.default)(".footer")+" {\n  margin-left: "+this.margin.outer+";\n  margin-right: "+this.margin.inner+";\n}\n\n"+(0,d.default)(".left")+" "+(0,d.default)(".running-header")+" {\n  left: "+this.margin.outer+";\n}\n"+(0,d.default)(".right")+" "+(0,d.default)(".running-header")+" {\n  right: "+this.margin.outer+";\n}\n\n"+(0,d.default)(".flowbox")+" { margin-top: "+this.margin.top+"; }\n"+(0,d.default)(".footer")+"{ margin-bottom: "+this.margin.bottom+"; }\n\n"+(0,d.default)(".bleed-left")+",\n"+(0,d.default)(".bleed-right")+",\n"+(0,d.default)(".crop-left")+",\n"+(0,d.default)(".crop-right")+",\n"+(0,d.default)(".crop-fold")+" {\n  top: calc( -12pt - "+this.bleed+" );\n  bottom: calc( -12pt - "+this.bleed+" );\n}\n\n"+(0,d.default)(".bleed-top")+",\n"+(0,d.default)(".bleed-bottom")+",\n"+(0,d.default)(".crop-top")+",\n"+(0,d.default)(".crop-bottom")+" {\n  left: calc( -12pt - "+this.bleed+" );\n  right: calc( -12pt - "+this.bleed+" );\n}\n"+(0,d.default)(".bleed-left")+"   { left: -"+this.bleed+"; }\n"+(0,d.default)(".bleed-right")+"  { right: -"+this.bleed+"; }\n"+(0,d.default)(".bleed-top")+"    { top: -"+this.bleed+"; }\n"+(0,d.default)(".bleed-bottom")+" { bottom: -"+this.bleed+"; }\n\n"+(0,d.default)(".background")+" {\n  top: -"+this.bleed+";\n  bottom: -"+this.bleed+";\n  left: -"+this.bleed+";\n  right: -"+this.bleed+";\n}\n\n"+(0,d.default)(".spread")+(0,d.default)(".right")+" > "+(0,d.default)(".background")+" {\n  left: calc(-100% - "+this.bleed+");\n}\n"+(0,d.default)(".spread")+(0,d.default)(".left")+" > "+(0,d.default)(".background")+" {\n  right: calc(-100% - "+this.bleed+");\n}\n    ",document.head.appendChild(e)}},{key:"sheetSize",get:function(){var e=this.printTwoUp?this.spreadSizeStyle().width:this.size.width,t=this.size.height,n=this.bleed;switch(this.sheetSizeMode){case"size_page":return{width:e,height:t};case"size_page_bleed":return{width:"calc("+e+" + "+n+" + "+n+")",height:"calc("+t+" + "+n+" + "+n+")"};case"size_page_marks":return{width:"calc("+e+" + "+n+" + "+n+" + 24pt)",height:"calc("+t+" + "+n+" + "+n+" + 24pt)"};case"size_letter_l":return{width:"11in",height:"8.5in"};case"size_letter_p":return{width:"8.5in",height:"11in"}}return{width:e,height:t}}}]),e}();t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),s=r(a),u=n(0),l=r(u),d=n(29),c=r(d),f=n(4),p=r(f),h=n(31),g=r(h),b=n(32),m=r(b),v=n(33),y=r(v),w=n(34),k="grid",x="arrange_one",_=function(){function e(t){var n=t.bindery;o(this,e),this.book=null,this.pageSetup=n.pageSetup,this.zoomBox=(0,s.default)((0,l.default)(".zoom-wrap")),this.element=(0,s.default)((0,l.default)(".root"),this.zoomBox),this.doubleSided=!0,this.printArrange=x,this.isShowingCropMarks=!0,this.isShowingBleedMarks=!1,this.mode=k,this.element.setAttribute("bindery-view-mode",this.mode),this.currentLeaf=0,this.listenForPrint(),this.listenForResize(),this.setGrid=this.setGrid.bind(this),this.setOutline=this.setOutline.bind(this),this.setPrint=this.setPrint.bind(this),this.setFlip=this.setFlip.bind(this),this.controls=new c.default({binder:n,viewer:this}),this.element.classList.add((0,l.default)("in-progress")),this.element.appendChild(this.controls.element),document.body.appendChild(this.element)}return i(e,[{key:"listenForPrint",value:function(){var e=this;if(window.matchMedia){window.matchMedia("print").addListener(function(t){t.matches&&e.setPrint()})}}},{key:"listenForResize",value:function(){var e=this;window.addEventListener("resize",function(){e.throttleResize||(e.updateZoom(),e.throttleResize=setTimeout(function(){e.throttleResize=null},20))})}},{key:"setSheetSize",value:function(e){this.pageSetup.setSheetSizeMode(e),this.pageSetup.updateStylesheet(),"print"!==this.mode&&this.setPrint(),this.updateZoom()}},{key:"setPrintArrange",value:function(e){e!==this.printArrange&&(this.printArrange=e,this.pageSetup.setPrintTwoUp(this.isTwoUp),this.pageSetup.updateStylesheet(),"print"===this.mode?this.render():this.setPrint())}},{key:"displayError",value:function(e,t){this.element.parentNode||document.body.appendChild(this.element),this.error||(this.zoomBox.innerHTML="",this.error=(0,g.default)(e,t),this.zoomBox.appendChild(this.error))}},{key:"clear",value:function(){this.book=null,this.lastSpreadInProgress=null,this.zoomBox.innerHTML=""}},{key:"cancel",value:function(){this.element.parentNode&&this.element.parentNode.removeChild(this.element)}},{key:"toggleGuides",value:function(){this.element.classList.toggle((0,l.default)("show-guides"))}},{key:"toggleBleed",value:function(){this.element.classList.add((0,l.default)("show-bleed"))}},{key:"toggleDouble",value:function(){this.doubleSided=!this.doubleSided,this.render()}},{key:"setMode",value:function(e){switch(e){case"grid":case"default":this.mode=k;break;case"interactive":case"flip":this.mode="interactive";break;case"print":case"sheet":this.mode="print";break;case"outline":case"outlines":this.mode="outline";break;default:console.error('Bindery: Unknown view mode "'+e+'"')}}},{key:"setGrid",value:function(){this.mode!==k&&("outline"===this.mode?(this.mode=k,this.updateGuides()):(this.mode=k,this.render()))}},{key:"setOutline",value:function(){"outline"!==this.mode&&(this.mode===k?(this.mode="outline",this.updateGuides()):(this.mode="outline",this.render()))}},{key:"setPrint",value:function(){"print"!==this.mode&&(this.mode="print",this.render())}},{key:"setFlip",value:function(){this.mode="interactive",this.render()}},{key:"render",value:function(){if(this.book){var e=document,t=e.body;this.element.parentNode||t.appendChild(this.element),this.flaps=[],t.classList.add((0,l.default)("viewing")),this.element.setAttribute("bindery-view-mode",this.mode);var n=t.scrollHeight-t.offsetHeight,r=t.scrollTop/n;this.mode===k?this.renderGrid():"outline"===this.mode?this.renderGrid():"interactive"===this.mode?this.renderInteractive():"print"===this.mode?this.renderPrint():this.renderGrid(),t.scrollTop=n*r,this.updateZoom()}}},{key:"renderProgress",value:function(){var e=this,t=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return s.default.apply(void 0,[(0,l.default)(".spread-wrapper")+(0,l.default)(".spread-size")].concat(t))};this.book.pages.forEach(function(n,r){if(!e.zoomBox.contains(n.element)||n.element.parentNode===e.zoomBox)if(e.lastSpreadInProgress&&e.lastSpreadInProgress.children.length<2)e.lastSpreadInProgress.appendChild(n.element);else{if(0===r){var o=new p.default;o.element.style.visibility="hidden",e.lastSpreadInProgress=t(o.element,n.element)}else e.lastSpreadInProgress=t(n.element);e.zoomBox.appendChild(e.lastSpreadInProgress)}}),this.book.pageInProgress&&this.zoomBox.appendChild(this.book.pageInProgress.element),this.updateZoom()}},{key:"updateZoom",value:function(){if(this.zoomBox.firstElementChild){var e=document.body.scrollTop/document.body.scrollHeight,t=this.zoomBox.getBoundingClientRect().width,n=this.zoomBox.firstElementChild.getBoundingClientRect().width,r=Math.min(1,t/(n+20));this.zoomBox.style.transform="scale("+r+")",document.body.scrollTop=document.body.scrollHeight*e}}},{key:"updateGuides",value:function(){this.element.setAttribute("bindery-view-mode",this.mode),"outline"===this.mode?(this.element.classList.add((0,l.default)("show-bleed")),this.element.classList.add((0,l.default)("show-guides"))):(this.element.classList.remove((0,l.default)("show-bleed")),this.element.classList.remove((0,l.default)("show-guides")))}},{key:"renderPrint",value:function(){this.element.classList.add((0,l.default)("show-bleed")),this.element.classList.remove((0,l.default)("show-guides")),this.zoomBox.innerHTML="";var e="arrange_booklet"===this.printArrange,t=this.orientation,n=this.book.pages.slice();"arrange_two"===this.printArrange?n=(0,y.default)(n):e&&(n=(0,m.default)(n));var r=(0,w.printLayout)(n,this.isTwoUp,t,e);this.zoomBox.appendChild(r)}},{key:"renderGrid",value:function(){this.updateGuides(),this.zoomBox.innerHTML="";var e=this.book.pages.slice();this.doubleSided&&(e=(0,y.default)(e));var t=(0,w.gridLayout)(e,this.doubleSided);this.zoomBox.appendChild(t)}},{key:"renderInteractive",value:function(){this.zoomBox.innerHTML="",this.flaps=[],this.element.classList.remove((0,l.default)("show-bleed")),this.element.classList.remove((0,l.default)("show-guides"));var e=(0,y.default)(this.book.pages.slice()),t=(0,w.flipLayout)(e,this.doubleSided);this.zoomBox.appendChild(t)}},{key:"isTwoUp",get:function(){return this.printArrange!==x}},{key:"isShowingCropMarks",get:function(){return this.element.classList.contains((0,l.default)("show-crop"))},set:function(e){e?(this.element.classList.add((0,l.default)("show-crop")),this.setPrint()):this.element.classList.remove((0,l.default)("show-crop"))}},{key:"isShowingBleedMarks",get:function(){return this.element.classList.contains((0,l.default)("show-bleed-marks"))},set:function(e){e?(this.element.classList.add((0,l.default)("show-bleed-marks")),this.setPrint()):this.element.classList.remove((0,l.default)("show-bleed-marks"))}}]),e}();t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i),s=n(0),u=r(s),l=n(30),d=function e(t){var n=this;o(this,e),this.binder=t.binder;var r=t.viewer,i=function(){r.setPrint(),window.print()},s=(0,l.btnMain)({onclick:i},"Print"),d=((0,l.btn)({onclick:function(){n.binder.autorun?window.history.back():n.binder.cancel()}},"Done"),[(0,l.option)({value:"size_page"},"Auto"),(0,l.option)({value:"size_page_bleed"},"Auto + Bleed"),(0,l.option)({value:"size_page_marks",selected:!0},"Auto + Marks"),(0,l.option)({value:"size_letter_p"},"Letter Portrait"),(0,l.option)({value:"size_letter_l"},"Letter Landscape")]),c=l.select.apply(void 0,d),f=function(){var e="arrange_one"===r.printArrange?"Page":"Spread";d[0].textContent=""+e,d[1].textContent=e+" + Bleed",d[2].textContent=e+" + Marks"};f();var p=(0,l.row)("Sheet is too small to see marks · ",(0,a.default)("a",{href:"#",onclick:function(){c.value="size_page_marks",h()}},"Change"));p.style.color="rgba(0,0,0,0.4)";var h=function(){var e=c.value,t="size_page"===e||"size_page_bleed"===e;p.style.display=t?"block":"none",r.setSheetSize(e),n.binder.pageSetup.updateStylesheet()};c.addEventListener("change",h);var g=(0,l.row)("Sheet Size",c),b=(0,l.select)((0,l.option)({value:"arrange_one",selected:!0},"1 Page / Sheet"),(0,l.option)({value:"arrange_two"},"1 Spread / Sheet"),(0,l.option)({value:"arrange_booklet"},"Booklet Order"),(0,l.option)({disabled:!0},"Grid"),(0,l.option)({disabled:!0},"Signatures"));b.addEventListener("change",function(){r.setPrintArrange(b.value),f()});var m=(0,l.row)("Layout",b),v=(0,l.select)((0,l.option)({value:"marks_none"},"None"),(0,l.option)({value:"marks_crop",selected:!0},"Crop"),(0,l.option)({value:"marks_bleed"},"Bleed"),(0,l.option)({value:"marks_both"},"Crop and Bleed")),y=(0,l.row)("Marks",v);v.addEventListener("change",function(){switch(v.value){case"marks_none":r.isShowingCropMarks=!1,r.isShowingBleedMarks=!1;break;case"marks_crop":r.isShowingCropMarks=!0,r.isShowingBleedMarks=!1;break;case"marks_bleed":r.isShowingCropMarks=!1,r.isShowingBleedMarks=!0;break;case"marks_both":r.isShowingCropMarks=!0,r.isShowingBleedMarks=!0}});var w=(0,a.default)("div",{style:{display:"none",color:"#e2b200"}},"Too Small"),k=function(){L.style.display="none",C.style.display="none",n.binder.makeBook(function(){L.style.display="",C.style.display=""})},x=[(0,l.viewMode)("grid",r.setGrid,"Grid"),(0,l.viewMode)("outline",r.setOutline,"Outline"),(0,l.viewMode)("flip",r.setFlip,"Flip"),(0,l.viewMode)("print",r.setPrint,"Sheet")],_=a.default.apply(void 0,[(0,u.default)(".viewswitcher")].concat(x)),O=(0,a.default)("span","Loading"),L=(0,a.default)("a",{onclick:function(){n.binder.debug=!1,k()}},"Refresh");L.classList.add((0,u.default)("refresh"));var C=(0,a.default)("a","Debug",{onclick:function(){M.style.display="none",E.style.display="none",S.style.display="",n.binder.debug=!0,k()}}),P=(0,l.title)((0,a.default)((0,u.default)(".spinner")),O,(0,a.default)((0,u.default)(".refresh-btns"),L,C));this.setInProgress=function(){O.textContent="Paginating",w.style.display="none"},this.updateProgress=function(e){O.textContent=e+" Pages"},this.setDone=function(){O.textContent=r.book.pages.length+" Pages",w.style.display="none"},this.setInvalid=function(){w.style.display=""};var M=void 0,E=(0,l.btn)("→",{style:{display:"none"},onclick:function(){return window.binderyDebug.step()}}),S=(0,l.btn)("❙❙",{onclick:function(){window.binderyDebug.pause(),S.style.display="none",M.style.display="",E.style.display=""}});M=(0,l.btn)("▶️",{style:{display:"none"},onclick:function(){window.binderyDebug.resume(),M.style.display="none",S.style.display="",E.style.display="none"}});var j=(0,l.btn)("Finish",{onclick:function(){window.binderyDebug.finish()}}),T=(0,l.row)(S,M,E,j);T.classList.add((0,u.default)("debug-controls")),s.classList.add((0,u.default)("btn-print")),this.element=(0,a.default)((0,u.default)(".controls"),P,_,m,g,y,T,(0,l.row)(s))};t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.viewMode=t.inputNumberUnits=t.option=t.select=t.btnMain=t.btnLight=t.btn=t.heading=t.row=t.title=void 0;var o=n(1),i=r(o),a=n(0),s=r(a),u=n(5),l=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,[(0,s.default)(".title")].concat(t))},d=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,[(0,s.default)(".heading")].concat(t))},c=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,[(0,s.default)(".row")].concat(t))},f=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,["button."+(0,s.default)("btn")].concat(t))},p=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,["button."+(0,s.default)("btn")+"."+(0,s.default)("btn-light")].concat(t))},h=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,["button."+(0,s.default)("btn")+"."+(0,s.default)("btn-main")].concat(t))},g=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,["select"].concat(t))},b=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,["option"].concat(t))},m=function(e){return(0,i.default)("input",{type:"text",value:e,pattern:u.cssNumberPattern})},v=function(e,t,n){var r="."+(0,s.default)("viewmode")+"."+(0,s.default)(e);return(0,i.default)(r,{onclick:t},(0,i.default)((0,s.default)(".icon")),n)};t.title=l,t.row=c,t.heading=d,t.btn=f,t.btnLight=p,t.btnMain=h,t.select=g,t.option=b,t.inputNumberUnits=m,t.viewMode=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)((0,s.default)(".error"),(0,i.default)((0,s.default)(".error-title"),e),(0,i.default)((0,s.default)(".error-text"),t),(0,i.default)((0,s.default)(".error-footer"),"Bindery 2.0.0-alpha.8.1"))};var o=n(1),i=r(o),a=n(0),s=r(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function(e){for(;e.length%4!=0;){var t=new o.default;t.element.style.visibility="hidden",e.push(t)}for(var n=[],r=e.length,i=0;i<r/2;i+=2)n.push(e[r-1-i]),n.push(e[i]),n.push(e[i+1]),n.push(e[r-2-i]);return n};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function(e){if(e.length%2!=0){var t=new o.default;e.push(t)}var n=new o.default,r=new o.default;return n.element.style.visibility="hidden",r.element.style.visibility="hidden",e.unshift(n),e.push(r),e};t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.flipLayout=t.printLayout=t.gridLayout=void 0;var o=n(35),i=r(o),a=n(36),s=r(a),u=n(38),l=r(u);t.gridLayout=i.default,t.printLayout=s.default,t.flipLayout=l.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(0),s=r(a),u=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,[(0,s.default)(".spread-wrapper")+(0,s.default)(".spread-size")].concat(t))},l=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,[(0,s.default)(".spread-wrapper")+(0,s.default)(".page-size")].concat(t))},d=function(e,t){var n=document.createDocumentFragment();if(t)for(var r=0;r<e.length;r+=2){var o=u(e[r].element,e[r+1].element);n.appendChild(o)}else e.forEach(function(e){var t=l(e.element);n.appendChild(t)});return n};t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(0),s=r(a),u=n(37),l=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,[(0,s.default)(".spread-wrapper")+(0,s.default)(".spread-size")].concat(t))},d=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,[(0,s.default)(".spread-wrapper")+(0,s.default)(".page-size")].concat(t))},c=function(e,t,n,r){var o=document.createDocumentFragment(),a=t?u.printMarksSpread:u.printMarksSingle,c=t?l:d,f=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,i.default)((0,s.default)(".print-page"),c.apply(void 0,t.concat([a()])))};if(t)for(var p=0;p<e.length;p+=2){var h=f(e[p].element,e[p+1].element);if(o.appendChild(h),r){var g=(0,u.bookletMeta)(p,e.length);h.appendChild(g)}}else e.forEach(function(e){var t=f(e.element);o.appendChild(t)});return o};t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.bookletMeta=t.printMarksSpread=t.printMarksSingle=void 0;var i=n(1),a=r(i),s=n(0),u=r(s),l=function(){return[(0,a.default)((0,u.default)(".bleed-top")),(0,a.default)((0,u.default)(".bleed-bottom")),(0,a.default)((0,u.default)(".bleed-left")),(0,a.default)((0,u.default)(".bleed-right"))]},d=function(){return[(0,a.default)((0,u.default)(".crop-top")),(0,a.default)((0,u.default)(".crop-bottom")),(0,a.default)((0,u.default)(".crop-left")),(0,a.default)((0,u.default)(".crop-right"))]},c=function(){return a.default.apply(void 0,[(0,u.default)(".print-mark-wrap")].concat(o(d()),o(l())))},f=function(){return a.default.apply(void 0,[(0,u.default)(".print-mark-wrap"),(0,a.default)((0,u.default)(".crop-fold"))].concat(o(d()),o(l())))},p=function(e,t){var n=e%4==0,r=parseInt((e+1)/4,10)+1;return(0,a.default)((0,u.default)(".print-meta"),"Sheet "+r+" of "+t/4+": "+(n?"Outside":"Inside"))};t.printMarksSingle=c,t.printMarksSpread=f,t.bookletMeta=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(0),s=r(a),u=function(e,t){var n=document.createDocumentFragment(),r=(0,i.default)((0,s.default)(".spread-size")+(0,s.default)(".flap-holder"));n.appendChild(r);var o=[],a=-1,u=4;e.length*u>60&&(u=60/e.length),r.style.width=e.length*u+"px";for(var l=function(e){var t=e;t===a&&(t+=1),a=t;var n=4;o.length*n>200&&(n=200/o.length),o.forEach(function(e,r,o){var i=(o.length-Math.abs(r-t+.5))*n;e.style.transform="translate3d("+(r<t?4:0)+"px,0,"+i+"px) rotateY("+(r<t?-180:0)+"deg)"})},d=0,c=1;c<e.length-1;c+=t?2:1)!function(n){d+=1;var a=d,c=(0,i.default)((0,s.default)(".page3d")+(0,s.default)(".page-size"),{onclick:function(){l(a-1)}}),f=e[n].element,p=void 0;f.classList.add((0,s.default)("page3d-front")),c.appendChild(f),t?(c.classList.add((0,s.default)("doubleSided")),p=e[n+1].element,p.classList.add((0,s.default)("page3d-back")),c.appendChild(p)):(p=(0,i.default)((0,s.default)(".page")+(0,s.default)(".page3d-back")),c.appendChild(p)),c.style.left=n*u+"px",o.push(c),r.appendChild(c)}(c);return l(0),n};t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=n(2),d=function(e){function t(e){r(this,t),e.toNext=e.toNext||"split-to-next",e.fromPrevious=e.fromPrevious||"split-from-previous";var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.name="Split",l.OptionType.validate(e,{selector:l.OptionType.string,toNext:l.OptionType.string,fromPrevious:l.OptionType.string}),n}return i(t,e),a(t,[{key:"customContinuesClass",get:function(){return this.toNext}},{key:"customContinuationClass",get:function(){return this.fromPrevious}}]),t}(u.default);t.default=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=n(2),d=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.selector="*",n.counterValue=0,l.OptionType.validate(e,{name:"Counter",replaceEl:l.OptionType.string,resetEl:l.OptionType.string,incrementEl:l.OptionType.string,replace:l.OptionType.func}),n}return i(t,e),a(t,[{key:"layoutStart",value:function(){this.counterValue=0}},{key:"beforeAdd",value:function(e,t){return e.matches(this.incrementEl)&&(this.counterValue+=1),e.matches(this.resetEl)&&(this.counterValue=0),e.matches(this.replaceEl)?this.createReplacement(t,e):e}},{key:"createReplacement",value:function(e,t){return this.replace(t,this.counterValue)}},{key:"replace",value:function(e,t){return e.textContent=t,e}}]),t}(u.default);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),d=n(9),c=r(d),f=n(2),p=n(0),h=r(p),g=function(e){function t(e){o(this,t),e.continue=e.continue||"same",e.rotate=e.rotate||"none";var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.name="Full Bleed Spread",f.OptionType.validate(e,{selector:f.OptionType.string,continue:f.OptionType.enum("next","same","left","right"),rotate:f.OptionType.enum("none","clockwise","counterclockwise")}),n}return a(t,e),s(t,[{key:"createOutOfFlowPages",value:function(e,t,n){var r=this;e.parentNode.removeChild(e);var o=void 0;t.currentPage.isEmpty?o=t.currentPage:(o=n(),t.pages.push(o));var i=n();t.pages.push(i),"none"!==this.rotate&&[o,i].forEach(function(e){var t=(0,l.default)((0,h.default)(".rotate-container"));t.classList.add((0,h.default)("spread-size-rotated")),t.classList.add((0,h.default)("rotate-spread-"+r.rotate)),t.appendChild(e.background),e.element.appendChild(t)}),o.background.appendChild(e),o.element.classList.add((0,h.default)("spread")),o.setPreference("left"),o.isOutOfFlow="same"===this.continue,o.hasOutOfFlowContent=!0,i.background.appendChild(e.cloneNode(!0)),i.element.classList.add((0,h.default)("spread")),i.setPreference("right"),i.isOutOfFlow="same"===this.continue,i.hasOutOfFlowContent=!0}}]),t}(c.default);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),d=n(9),c=r(d),f=n(2),p=n(0),h=r(p),g=function(e){function t(e){o(this,t),e.continue=e.continue||"same",e.rotate=e.rotate||"none";var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.name="Full Bleed Page",f.OptionType.validate(e,{selector:f.OptionType.string,continue:f.OptionType.enum("next","same","left","right"),rotate:f.OptionType.enum("none","inward","outward","clockwise","counterclockwise")}),n}return a(t,e),s(t,[{key:"createOutOfFlowPages",value:function(e,t,n){e.parentNode.removeChild(e);var r=void 0;if(t.currentPage.isEmpty?r=t.currentPage:(r=n(),t.pages.push(r)),"none"!==this.rotate){var o=(0,l.default)((0,h.default)(".rotate-container"));o.classList.add((0,h.default)("page-size-rotated")),o.classList.add((0,h.default)("rotate-"+this.rotate)),o.appendChild(r.background),r.element.appendChild(o)}r.background.appendChild(e),r.hasOutOfFlowContent=!0}}]),t}(c.default);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},l=n(1),d=r(l),c=n(6),f=r(c),p=n(2),h=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.name="Footnote",p.OptionType.validate(e,{selector:p.OptionType.string,replace:p.OptionType.func,render:p.OptionType.func}),n}return a(t,e),s(t,[{key:"afterAdd",value:function(e,n,r,o,i){var a=n.currentPage.footer.children.length+1,s=(0,d.default)(".footnote"),l=this.render(e,a);return l instanceof HTMLElement?s.appendChild(l):s.innerHTML=l,n.currentPage.footer.appendChild(s),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"afterAdd",this).call(this,e,n,r,o,function(e){return n.currentPage.footer.removeChild(s),i(e)})}},{key:"createReplacement",value:function(e,t){var n=e.currentPage.footer.children.length;return this.replace(t,n)}},{key:"replace",value:function(e,t){return e.insertAdjacentHTML("beforeEnd",'<sup class="bindery-sup">'+t+"</sup>"),e}},{key:"render",value:function(e,t){return"<sup>"+t+"</sup> Default footnote (<a href='/bindery/docs/#footnote'>Learn how to change it</a>)"}}]),t}(f.default);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(6),l=r(u),d=n(2),c=n(0),f=r(c),p=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.name="Page Reference",d.OptionType.validate(e,{selector:d.OptionType.string,replace:d.OptionType.func,createTest:d.OptionType.func}),n}return a(t,e),s(t,[{key:"afterAdd",value:function(e,t){var n=this,r=this.createTest(e);if(r){var o=e.parentNode,i=e.cloneNode(!0),a=t.book.pagesForTest(r),s=(0,d.makeRanges)(a),u=this.replace(i,s||"###");return u.classList.add((0,f.default)("placeholder-pulse")),o.replaceChild(u,e),t.book.onComplete(function(){var o=u.parentNode,i=e.cloneNode(!0),a=t.book.pagesForTest(r),s=(0,d.makeRanges)(a),l=n.replace(i,s);o.replaceChild(l,u)}),u}return e}},{key:"createTest",value:function(e){var t=e.getAttribute("href");return t?(t=t.replace("#",""),t='[id="'+t+'"]',function(e){return e.querySelector(t)}):null}},{key:"replace",value:function(e,t){return e.insertAdjacentHTML("beforeend",", <span>"+t+"</span>"),e}}]),t}(l.default);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),d=n(3),c=r(d),f=n(2),p=n(0),h=r(p),g=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.name="Running Header",f.OptionType.validate(e,{render:f.OptionType.func}),n}return a(t,e),s(t,[{key:"eachPage",value:function(e){if(!e.runningHeader){var t=(0,l.default)((0,h.default)(".running-header"));e.element.appendChild(t),e.runningHeader=t}e.runningHeader.innerHTML=this.render(e)}},{key:"render",value:function(e){return e.number}}]),t}(c.default);t.default=g},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=n(2),d=function(e){function t(e){r(this,t),e.position=e.position||"before",e.continue=e.continue||"any";var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.name="Page Break",l.OptionType.validate(e,{selector:l.OptionType.string,continue:l.OptionType.enum("any","left","right"),position:l.OptionType.enum("before","after","both","avoid")}),n}return i(t,e),a(t,[{key:"beforeAdd",value:function(e,t,n){return"before"!==this.position&&"both"!==this.position||(t.currentPage.isEmpty||n(),"any"!==this.continue&&t.currentPage.setPreference(this.continue)),e}},{key:"afterAdd",value:function(e,t,n){if("after"===this.position||"both"===this.position){var r=n();"any"!==this.continue&&r.setPreference(this.continue)}return e}},{key:"avoidSplit",get:function(){return"avoid"===this.position}}]),t}(u.default);t.default=d},function(e,t,n){var r=n(48);"string"==typeof r&&(r=[[e.i,r,""]]);n(58)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(49)(),t.push([e.i,'@media screen{.📖-page{background:#fff;outline:1px solid rgba(0,0,0,.1);box-shadow:0 1px 3px rgba(0,0,0,.2);overflow:hidden}.📖-show-bleed .📖-page{box-shadow:none;outline:none;overflow:visible}.📖-page:after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;pointer-events:none;z-index:999}}li.📖-continuation,p.📖-continuation{text-indent:unset!important}li.📖-continuation{list-style:none!important}.📖-out-of-flow{display:none}.📖-page{width:200px;height:300px;position:relative;display:flex;flex-direction:column;flex-wrap:nowrap;margin:auto}.📖-flowbox{position:relative;margin:60px 40px;margin-bottom:0;flex:1 1 auto;min-height:0}.📖-content{padding:.1px;position:relative}.📖-footer{margin:60px 40px;margin-top:8pt;flex:0 1 auto;z-index:2}.📖-background{position:absolute;z-index:0;overflow:hidden}.📖-left>.📖-background{right:0}.📖-right>.📖-background{left:0}.📖-sup{font-size:.667em}.📖-footer,.📖-running-header{font-size:10pt}.📖-running-header{position:absolute;text-align:center;top:.25in}.📖-left .📖-running-header{left:18pt;text-align:left}.📖-right .📖-running-header{right:18pt;text-align:right}.📖-left .📖-rotate-container.📖-rotate-outward,.📖-left .📖-rotate-container.📖-rotate-spread-clockwise,.📖-right .📖-rotate-container.📖-rotate-inward,.📖-rotate-container.📖-rotate-clockwise{transform:rotate(90deg) translate3d(0,-100%,0);transform-origin:top left}.📖-left .📖-rotate-container.📖-rotate-inward,.📖-left .📖-rotate-container.📖-rotate-spread-counterclockwise,.📖-right .📖-rotate-container.📖-rotate-outward,.📖-rotate-container.📖-rotate-counterclockwise{transform:rotate(-90deg) translate3d(-100%,0,0);transform-origin:top left}.📖-rotate-container{position:absolute}.📖-left .📖-rotate-container.📖-rotate-clockwise .📖-background{bottom:0}.📖-left .📖-rotate-container.📖-rotate-counterclockwise .📖-background,.📖-right .📖-rotate-container.📖-rotate-clockwise .📖-background{top:0}.📖-right .📖-rotate-container.📖-rotate-counterclockwise .📖-background,.📖-rotate-container.📖-rotate-inward .📖-background{bottom:0}.📖-rotate-container.📖-rotate-outward .📖-background{top:0}.📖-right .📖-rotate-container.📖-rotate-spread-clockwise{transform:rotate(90deg) translate3d(0,-50%,0);transform-origin:top left}.📖-right .📖-rotate-container.📖-rotate-spread-counterclockwise{transform:rotate(-90deg) translate3d(-100%,-50%,0);transform-origin:top left}.📖-print-mark-wrap{display:none;position:absolute;pointer-events:none;top:0;bottom:0;left:0;right:0;z-index:999}.📖-show-bleed-marks .📖-print-mark-wrap,.📖-show-bleed-marks .📖-print-mark-wrap>[class*=bleed],.📖-show-crop .📖-print-mark-wrap,.📖-show-crop .📖-print-mark-wrap>[class*=crop]{display:block}.📖-print-mark-wrap>div{display:none;position:absolute;overflow:hidden}.📖-print-mark-wrap>div:after,.📖-print-mark-wrap>div:before{content:"";display:block;position:absolute}.📖-print-mark-wrap>div:before{top:0;left:0}.📖-print-mark-wrap>div:after{bottom:0;right:0}.📖-bleed-left,.📖-bleed-right,.📖-crop-fold,.📖-crop-left,.📖-crop-right{width:1px;margin:auto}.📖-bleed-left:after,.📖-bleed-left:before,.📖-bleed-right:after,.📖-bleed-right:before,.📖-crop-fold:after,.📖-crop-fold:before,.📖-crop-left:after,.📖-crop-left:before,.📖-crop-right:after,.📖-crop-right:before{width:1px;height:12pt;background-image:linear-gradient(90deg,#000 0,#000 51%,transparent 0);background-size:1px 100%}.📖-bleed-bottom,.📖-bleed-top,.📖-crop-bottom,.📖-crop-top{height:1px}.📖-bleed-bottom:after,.📖-bleed-bottom:before,.📖-bleed-top:after,.📖-bleed-top:before,.📖-crop-bottom:after,.📖-crop-bottom:before,.📖-crop-top:after,.📖-crop-top:before{width:12pt;height:1px;background-image:linear-gradient(180deg,#000 0,#000 51%,transparent 0);background-size:100% 1px}.📖-crop-fold{right:0;left:0}.📖-crop-left{left:0}.📖-crop-right{right:0}.📖-crop-top{top:0}.📖-crop-bottom{bottom:0}@media screen{.📖-viewing{background:#f4f4f4!important}.📖-root{transition:opacity .2s;opacity:1;padding:20px;position:relative;padding-right:280px;animation:fadeUp .3s;min-height:90vh}.📖-measure-area,.📖-root{background:#f4f4f4;z-index:99}.📖-measure-area{position:fixed;padding:50px 20px;visibility:hidden;left:0;right:0;bottom:0}.📖-measure-area .📖-page{margin:0 auto 50px}.📖-zoom-wrap *{transition:box-shadow .2s}.📖-show-guides .bindery-zoom-wrap *{box-shadow:inset 0 0 0 1px rgba(0,92,255,.2)}.📖-show-guides .📖-page:after{box-shadow:0 0 0 1px #f0f}.📖-show-guides .📖-flowbox,.📖-show-guides .📖-footer,.📖-show-guides .📖-running-header{box-shadow:0 0 0 1px cyan}.📖-show-guides .📖-content{box-shadow:inset 0 0 0 1px blue}.📖-show-guides .📖-background{box-shadow:0 0 0 1px #ff0}.📖-show-guides .📖-out-of-flow{display:block;outline:1px solid cyan}.📖-show-guides .📖-out-of-flow:after{font:10px/1.4 -apple-system,BlinkMacSystemFont,Roboto,sans-serif;content:attr(data-bindery);position:absolute;background:rgba(0,255,255,.5);padding:4px}.📖-show-guides .📖-right .📖-out-of-flow:after{left:100%}.📖-show-guides .📖-left .📖-out-of-flow:after{right:100%}.📖-is-overflowing{border-bottom:1px solid #f0f}.📖-print-page{margin:0 auto}.📖-error{font:16px/1.4 -apple-system,BlinkMacSystemFont,Roboto,sans-serif;margin:15vh 15vw;max-width:500px;padding-top:64px}.📖-error-title{font-size:1.5em;margin-bottom:16px}.📖-error-text{margin-bottom:16px;white-space:pre-line}.📖-error-footer{opacity:.5;font-size:.66em;text-transform:uppercase;letter-spacing:.02em}.📖-show-bleed .📖-print-page{background:#fff;outline:1px solid rgba(0,0,0,.1);box-shadow:0 1px 3px rgba(0,0,0,.2);margin:20px auto}.📖-placeholder-pulse{animation:pulse 1s infinite}}@keyframes fadeUp{0%{opacity:0}to{opacity:1}}@keyframes pulse{0%{opacity:.2}50%{opacity:.5}to{opacity:.2}}@page{margin:0}@media print{.📖-root *{-webkit-print-color-adjust:exact;color-adjust:exact}.📖-controls,.📖-viewing>:not(.📖-root){display:none!important}.📖-print-page{padding:1px;margin:0}.📖-zoom-wrap[style]{transform:none!important}}body.📖-viewing{margin:0}.📖-zoom-wrap{transform-origin:top left;transform-style:preserve-3d;height:calc(100vh - 40px)}.📖-viewing>:not(.📖-root):not(.📖-measure-area){display:none!important}.📖-print-page{page-break-after:always;position:relative;overflow:hidden;display:flex;align-items:center;justify-content:center}.📖-spread-wrapper{position:relative;display:flex;width:800px;margin:0 auto 50px}.📖-print-page .📖-spread-wrapper{margin:0 auto}.📖-print-meta{padding:12pt;text-align:center;font-family:-apple-system,BlinkMacSystemFont,Roboto,sans-serif;font-size:8pt}.📖-flap-holder{perspective:5000px;transform-style:preserve-3d}.📖-flap-holder,.📖-page3d{position:absolute;top:0;right:0;left:0;bottom:0;margin:auto}.📖-page3d{width:400px;height:600px;transform:rotateY(0);transform-style:preserve-3d;transform-origin:left;transition:transform .5s,box-shadow .1s}.📖-page3d:hover{box-shadow:2px 0 4px rgba(0,0,0,.2)}.📖-page3d.flipped{transform:rotateY(-180deg)}.📖-page3d .📖-page{position:absolute;backface-visibility:hidden;box-shadow:none}.📖-page3d .📖-page3d-front{transform:rotateY(0)}.📖-page3d .📖-page3d-back{transform:rotateY(-180deg)}@media screen{.📖-viewing .📖-controls{display:block!important}}.📖-controls{font:14px/1.4 -apple-system,BlinkMacSystemFont,Roboto,sans-serif;display:none;position:fixed;top:0;bottom:0;right:0;width:280px;z-index:999;margin:auto;color:#000;background:#f4f4f4;overflow:scroll;-webkit-font-smoothing:antialiased}.📖-controls *{font:inherit;color:inherit;margin:0;padding:0;box-sizing:border-box}.📖-controls a{color:#0000d0;text-decoration:none}.📖-title{padding:20px 20px 8px;font-size:18px}.📖-spinner{border:1px solid transparent;border-left-color:#000;width:20px;height:20px;border-radius:50%;display:inline-block;opacity:0;pointer-events:none;vertical-align:middle;transition:all .2s;margin-right:-20px}.📖-in-progress .📖-spinner{margin-right:.5em;opacity:1;animation:spin .6s linear infinite}.📖-debug .📖-spinner{animation:spin 2s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(1turn)}}.📖-controls .📖-btn{-webkit-appearance:none;padding:10px 18px;color:#000;border:none;background:transparent;border:1px solid gray;cursor:pointer;font-size:12px;letter-spacing:.01em;font-weight:500;display:inline-block;border-radius:4px;margin-right:8px;text-decoration:none}.📖-controls .📖-btn:focus{outline:none;box-shadow:0 1px 3px rgba(0,0,0,.2)}.📖-controls .📖-btn:hover{background:rgba(0,0,0,.1)}.📖-controls .📖-btn:active{background:rgba(0,0,0,.14)}.📖-controls .📖-btn:last-child{margin-right:0}.📖-controls .📖-btn-light{background:none;border:none}.📖-controls .📖-btn-main{margin-top:4px;background:#0000d0;border-color:#0000d0;color:#fff}.📖-controls .📖-btn-main:hover{background:#0000d0;opacity:.7}.📖-controls .📖-btn-main:active{background:#000;opacity:1}.📖-in-progress .📖-btn-print{opacity:.5;pointer-events:none}.📖-debug .📖-btn-print{display:none}.📖-viewswitcher{user-select:none;margin:20px;position:fixed;bottom:0;right:0;font-size:0;overflow:hidden;width:240px;max-width:240px;border:1px solid gray;border-radius:4px}.📖-viewmode{display:inline-block;color:gray;cursor:pointer;width:25%;font-size:0;border-right:1px solid gray}.📖-viewmode:last-child{border-right:0}.📖-viewmode:hover{background:rgba(0,0,0,.04)}.📖-viewmode .📖-icon{height:36px;width:32px;background:currentColor;margin:0 auto}.📖-viewmode.📖-grid .📖-icon{-webkit-mask:url('+n(50)+") no-repeat 50% 50%}[bindery-view-mode=grid] .📖-viewmode.📖-grid .📖-icon{-webkit-mask-image:url("+n(51)+")}.📖-viewmode.📖-flip .📖-icon{-webkit-mask:url("+n(52)+") no-repeat 50% 50%}[bindery-view-mode=interactive] .📖-viewmode.📖-flip .📖-icon{-webkit-mask-image:url("+n(53)+")}.📖-viewmode.📖-outline .📖-icon{-webkit-mask:url("+n(54)+") no-repeat 50% 50%}[bindery-view-mode=outline] .📖-viewmode.📖-outline .📖-icon{-webkit-mask-image:url("+n(55)+")}.📖-viewmode.📖-print .📖-icon{-webkit-mask:url("+n(56)+") no-repeat 50% 50%}[bindery-view-mode=print] .📖-viewmode.📖-print .📖-icon{-webkit-mask-image:url("+n(57)+")}[bindery-view-mode=grid] .📖-grid,[bindery-view-mode=interactive] .📖-flip,[bindery-view-mode=outline] .📖-outline,[bindery-view-mode=print] .📖-print{color:#fff;background:gray}.📖-row{position:relative;display:block;padding:8px 12px;margin:0 8px;cursor:default;user-select:none}.📖-row:last-child{margin-top:8px}.📖-row select{position:absolute;border:none;background:transparent;padding:8px 12px;width:60%;top:8px;right:12px}.📖-row select:hover{background:rgba(0,0,0,.04)}.📖-row input{width:85px;padding:4px 6px 4px 8px;text-align:right;border:none;position:absolute;top:0;right:0;height:100%;width:100%;color:#000;background:none}.📖-row input:focus{outline:none;background:rgba(0,0,0,.04)}.📖-row input:invalid{color:#bf5656}.📖-row.📖-debug-controls{display:none}.📖-debug .📖-in-progress .📖-row.📖-debug-controls{display:block}.📖-refresh-btns{display:inline-block;font-size:12px;margin-top:8px;float:right}.📖-refresh-btns a{color:rgba(0,0,0,.4);margin-left:1em;cursor:pointer}.📖-refresh-btns a:hover{color:#000}@media (max-width:600px){.📖-root{padding-right:0}.📖-zoom-wrap>:last-child{margin-bottom:100vh}.📖-controls{box-shadow:0 0 2px rgba(0,0,0,.3);left:0;width:unset;padding-bottom:12px;top:unset}.📖-viewswitcher{z-index:1;left:0;right:160px;width:unset}.📖-controls>.📖-row:last-child{text-align:right}}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cg stroke='%23000000' fill='none' fill-rule='evenodd'%3E%3Cpath d='M.5.5H11.5V15.5H.5zM11.5.5H22.5V15.5H11.5z' transform='translate(5 8)'/%3E%3C/g%3E%3C/svg%3E\""},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23000000' fill-rule='evenodd'%3E%3Cpath d='M5 8H16V24H5zM17 8H28V24H17z'/%3E%3C/g%3E%3C/svg%3E\""},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cg stroke='%23000000' fill='none' fill-rule='evenodd'%3E%3Cpath d='M0.5 0.5H11.5V15.5H0.5z' transform='translate(5 8)'/%3E%3Cpath d='M22.5,15.5 L22.5,0.5' stroke-linecap='square' transform='translate(5 8)'/%3E%3Cpath d='M16.5,8.5 L16.5,23.5 L16.9093327,23.5 L24.5,20.6534998 L24.5,5.72150023 L17.1755617,8.46816459 L17,8.5 L16.5,8.5 Z'/%3E%3Cpath d='M27.5 23.5L16.5 23.5M24.5 8.5L27.5 8.5' stroke-linecap='square'/%3E%3C/g%3E%3C/svg%3E\""},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M21,3 L23,3 L23,19 L14.8480012,19 L21,16.6930005 L21,3 Z M0,3 L11,3 L11,19 L0,19 L0,3 Z M12,3 L20,0 L20,16 L12,19 L12,3 Z' transform='translate(5 5)' fill='%23000000' fill-rule='evenodd'/%3E%3C/svg%3E\""},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg stroke='%23000000'%3E%3Cpath d='M.5.5H11.5V15.5H.5zM11.5.5H22.5V15.5H11.5z' transform='translate(5 8)'/%3E%3C/g%3E%3Cpath stroke='%23000000' d='M8.5 13.5H13.5V20.5H8.5z'/%3E%3Cpath fill='%23000000' d='M8 11H14V12H8z'/%3E%3Cpath stroke='%23000000' d='M19.5 13.5H24.5V20.5H19.5z'/%3E%3Cpath fill='%23000000' d='M19 11H25V12H19z'/%3E%3C/g%3E%3C/svg%3E\""},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M5,8 L16,8 L16,24 L5,24 L5,8 Z M17,8 L28,8 L28,24 L17,24 L17,8 Z M8,13 L8,21 L14,21 L14,13 L8,13 Z M8,11 L8,12 L14,12 L14,11 L8,11 Z M19,13 L19,21 L25,21 L25,13 L19,13 Z M19,11 L19,12 L25,12 L25,11 L19,11 Z M9,20 L9,14 L13,14 L13,20 L9,20 Z M20,20 L20,14 L24,14 L24,20 L20,20 Z' fill='%23000000' fill-rule='evenodd'/%3E%3C/svg%3E\""},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cg stroke='%23000000' fill='none' fill-rule='evenodd'%3E%3Cpath d='M8.5 6.5H24.5V25.5H8.5z'/%3E%3Cpath d='M22.5 21.5L24.5 21.5M8.5 21.5L10.5 21.5M8.5 10.5L10.5 10.5M22.5 10.5L24.5 10.5M20.5 23.5L20.5 25.5M12.5 23.5L12.5 25.5M20.5 6.5L20.5 8.5M12.5 6.5L12.5 8.5' stroke-linecap='square'/%3E%3C/g%3E%3C/svg%3E\""},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M13,7 L20,7 L20,9 L21,9 L21,7 L24,7 L24,10 L22,10 L22,11 L24,11 L24,21 L22,21 L22,22 L24,22 L24,25 L21,25 L21,23 L20,23 L20,25 L13,25 L13,23 L12,23 L12,25 L9,25 L9,22 L11,22 L11,21 L9,21 L9,11 L11,11 L11,10 L9,10 L9,7 L12,7 L12,9 L13,9 L13,7 Z' fill='%23000000' fill-rule='evenodd'/%3E%3C/svg%3E\""},function(e,t){function n(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=f[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(u(r.parts[i],t))}else{for(var a=[],i=0;i<r.parts.length;i++)a.push(u(r.parts[i],t));f[r.id]={id:r.id,refs:1,parts:a}}}}function r(e){for(var t=[],n={},r=0;r<e.length;r++){var o=e[r],i=o[0],a=o[1],s=o[2],u=o[3],l={css:a,media:s,sourceMap:u};n[i]?n[i].parts.push(l):t.push(n[i]={id:i,parts:[l]})}return t}function o(e,t){var n=g(),r=v[v.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),v.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function i(e){e.parentNode.removeChild(e);var t=v.indexOf(e);t>=0&&v.splice(t,1)}function a(e){var t=document.createElement("style");return t.type="text/css",o(e,t),t}function s(e){var t=document.createElement("link");return t.rel="stylesheet",o(e,t),t}function u(e,t){var n,r,o;if(t.singleton){var u=m++;n=b||(b=a(t)),r=l.bind(null,n,u,!1),o=l.bind(null,n,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(t),r=c.bind(null,n),o=function(){i(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(t),r=d.bind(null,n),o=function(){i(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}function l(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function d(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function c(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}var f={},p=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},h=p(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),g=p(function(){return document.head||document.getElementsByTagName("head")[0]}),b=null,m=0,v=[];e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},void 0===t.singleton&&(t.singleton=h()),void 0===t.insertAt&&(t.insertAt="bottom");var o=r(e);return n(o,t),function(e){for(var i=[],a=0;a<o.length;a++){var s=o[a],u=f[s.id];u.refs--,i.push(u)}if(e){n(r(e),t)}for(var a=0;a<i.length;a++){var u=i[a];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete f[u.id]}}}};var y=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()}]);
//# sourceMappingURL=bindery.min.js.map 